{"version":3,"sources":["webpack:///./src/bootstrap.js","webpack:///./src/components/store/modules/transactions/create.js","webpack:///./src/components/store/modules/transactions/edit.js","webpack:///./src/components/store/modules/dashboard/index.js","webpack:///./src/components/store/modules/root.js","webpack:///./src/components/store/modules/accounts/index.js","webpack:///./src/components/store/index.js","webpack:///./src/i18n.js","webpack:///./src/components/dashboard/Dashboard.vue","webpack:///./src/components/dashboard/Dashboard.vue?6909","webpack:///./src/components/dashboard/TopBoxes.vue","webpack:///./src/components/dashboard/TopBoxes.vue?e88f","webpack:///./src/components/dashboard/MainAccount.vue","webpack:///./src/components/charts/DataConverter.vue","webpack:///./src/components/charts/DataConverter.vue?8835","webpack:///./src/components/charts/DefaultLineOptions.vue","webpack:///./src/components/charts/DefaultLineOptions.vue?0505","webpack:///./src/components/dashboard/MainAccount.vue?8547","webpack:///./src/components/dashboard/MainAccountList.vue","webpack:///./src/components/dashboard/MainAccountList.vue?264c","webpack:///./src/components/dashboard/MainBillsList.vue","webpack:///./src/components/dashboard/MainBillsList.vue?3c02","webpack:///./src/components/dashboard/MainBudgetList.vue","webpack:///./src/components/dashboard/BudgetListGroup.vue","webpack:///./src/components/dashboard/BudgetLimitRow.vue","webpack:///./src/components/dashboard/BudgetLimitRow.vue?4bc5","webpack:///./src/components/dashboard/BudgetRow.vue","webpack:///./src/components/dashboard/BudgetRow.vue?a292","webpack:///./src/components/dashboard/BudgetListGroup.vue?e6b0","webpack:///./src/components/dashboard/MainBudgetList.vue?b588","webpack:///./src/components/dashboard/MainCreditList.vue","webpack:///./src/components/dashboard/MainCreditList.vue?04d0","webpack:///./src/components/dashboard/MainDebitList.vue","webpack:///./src/components/dashboard/MainDebitList.vue?022f","webpack:///./src/components/dashboard/MainPiggyList.vue","webpack:///./src/components/dashboard/MainPiggyList.vue?2144","webpack:///./src/components/transactions/TransactionListLarge.vue","webpack:///./src/components/transactions/TransactionListLarge.vue?85b5","webpack:///./src/components/transactions/TransactionListMedium.vue","webpack:///./src/components/transactions/TransactionListMedium.vue?c136","webpack:///./src/components/transactions/TransactionListSmall.vue","webpack:///./src/components/transactions/TransactionListSmall.vue?6c78","webpack:///./src/components/dashboard/MainCategoryList.vue","webpack:///./src/components/dashboard/MainCategoryList.vue?d5c3","webpack:///./src/pages/dashboard.js","webpack:///./src/shared/transactions.js","webpack:///./src/components/dashboard/Calendar.vue?a581","webpack:///./src/components/dashboard/Calendar.vue","webpack:///./src/components/dashboard/Calendar.vue?70fc","webpack:///./src/components/dashboard/Calendar.vue?19ac"],"names":["window","$","jQuery","require","axios","defaults","headers","common","token","document","head","querySelector","content","console","error","localeToken","localStorage","locale","vuei18n","VueI18n","uiv","Vue","lodashClonedeep","namespaced","state","transactionType","groupTitle","transactions","customDateFields","interest_date","book_date","process_date","due_date","payment_date","invoice_date","defaultTransaction","getDefaultTransaction","defaultErrors","getDefaultErrors","getters","accountToTransaction","sourceAllowedTypes","destinationAllowedTypes","allowedOpposingTypes","actions","mutations","addTransaction","newTransaction","errors","push","resetErrors","payload","index","resetTransactions","setGroupTitle","setCustomDateFields","deleteTransaction","splice","length","setTransactionType","setAllowedOpposingTypes","setAccountToTransaction","updateField","field","value","setTransactionError","setDestinationAllowedTypes","setSourceAllowedTypes","viewRange","start","end","defaultStart","defaultEnd","initialiseStore","context","dispatch","get","then","response","data","attributes","oldViewRange","commit","restoreViewRangeDates","viewRangeStart","Date","viewRangeEnd","viewRangeDefaultStart","viewRangeDefaultEnd","restoreViewRange","getItem","setDatesFromViewRange","today","startOfDay","endOfDay","startOfWeek","weekStartsOn","endOfWeek","startOfMonth","endOfMonth","startOfQuarter","endOfQuarter","getMonth","setMonth","setDate","setStart","setItem","setEnd","setDefaultStart","setDefaultEnd","setViewRange","range","listPageSize","timezone","cacheKey","age","object","JSON","parse","now","parseInt","refreshCacheKey","Array","N","join","Math","random","toString","slice","stringify","setCacheKey","setListPageSize","number","setTimezone","orderMode","activeFilter","setOrderMode","setActiveFilter","Vuex","modules","root","root_store","create","transactions_create","edit","transactions_edit","accounts","accounts_index","dashboard","dashboard_index","strict","process","plugins","currencyPreference","setCurrencyPreference","currencyCode","code","currencyId","id","updateCurrencyPreference","currencyResponse","name","symbol","decimal_places","err","module","exports","documentElement","lang","fallbackLocale","messages","class","style","mapGetters","mapState","mapActions","mapMutations","props","summary","balances","billsPaid","billsUnpaid","leftToSpend","netWorth","loading","ready","computed","this","prefCurrencyBalances","filterOnCurrency","notPrefCurrencyBalances","filterOnNotCurrency","prefBillsUnpaid","notPrefBillsUnpaid","prefLeftToSpend","notPrefLeftToSpend","prefNetWorth","notPrefNetWorth","$store","watch","datesReady","prepareComponent","created","methods","array","ret","key","hasOwnProperty","currency_id","startStr","format","endStr","buildComponent","getBalanceEntries","getBillsEntries","getLeftToSpend","getNetWorth","hasCurrency","getKeyedEntries","expected","result","substr","$t","balance","title","sub_title","value_parsed","bill","left","nw","ref","width","height","href","dataSet","newDataSet","local","convertChart","labels","datasets","getLabels","getDataSets","colorizeBarData","fillColors","setKey","dataset","fill","backgroundColor","borderColor","colorizeLineData","convertLabelsToDate","labelKey","unixTimeZero","Intl","DateTimeFormat","firstSet","entryLabel","entries","newSet","oldSet","label","type","currency_symbol","currency_code","formatLabel","str","maxwidth","sections","words","String","split","temp","forEach","item","concat","getDefaultOptions","responsive","maintainAspectRatio","legend","display","animations","elements","line","cubicInterpolationMode","scales","x","grid","ticks","callback","values","dateObj","getLabelForValue","year","month","day","y","suggestedMin","Chart","Object","filter","chartClass","components","initialised","dataCollection","chartOptions","_chart","DefaultLineOptions","initialiseChart","updateChart","url","chartData","DataConverter","drawChart","log","update","$refs","canvas","getContext","options","initialiseList","loadAccounts","accountIds","test","include","current_balance","loadSingleAccount","accountId","account","loadTransactions","parseFloat","NumberFormat","account_id","scope","bills","initialiseBills","loadBills","renderPaidDate","obj","dateStr","date","transaction_group_id","active","pay_dates","amount_min","object_group_title","paid_dates","paidDate","payDate","budgetLimit","default","budget","budget_id","budget_name","pctGreen","role","spent","amount","pctOrange","pctRed","BudgetLimitRow","BudgetRow","budgetLimits","budgets","BudgetListGroup","budgetList","daily","weekly","monthly","quarterly","half_year","yearly","other","rawBudgets","getBudgets","parseBudgets","i","current","ii","spentData","sum","getBudgetLimits","parseBudgetLimits","included","currentId","budgetId","spentFloat","spentFloatPos","period","filterBudgets","income","max","getIncome","parseIncome","pct","difference_float","sort","a","b","entry","expenses","min","getExpenses","parseExpenses","mainKey","piggy_banks","loadPiggyBanks","piggy","left_to_save","current_amount","target_amount","Number","transaction","group_title","description","tr","destination_id","destination_name","source_id","source_name","category_id","category_name","categories","sortedList","earned","getCategories","getCategoryPage","page","currentPage","meta","pagination","current_page","totalPages","total_pages","parseCategories","nextPage","sortCategories","entryKey","categoryId","spentPct","earnedPct","earnedData","one","two","category","TransactionListLarge","TransactionListMedium","TransactionListSmall","Dashboard","TopBoxes","MainAccount","MainAccountList","MainBillsList","MainBudgetList","MainCategoryList","MainDebitList","MainCreditList","MainPiggyList","i18n","store","el","render","createElement","beforeCreate","Calendar","source","destination","currency","foreign_currency","foreign_amount","custom_dates","tags","piggy_bank","internal_reference","external_url","notes","location","transaction_journal_id","source_account_id","source_account_name","source_account_type","source_account_currency_id","source_account_currency_code","source_account_currency_symbol","destination_account_id","destination_account_name","destination_account_type","destination_account_currency_id","destination_account_currency_code","destination_account_currency_symbol","attachments","selectedAttachments","uploadTrigger","clearTrigger","source_account","name_with_balance","currency_name","currency_decimal_places","destination_account","foreign_currency_id","bill_id","piggy_bank_id","external_id","links","zoom_level","longitude","latitude","___CSS_LOADER_EXPORT___","rows","mode","inputValue","inputEvents","isDragging","togglePopover","resetDate","periods","customDate","defaultRange","generatePeriods","generateDaily","subDays","toDateString","addDays","generateWeekly","dateFormat","generateMonthly","subMonths","addMonths","generateQuarterly","subQuarters","addQuarters","generateHalfYearly","half","setFullYear","getFullYear","generateYearly","getDate"],"mappings":"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","file":"/public/js/dashboard.js","sourcesContent":["/*\n * bootstrap.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// // imports\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n'\nimport * as uiv from 'uiv';\n\n// export jquery for others scripts to use\nwindow.$ = window.jQuery = require('jquery');\n\n// axios\nwindow.axios = require('axios');\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n// CSRF\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]');\n\nif (token) {\n    window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n} else {\n    console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');\n}\n\n// locale\nlet localeToken = document.head.querySelector('meta[name=\"locale\"]');\n\nif (localeToken) {\n    localStorage.locale = localeToken.content;\n} else {\n    localStorage.locale = 'en_US';\n}\n\n// admin stuff\nrequire('jquery-ui');\nrequire('bootstrap'); // bootstrap CSS?\n\nrequire('admin-lte/dist/js/adminlte');\nrequire('overlayscrollbars');\n\n\n// vue\nwindow.vuei18n = VueI18n;\nwindow.uiv = uiv;\nVue.use(vuei18n);\nVue.use(uiv);\nwindow.Vue = Vue;","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst lodashClonedeep = require('lodash.clonedeep');\n\nimport {getDefaultTransaction, getDefaultErrors} from '../../../../shared/transactions';\n\n// initial state\nconst state = () => ({\n        transactionType: 'any',\n        groupTitle: '',\n        transactions: [],\n        customDateFields: {\n            interest_date: false,\n            book_date: false,\n            process_date: false,\n            due_date: false,\n            payment_date: false,\n            invoice_date: false,\n        },\n        defaultTransaction: getDefaultTransaction(),\n        defaultErrors: getDefaultErrors()\n    }\n)\n\n\n// getters\nconst getters = {\n    transactions: state => {\n        return state.transactions;\n    },\n    defaultErrors: state => {\n        return state.defaultErrors;\n    },\n    groupTitle: state => {\n        return state.groupTitle;\n    },\n    transactionType: state => {\n        return state.transactionType;\n    },\n    accountToTransaction: state => {\n// See reference nr. 1\n        // possible API point!!\n        return state.accountToTransaction;\n    },\n    defaultTransaction: state => {\n        return state.defaultTransaction;\n    },\n    sourceAllowedTypes: state => {\n        return state.sourceAllowedTypes;\n    },\n    destinationAllowedTypes: state => {\n        return state.destinationAllowedTypes;\n    },\n    allowedOpposingTypes: state => {\n        return state.allowedOpposingTypes;\n    },\n    customDateFields: state => {\n        return state.customDateFields;\n    }\n    // // `getters` is localized to this module's getters\n    // // you can use rootGetters via 4th argument of getters\n    // someGetter (state, getters, rootState, rootGetters) {\n    //     getters.someOtherGetter // -> 'foo/someOtherGetter'\n    //     rootGetters.someOtherGetter // -> 'someOtherGetter'\n    //     rootGetters['bar/someOtherGetter'] // -> 'bar/someOtherGetter'\n    // },\n\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    addTransaction(state) {\n        let newTransaction = lodashClonedeep(state.defaultTransaction);\n        newTransaction.errors = lodashClonedeep(state.defaultErrors);\n        state.transactions.push(newTransaction);\n    },\n    resetErrors(state, payload) {\n        //console.log('resetErrors for index ' + payload.index);\n        state.transactions[payload.index].errors = lodashClonedeep(state.defaultErrors);\n    },\n    resetTransactions(state) {\n        state.transactions = [];\n    },\n    setGroupTitle(state, payload) {\n        state.groupTitle = payload.groupTitle;\n    },\n    setCustomDateFields(state, payload) {\n        state.customDateFields = payload;\n    },\n    deleteTransaction(state, payload) {\n        state.transactions.splice(payload.index, 1);\n        // console.log('Deleted transaction ' + payload.index);\n        // console.log(state.transactions);\n        if (0 === state.transactions.length) {\n            // console.log('array is empty!');\n        }\n    },\n    setTransactionType(state, transactionType) {\n        state.transactionType = transactionType;\n    },\n    setAllowedOpposingTypes(state, allowedOpposingTypes) {\n        state.allowedOpposingTypes = allowedOpposingTypes;\n    },\n    setAccountToTransaction(state, payload) {\n        state.accountToTransaction = payload;\n    },\n    updateField(state, payload) {\n        state.transactions[payload.index][payload.field] = payload.value;\n    },\n    setTransactionError(state, payload) {\n        //console.log('Will set transactions[' + payload.index + '][errors][' + payload.field + '] to ');\n        //console.log(payload.errors);\n        state.transactions[payload.index].errors[payload.field] = payload.errors;\n    },\n    setDestinationAllowedTypes(state, payload) {\n        // console.log('Destination allowed types was changed!');\n        state.destinationAllowedTypes = payload;\n    },\n    setSourceAllowedTypes(state, payload) {\n        state.sourceAllowedTypes = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * edit.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => ({});\n\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {};\n\n// mutations\nconst mutations = {};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nimport startOfDay from \"date-fns/startOfDay\";\nimport endOfDay from 'date-fns/endOfDay'\nimport startOfWeek from 'date-fns/startOfWeek'\nimport endOfWeek from 'date-fns/endOfWeek'\nimport startOfQuarter from 'date-fns/startOfQuarter';\nimport endOfQuarter from 'date-fns/endOfQuarter';\nimport endOfMonth from \"date-fns/endOfMonth\";\nimport startOfMonth from 'date-fns/startOfMonth';\n\nconst state = () => (\n    {\n        viewRange: 'default',\n        start: null,\n        end: null,\n        defaultStart: null,\n        defaultEnd: null,\n    }\n)\n\n\n// getters\nconst getters = {\n    start: state => {\n        return state.start;\n    },\n    end: state => {\n        return state.end;\n    },\n    defaultStart: state => {\n        return state.defaultStart;\n    },\n    defaultEnd: state => {\n        return state.defaultEnd;\n    },\n    viewRange: state => {\n        return state.viewRange;\n    }\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        // console.log('initialiseStore for dashboard.');\n\n        // restore from local storage:\n        context.dispatch('restoreViewRange');\n\n        axios.get('./api/v1/preferences/viewRange')\n            .then(response => {\n                      let viewRange = response.data.data.attributes.data;\n                      let oldViewRange = context.getters.viewRange;\n                      context.commit('setViewRange', viewRange);\n                      if (viewRange !== oldViewRange) {\n                          // console.log('View range changed from \"' + oldViewRange + '\" to \"' + viewRange + '\"');\n                          context.dispatch('setDatesFromViewRange');\n                      }\n                      if (viewRange === oldViewRange) {\n                          // console.log('Restore view range dates');\n                          context.dispatch('restoreViewRangeDates');\n                      }\n                  }\n            ).catch(() => {\n            context.commit('setViewRange', '1M');\n            context.dispatch('setDatesFromViewRange');\n        });\n\n    },\n    restoreViewRangeDates: function (context) {\n        // check local storage first?\n        if (localStorage.viewRangeStart) {\n            // console.log('view range start set from local storage.');\n            context.commit('setStart', new Date(localStorage.viewRangeStart));\n        }\n        if (localStorage.viewRangeEnd) {\n            // console.log('view range end set from local storage.');\n            context.commit('setEnd', new Date(localStorage.viewRangeEnd));\n        }\n        // also set default:\n        if (localStorage.viewRangeDefaultStart) {\n            // console.log('view range default start set from local storage.');\n            // console.log(localStorage.viewRangeDefaultStart);\n            context.commit('setDefaultStart', new Date(localStorage.viewRangeDefaultStart));\n        }\n        if (localStorage.viewRangeDefaultEnd) {\n            // console.log('view range default end set from local storage.');\n            // console.log(localStorage.viewRangeDefaultEnd);\n            context.commit('setDefaultEnd', new Date(localStorage.viewRangeDefaultEnd));\n        }\n    },\n    restoreViewRange: function (context) {\n        // console.log('restoreViewRange');\n        let viewRange = localStorage.getItem('viewRange');\n        if (null !== viewRange) {\n            // console.log('restored restoreViewRange ' + viewRange );\n            context.commit('setViewRange', viewRange);\n        }\n    },\n    setDatesFromViewRange(context) {\n        let start;\n        let end;\n        let viewRange = context.getters.viewRange;\n        let today = new Date;\n        // console.log('Will recreate view range on ' + viewRange);\n        switch (viewRange) {\n            case '1D':\n                // today:\n                start = startOfDay(today);\n                end = endOfDay(today);\n                break;\n            case '1W':\n                // this week:\n                start = startOfDay(startOfWeek(today, {weekStartsOn: 1}));\n                end = endOfDay(endOfWeek(today, {weekStartsOn: 1}));\n                break;\n            case '1M':\n                // this month:\n                start = startOfDay(startOfMonth(today));\n                end = endOfDay(endOfMonth(today));\n                break;\n            case '3M':\n                // this quarter\n                start = startOfDay(startOfQuarter(today));\n                end = endOfDay(endOfQuarter(today));\n                break;\n            case '6M':\n                // this half-year\n                if (today.getMonth() <= 5) {\n                    start = new Date(today);\n                    start.setMonth(0);\n                    start.setDate(1);\n                    start = startOfDay(start);\n                    end = new Date(today);\n                    end.setMonth(5);\n                    end.setDate(30);\n                    end = endOfDay(start);\n                }\n                if (today.getMonth() > 5) {\n                    start = new Date(today);\n                    start.setMonth(6);\n                    start.setDate(1);\n                    start = startOfDay(start);\n                    end = new Date(today);\n                    end.setMonth(11);\n                    end.setDate(31);\n                    end = endOfDay(start);\n                }\n                break;\n            case '1Y':\n                // this year\n                start = new Date(today);\n                start.setMonth(0);\n                start.setDate(1);\n                start = startOfDay(start);\n\n                end = new Date(today);\n                end.setMonth(11);\n                end.setDate(31);\n                end = endOfDay(end);\n                break;\n        }\n        // console.log('Range is ' + viewRange);\n        // console.log('Start is ' + start);\n        // console.log('End is   ' + end);\n        context.commit('setStart', start);\n        context.commit('setEnd', end);\n        context.commit('setDefaultStart', start);\n        context.commit('setDefaultEnd', end);\n    }\n}\n\n// mutations\nconst mutations = {\n    setStart(state, value) {\n        state.start = value;\n        window.localStorage.setItem('viewRangeStart', value);\n    },\n    setEnd(state, value) {\n        state.end = value;\n        window.localStorage.setItem('viewRangeEnd', value);\n    },\n    setDefaultStart(state, value) {\n        state.defaultStart = value;\n        window.localStorage.setItem('viewRangeDefaultStart', value);\n    },\n    setDefaultEnd(state, value) {\n        state.defaultEnd = value;\n        window.localStorage.setItem('viewRangeDefaultEnd', value);\n    },\n    setViewRange(state, range) {\n        state.viewRange = range;\n        window.localStorage.setItem('viewRange', range);\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * root.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        listPageSize: 33,\n        timezone: '',\n        cacheKey: {\n            age: 0,\n            value: 'empty',\n        },\n    }\n)\n\n\n// getters\nconst getters = {\n    listPageSize: state => {\n        return state.listPageSize;\n    },\n    timezone: state => {\n        // console.log('Wil return ' + state.listPageSize);\n        return state.timezone;\n    },\n    cacheKey: state => {\n        return state.cacheKey.value;\n    },\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        // cache key auto refreshes every day\n        // console.log('Now in initialize store.')\n        if (localStorage.cacheKey) {\n            // console.log('Storage has cache key: ');\n            // console.log(localStorage.cacheKey);\n            let object = JSON.parse(localStorage.cacheKey);\n            if (Date.now() - object.age > 86400000) {\n                // console.log('Key is here but is old.');\n                context.commit('refreshCacheKey');\n            } else {\n                // console.log('Cache key from local storage: ' + object.value);\n                context.commit('setCacheKey', object);\n            }\n        } else {\n            // console.log('No key need new one.');\n            context.commit('refreshCacheKey');\n        }\n        if (localStorage.listPageSize) {\n            state.listPageSize = localStorage.listPageSize;\n            context.commit('setListPageSize', {length: localStorage.listPageSize});\n        }\n        if (!localStorage.listPageSize) {\n            axios.get('./api/v1/preferences/listPageSize')\n                .then(response => {\n                          // console.log('from API: listPageSize is ' + parseInt(response.data.data.attributes.data));\n                          context.commit('setListPageSize', {length: parseInt(response.data.data.attributes.data)});\n                      }\n                );\n        }\n        if (localStorage.timezone) {\n            state.timezone = localStorage.timezone;\n            context.commit('setTimezone', {timezone: localStorage.timezone});\n        }\n        if (!localStorage.timezone) {\n            axios.get('./api/v1/configuration/app.timezone')\n                .then(response => {\n                          context.commit('setTimezone', {timezone: response.data.data.value});\n                      }\n                );\n        }\n    }\n}\n\n// mutations\nconst mutations = {\n    refreshCacheKey(state) {\n        let age = Date.now();\n        let N = 8;\n        let cacheKey = Array(N+1).join((Math.random().toString(36)+'00000000000000000').slice(2, 18)).slice(0, N);\n        let object = {age: age, value: cacheKey};\n        // console.log('Store new key in string JSON');\n        // console.log(JSON.stringify(object));\n        localStorage.cacheKey = JSON.stringify(object);\n        state.cacheKey = {age: age, value: cacheKey};\n        // console.log('Refresh: cachekey is now ' + cacheKey);\n    },\n    setCacheKey(state, payload) {\n        // console.log('Stored cache key in localstorage.');\n        // console.log(payload);\n        // console.log(JSON.stringify(payload));\n        localStorage.cacheKey = JSON.stringify(payload);\n        state.cacheKey = payload;\n    },\n    setListPageSize(state, payload) {\n        // console.log('Got a payload in setListPageSize');\n        // console.log(payload);\n        let number = parseInt(payload.length);\n        if (0 !== number) {\n            state.listPageSize = number;\n            localStorage.listPageSize = number;\n        }\n    },\n    setTimezone(state, payload) {\n\n        if ('' !== payload.timezone) {\n            state.timezone = payload.timezone;\n            localStorage.timezone = payload.timezone;\n        }\n    },\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        orderMode: false,\n        activeFilter: 1\n    }\n)\n\n\n// getters\nconst getters = {\n    orderMode: state => {\n        return state.orderMode;\n    },\n    activeFilter: state => {\n        return state.activeFilter;\n    }\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    setOrderMode(state, payload) {\n        state.orderMode = payload;\n    },\n    setActiveFilter(state, payload) {\n        state.activeFilter = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport Vue from 'vue'\nimport Vuex, {createLogger} from 'vuex'\nimport transactions_create from './modules/transactions/create';\nimport transactions_edit from './modules/transactions/edit';\nimport dashboard_index from './modules/dashboard/index';\nimport root_store from './modules/root';\nimport accounts_index from './modules/accounts/index';\n\nVue.use(Vuex)\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store(\n    {\n        namespaced: true,\n        modules: {\n            root: root_store,\n            transactions: {\n                namespaced: true,\n                modules: {\n                    create: transactions_create,\n                    edit: transactions_edit\n                }\n            },\n            accounts: {\n                namespaced: true,\n                modules: {\n                    index: accounts_index\n                },\n            },\n            dashboard: {\n                namespaced: true,\n                modules: {\n                    index: dashboard_index\n                }\n            }\n        },\n        strict: debug,\n        plugins: debug ? [createLogger()] : [],\n        state: {\n            currencyPreference: {},\n            locale: 'en-US',\n            listPageSize: 50\n        },\n        mutations: {\n            setCurrencyPreference(state, payload) {\n                state.currencyPreference = payload.payload;\n            },\n            initialiseStore(state) {\n                // console.log('Now in initialiseStore()')\n                // if locale in local storage:\n                if (localStorage.locale) {\n                    state.locale = localStorage.locale;\n                    return;\n                }\n\n                // set locale from HTML:\n                let localeToken = document.head.querySelector('meta[name=\"locale\"]');\n                if (localeToken) {\n                    state.locale = localeToken.content;\n                    localStorage.locale = localeToken.content;\n                }\n            }\n        },\n        getters: {\n            currencyCode: state => {\n                return state.currencyPreference.code;\n            },\n            currencyPreference: state => {\n                return state.currencyPreference;\n            },\n            currencyId: state => {\n                return state.currencyPreference.id;\n            },\n            locale: state => {\n                return state.locale;\n            }\n            },\n        actions: {\n\n            updateCurrencyPreference(context) {\n                // console.log('Now in updateCurrencyPreference');\n                if (localStorage.currencyPreference) {\n                    context.commit('setCurrencyPreference', {payload: JSON.parse(localStorage.currencyPreference)});\n                    return;\n                }\n                axios.get('./api/v1/currencies/default')\n                    .then(response => {\n                        let currencyResponse = {\n                            id: parseInt(response.data.data.id),\n                            name: response.data.data.attributes.name,\n                            symbol: response.data.data.attributes.symbol,\n                            code: response.data.data.attributes.code,\n                            decimal_places: parseInt(response.data.data.attributes.decimal_places),\n                        };\n                        localStorage.currencyPreference = JSON.stringify(currencyResponse);\n                        //console.log('getCurrencyPreference from server')\n                        //console.log(JSON.stringify(currencyResponse));\n                        context.commit('setCurrencyPreference', {payload: currencyResponse});\n                    }).catch(err => {\n                    // console.log('Got error response.');\n                    console.error(err);\n                    context.commit('setCurrencyPreference', {\n                        payload: {\n                            id: 1,\n                            name: 'Euro',\n                            symbol: '',\n                            code: 'EUR',\n                            decimal_places: 2\n                        }\n                    });\n                });\n\n            }\n        }\n    }\n);","/*\n * i18n.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// Create VueI18n instance with options\nmodule.exports = new vuei18n({\n    locale: document.documentElement.lang, // set locale\n    fallbackLocale: 'en',\n    messages: {\n        'bg': require('./locales/bg.json'),\n        'cs': require('./locales/cs.json'),\n        'de': require('./locales/de.json'),\n        'en': require('./locales/en.json'),\n        'en-us': require('./locales/en.json'),\n        'en-gb': require('./locales/en-gb.json'),\n        'es': require('./locales/es.json'),\n        'el': require('./locales/el.json'),\n        'fr': require('./locales/fr.json'),\n        'hu': require('./locales/hu.json'),\n        //'id': require('./locales/id.json'),\n        'it': require('./locales/it.json'),\n        'nl': require('./locales/nl.json'),\n        'nb': require('./locales/nb.json'),\n        'pl': require('./locales/pl.json'),\n        'fi': require('./locales/fi.json'),\n        'pt-br': require('./locales/pt-br.json'),\n        'pt-pt': require('./locales/pt.json'),\n        'ro': require('./locales/ro.json'),\n        'ru': require('./locales/ru.json'),\n        //'zh': require('./locales/zh.json'),\n        'zh-tw': require('./locales/zh-tw.json'),\n        'zh-cn': require('./locales/zh-cn.json'),\n        'sk': require('./locales/sk.json'),\n        'sv': require('./locales/sv.json'),\n        'vi': require('./locales/vi.json'),\n    }\n});\n","<!--\n  - ExampleComponent.vue\n  - Copyright (c) 2019 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <top-boxes/>\n    <div class=\"row\">\n      <div class=\"col\">\n        <main-account/>\n      </div>\n    </div>\n    <main-account-list/>\n\n    <div class=\"row\">\n      <div class=\"col\">\n        <main-budget-list/>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col\">\n        <main-category-list/>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <main-debit-list/>\n      </div>\n      <div class=\"col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <main-credit-list/>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <main-piggy-list/>\n      </div>\n      <div class=\"col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <main-bills-list/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Dashboard\",\n}\n</script>\n","import { render } from \"./Dashboard.vue?vue&type=template&id=9d50d3a2\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - TopBoxes.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"row\">\n    <div class=\"col\" v-if=\"0 !== prefCurrencyBalances.length || 0 !== notPrefCurrencyBalances.length\">\n      <div class=\"info-box\">\n        <span class=\"info-box-icon\"><span class=\"far fa-bookmark text-info\"></span></span>\n\n        <div class=\"info-box-content\">\n          <span v-if=\"!loading && !error\" class=\"info-box-text\">{{ $t(\"firefly.balance\") }}</span>\n          <span v-if=\"loading && !error\" class=\"info-box-text\"><span class=\"fas fa-spinner fa-spin\"></span></span>\n          <span v-if=\"error\" class=\"info-box-text\"><span class=\"fas fa-exclamation-triangle text-danger\"></span></span>\n          <!-- balance in preferred currency -->\n          <span v-for=\"balance in prefCurrencyBalances\" :title=\"balance.sub_title\" class=\"info-box-number\">{{ balance.value_parsed }}</span>\n          <span v-if=\"0 === prefCurrencyBalances.length\" class=\"info-box-number\">&nbsp;</span>\n          <div class=\"progress bg-info\">\n            <div class=\"progress-bar\" style=\"width: 0\"></div>\n          </div>\n          <!-- balance in not preferred currency -->\n          <span class=\"progress-description\">\n                        <span v-for=\"(balance, index) in notPrefCurrencyBalances\" :title=\"balance.sub_title\">\n                          {{ balance.value_parsed }}<span v-if=\"index+1 !== notPrefCurrencyBalances.length\">, </span>\n                        </span>\n                      <span v-if=\"0===notPrefCurrencyBalances.length\">&nbsp;</span>\n                    </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col\" v-if=\"0!==prefBillsUnpaid.length || 0 !== notPrefBillsUnpaid.length\">\n      <div class=\"info-box\">\n        <span class=\"info-box-icon\"><span class=\"far fa-calendar-alt text-teal\"></span></span>\n\n        <div class=\"info-box-content\">\n          <span v-if=\"!loading && !error\" class=\"info-box-text\">{{ $t('firefly.bills_to_pay') }}</span>\n          <span v-if=\"loading && !error\" class=\"info-box-text\"><span class=\"fas fa-spinner fa-spin\"></span></span>\n          <span v-if=\"error\" class=\"info-box-text\"><span class=\"fas fa-exclamation-triangle text-danger\"></span></span>\n          <!-- bills unpaid, in preferred currency. -->\n          <span v-for=\"balance in prefBillsUnpaid\" class=\"info-box-number\">{{ balance.value_parsed }}</span>\n\n          <div class=\"progress bg-teal\">\n            <div class=\"progress-bar\" style=\"width: 0\"></div>\n          </div>\n          <!-- bills unpaid, in other currencies. -->\n          <span class=\"progress-description\">\n                            <span v-for=\"(bill, index) in notPrefBillsUnpaid\">\n                                {{ bill.value_parsed }}<span v-if=\"index+1 !== notPrefBillsUnpaid.length\">, </span>\n                            </span>\n                            <span v-if=\"0===notPrefBillsUnpaid.length\">&nbsp;</span>\n                    </span>\n        </div>\n      </div>\n    </div>\n    <!-- left to spend -->\n    <div class=\"col\" v-if=\"0 !== prefLeftToSpend.length || 0 !== notPrefLeftToSpend.length\">\n      <div class=\"info-box\">\n        <span class=\"info-box-icon\"><span class=\"fas fa-money-bill text-success\"></span></span>\n\n        <div class=\"info-box-content\">\n          <span v-if=\"!loading && !error\" class=\"info-box-text\">{{ $t('firefly.left_to_spend') }}</span>\n          <span v-if=\"loading && !error\" class=\"info-box-text\"><span class=\"fas fa-spinner fa-spin\"></span></span>\n          <span v-if=\"error\" class=\"info-box-text\"><span class=\"fas fa-exclamation-triangle text-danger\"></span></span>\n          <!-- left to spend in preferred currency -->\n          <span v-for=\"left in prefLeftToSpend\" :title=\"left.sub_title\" class=\"info-box-number\">{{ left.value_parsed }}</span>\n          <span v-if=\"0 === prefLeftToSpend.length\" class=\"info-box-number\">&nbsp;</span>\n\n          <div class=\"progress bg-success\">\n            <div class=\"progress-bar\" style=\"width: 0\"></div>\n          </div>\n          <!-- other currencies-->\n          <span class=\"progress-description\">\n                            <span v-for=\"(left, index) in notPrefLeftToSpend\">\n                                {{ left.value_parsed }}<span v-if=\"index+1 !== notPrefLeftToSpend.length\">, </span>\n                            </span>\n                            <span v-if=\"0===notPrefLeftToSpend.length\">&nbsp;</span>\n                    </span>\n        </div>\n      </div>\n    </div>\n\n    <!-- net worth -->\n    <div class=\"col\" v-if=\"0 !== notPrefNetWorth.length || 0 !== prefNetWorth.length\">\n      <div class=\"info-box\">\n        <span class=\"info-box-icon\"><span class=\"fas fa-money-bill text-success\"></span></span>\n\n        <div class=\"info-box-content\">\n          <span v-if=\"!loading && !error\" class=\"info-box-text\">{{ $t('firefly.net_worth') }}</span>\n          <span v-if=\"loading && !error\" class=\"info-box-text\"><span class=\"fas fa-spinner fa-spin\"></span></span>\n          <span v-if=\"error\" class=\"info-box-text\"><span class=\"fas fa-exclamation-triangle text-danger\"></span></span>\n          <span v-for=\"nw in prefNetWorth\" :title=\"nw.sub_title\" class=\"info-box-number\">{{ nw.value_parsed }}</span>\n          <span v-if=\"0===prefNetWorth.length\">&nbsp;</span>\n          <div class=\"progress bg-success\">\n            <div class=\"progress-bar\" style=\"width: 0\"></div>\n          </div>\n          <span class=\"progress-description\">\n                        <span v-for=\"(nw, index) in notPrefNetWorth\">\n                                {{ nw.value_parsed }}<span v-if=\"index+1 !== notPrefNetWorth.length\">, </span>\n                            </span>\n                            <span v-if=\"0===notPrefNetWorth.length\">&nbsp;</span>\n                    </span>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\nimport format from 'date-fns/format';\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\nexport default {\n  name: \"TopBoxes\",\n  props: {},\n  data() {\n    return {\n      summary: [],\n      balances: [],\n      billsPaid: [],\n      billsUnpaid: [],\n      leftToSpend: [],\n      netWorth: [],\n      loading: true,\n      error: false,\n      ready: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'start',\n                    'end'\n                  ]),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    },\n\n    // contains only balances with preferred currency.\n    prefCurrencyBalances: function () {\n      return this.filterOnCurrency(this.balances);\n    },\n    notPrefCurrencyBalances: function () {\n      return this.filterOnNotCurrency(this.balances);\n    },\n\n    // contains only bills unpaid in preferred currency or first one.\n    prefBillsUnpaid: function () {\n      return this.filterOnCurrency(this.billsUnpaid);\n    },\n    notPrefBillsUnpaid: function () {\n      return this.filterOnNotCurrency(this.billsUnpaid);\n    },\n\n    // left to spend\n    prefLeftToSpend: function () {\n      return this.filterOnCurrency(this.leftToSpend);\n    },\n    notPrefLeftToSpend: function () {\n      return this.filterOnNotCurrency(this.leftToSpend);\n    },\n\n    // net worth\n    prefNetWorth: function () {\n      return this.filterOnCurrency(this.netWorth);\n    },\n    notPrefNetWorth: function () {\n      return this.filterOnNotCurrency(this.netWorth);\n    },\n    currencyCode() {\n      return this.$store.getters.currencyCode;\n    },\n    currencyId() {\n      return this.$store.getters.currencyId;\n    }\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.prepareComponent();\n      }\n    },\n    start: function () {\n      if (false === this.loading) {\n        this.prepareComponent();\n      }\n    },\n    end: function () {\n      if (false === this.loading) {\n        this.prepareComponent();\n      }\n    },\n  },\n  created() {\n    this.ready = true;\n  },\n  methods: {\n    filterOnCurrency(array) {\n      let ret = [];\n      for (const key in array) {\n        if (array.hasOwnProperty(key)) {\n          // console.log('Currency ID seems to be ' + this.currencyId);\n          if (array[key].currency_id === this.currencyId) {\n            ret.push(array[key]);\n          }\n        }\n      }\n      // or just the first one:\n      if (0 === ret.length && array.hasOwnProperty(0)) {\n        ret.push(array[0]);\n      }\n      return ret;\n    },\n    filterOnNotCurrency(array) {\n      let ret = [];\n      for (const key in array) {\n        if (array.hasOwnProperty(key)) {\n          if (array[key].currency_id !== this.currencyId) {\n            ret.push(array[key]);\n          }\n        }\n      }\n      return ret;\n    },\n    /**\n     * Prepare the component.\n     */\n    prepareComponent() {\n      this.error = false;\n      this.loading = true;\n      this.summary = [];\n      this.balances = [];\n      this.billsPaid = [];\n      this.billsUnpaid = [];\n      this.leftToSpend = [];\n      this.netWorth = [];\n      let startStr = format(this.start, 'y-MM-dd');\n      let endStr = format(this.end, 'y-MM-dd');\n      //let startStr = this.start.toISOString().split('T')[0];\n      //let endStr = this.end.toISOString().split('T')[0];\n      //console.log(startStr);\n      //console.log(endStr);\n      axios.get('./api/v1/summary/basic?start=' + startStr + '&end=' + endStr)\n          .then(response => {\n            this.summary = response.data;\n            this.buildComponent();\n            this.loading = false\n          }).catch(error => {\n        this.error = true\n      });\n    },\n    buildComponent() {\n      this.getBalanceEntries();\n      this.getBillsEntries();\n      this.getLeftToSpend();\n      this.getNetWorth();\n    },\n\n    hasCurrency: function (array) {\n      for (const key in array) {\n        if (array.hasOwnProperty(key)) {\n          if (array[key].currency_id === this.currencyId) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n\n    getBalanceEntries() {\n      this.balances = this.getKeyedEntries('balance-in-');\n    },\n    getNetWorth() {\n      this.netWorth = this.getKeyedEntries('net-worth-in-');\n    },\n    getLeftToSpend() {\n      this.leftToSpend = this.getKeyedEntries('left-to-spend-in-');\n    },\n    getBillsEntries() {\n      this.billsPaid = this.getKeyedEntries('bills-paid-in-');\n      this.billsUnpaid = this.getKeyedEntries('bills-unpaid-in-');\n    },\n    getKeyedEntries(expected) {\n      let result = [];\n      for (const key in this.summary) {\n        if (this.summary.hasOwnProperty(key)) {\n          if (expected === key.substr(0, expected.length)) {\n            result.push(this.summary[key]);\n          }\n        }\n      }\n      return result;\n    }\n  }\n}\n</script>\n","import { render } from \"./TopBoxes.vue?vue&type=template&id=91cc51ae\"\nimport script from \"./TopBoxes.vue?vue&type=script&lang=js\"\nexport * from \"./TopBoxes.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"card-title\">{{ $t('firefly.yourAccounts') }}</h3>\n    </div>\n    <div class=\"card-body\">\n      <div>\n        <canvas id=\"canvas\" ref=\"canvas\" width=\"400\" height=\"400\"></canvas>\n      </div>\n      <div v-if=\"loading && !error\" class=\"text-center\">\n        <span class=\"fas fa-spinner fa-spin\"></span>\n      </div>\n      <div v-if=\"error\" class=\"text-center\">\n        <span class=\"fas fa-exclamation-triangle text-danger\"></span>\n      </div>\n    </div>\n    <div class=\"card-footer\">\n      <a class=\"btn btn-default button-sm\" href=\"./accounts/asset\"><span class=\"far fa-money-bill-alt\"></span> {{ $t('firefly.go_to_asset_accounts') }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport DataConverter from \"../charts/DataConverter\";\nimport DefaultLineOptions from \"../charts/DefaultLineOptions\";\nimport {mapGetters} from \"vuex\";\nimport * as ChartJs from 'chart.js'\nimport format from \"date-fns/format\";\n\nChartJs.Chart.register.apply(null, Object.values(ChartJs).filter((chartClass) => (chartClass.id)));\n\n\nexport default {\n  name: \"MainAccount\",\n  components: {},  // MainAccountChart\n  data() {\n    return {\n      loading: true,\n      error: false,\n      ready: false,\n      initialised: false,\n      dataCollection: {},\n      chartOptions: {},\n      _chart: null,\n    }\n  },\n  created() {\n    this.chartOptions = DefaultLineOptions.methods.getDefaultOptions();\n    this.ready = true;\n  },\n  computed: {\n    ...mapGetters('dashboard/index', ['start', 'end']),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    }\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.initialiseChart();\n      }\n    },\n    start: function () {\n      this.updateChart();\n    },\n    end: function () {\n      this.updateChart();\n    },\n  },\n  methods: {\n    initialiseChart: function () {\n      this.loading = true;\n      this.error = false;\n      //let startStr = this.start.toISOString().split('T')[0];\n      //let endStr = this.end.toISOString().split('T')[0];\n      let startStr = format(this.start, 'y-MM-dd');\n      let endStr = format(this.end, 'y-MM-dd');\n      let url = './api/v1/chart/account/overview?start=' + startStr + '&end=' + endStr;\n      axios.get(url)\n          .then(response => {\n            let chartData = DataConverter.methods.convertChart(response.data);\n            chartData = DataConverter.methods.colorizeLineData(chartData);\n\n            this.dataCollection = chartData;\n            this.loading = false;\n            this.drawChart();\n          })\n          .catch(error => {\n            console.log('Has error!');\n            console.log(error);\n            this.error = true;\n          });\n    },\n    drawChart: function () {\n      //console.log('drawChart');\n      if ('undefined' !== typeof this._chart) {\n        // console.log('update!');\n        this._chart.data = this.dataCollection;\n        this._chart.update();\n        this.initialised = true;\n      }\n\n      if ('undefined' === typeof this._chart) {\n        // console.log('new!');\n        this._chart = new ChartJs.Chart(this.$refs.canvas.getContext('2d'), {\n                                          type: 'line',\n                                          data: this.dataCollection,\n                                          options: this.chartOptions\n                                        }\n        );\n        this.initialised = true;\n      }\n    },\n    updateChart: function () {\n      // console.log('updateChart');\n      if (this.initialised) {\n        // console.log('MUST Update chart!');\n        // reset some vars so it wont trigger again:\n        this.initialised = false;\n        this.initialiseChart();\n      }\n    }\n  },\n}\n</script>\n","<!--\n  - DataConverter.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<script>\nexport default {\n  name: \"DataConverter\",\n  data() {\n    return {\n      dataSet: null,\n      newDataSet: null,\n      locale: localStorage.local,\n    }\n  },\n  methods: {\n    convertChart(dataSet) {\n      this.dataSet = dataSet;\n      this.newDataSet = {\n        //count: 0,\n        labels: [],\n        datasets: []\n      }\n      this.getLabels();\n      this.getDataSets();\n      //this.newDataSet.count = this.newDataSet.datasets.length;\n      return this.newDataSet;\n    },\n\n    colorizeBarData(dataSet) {\n      this.dataSet = dataSet;\n      this.newDataSet = {\n        //count: 0,\n        labels: [],\n        datasets: []\n      };\n      // colors\n      let colourSet = [\n        [53, 124, 165],\n        [0, 141, 76], // green\n        [219, 139, 11],\n        [202, 25, 90], // paars rood-ish #CA195A\n        [85, 82, 153],\n        [66, 133, 244],\n        [219, 68, 55], // red #DB4437\n        [244, 180, 0],\n        [15, 157, 88],\n        [171, 71, 188],\n        [0, 172, 193],\n        [255, 112, 67],\n        [158, 157, 36],\n        [92, 107, 192],\n        [240, 98, 146],\n        [0, 121, 107],\n        [194, 24, 91]\n      ];\n\n      let fillColors = [];\n      //let strokePointHighColors = [];\n\n\n      //for (let i = 0; i < colourSet.length; i++) {\n      for (let value of colourSet) {\n        fillColors.push(\"rgba(\" + value[0] + \", \" + value[1] + \", \" + value[2] + \", 0.5)\");\n        //strokePointHighColors.push(\"rgba(\" + colourSet[i][0] + \", \" + colourSet[i][1] + \", \" + colourSet[i][2] + \", 0.9)\");\n      }\n      this.newDataSet.labels = this.dataSet.labels;\n      //this.newDataSet.count = this.dataSet.count;\n      for (let setKey in this.dataSet.datasets) {\n        if (this.dataSet.datasets.hasOwnProperty(setKey)) {\n          var dataset = this.dataSet.datasets[setKey];\n          dataset.fill = false;\n          dataset.backgroundColor = dataset.borderColor = fillColors[setKey];\n          this.newDataSet.datasets.push(dataset);\n        }\n      }\n      return this.newDataSet;\n    },\n\n    colorizeLineData(dataSet) {\n      this.dataSet = dataSet;\n      this.newDataSet = {\n        //count: 0,\n        labels: [],\n        datasets: []\n      };\n      // colors\n      let colourSet = [\n        [53, 124, 165],\n        [0, 141, 76], // green\n        [219, 139, 11],\n        [202, 25, 90], // paars rood-ish #CA195A\n        [85, 82, 153],\n        [66, 133, 244],\n        [219, 68, 55], // red #DB4437\n        [244, 180, 0],\n        [15, 157, 88],\n        [171, 71, 188],\n        [0, 172, 193],\n        [255, 112, 67],\n        [158, 157, 36],\n        [92, 107, 192],\n        [240, 98, 146],\n        [0, 121, 107],\n        [194, 24, 91]\n      ];\n\n      let fillColors = [];\n      //let strokePointHighColors = [];\n\n\n      //for (let i = 0; i < colourSet.length; i++) {\n      for (let value of colourSet) {\n        fillColors.push(\"rgba(\" + value[0] + \", \" + value[1] + \", \" + value[2] + \", 0.5)\");\n        //strokePointHighColors.push(\"rgba(\" + colourSet[i][0] + \", \" + colourSet[i][1] + \", \" + colourSet[i][2] + \", 0.9)\");\n      }\n      this.newDataSet.labels = this.dataSet.labels;\n      //this.newDataSet.count = this.dataSet.count;\n      for (let setKey in this.dataSet.datasets) {\n        if (this.dataSet.datasets.hasOwnProperty(setKey)) {\n          let dataset = this.dataSet.datasets[setKey];\n          dataset.fill = false;\n          dataset.backgroundColor = dataset.borderColor = fillColors[setKey];\n          this.newDataSet.datasets.push(dataset);\n        }\n      }\n      return this.newDataSet;\n    },\n    convertLabelsToDate(dataSet) {\n      for (let labelKey in dataSet.labels) {\n        if (dataSet.labels.hasOwnProperty(labelKey)) {\n          const unixTimeZero = Date.parse(dataSet.labels[labelKey]);\n          dataSet.labels[labelKey] = new Intl.DateTimeFormat(this.locale).format(unixTimeZero);\n        }\n      }\n      return dataSet;\n    },\n    getLabels() {\n      let firstSet = this.dataSet[0];\n      if (typeof firstSet !== 'undefined') {\n        for (const entryLabel in firstSet.entries) {\n          if (firstSet.entries.hasOwnProperty(entryLabel)) {\n            this.newDataSet.labels.push(entryLabel);\n          }\n        }\n      }\n    },\n    getDataSets() {\n      for (const setKey in this.dataSet) {\n        if (this.dataSet.hasOwnProperty(setKey)) {\n          let newSet = {};\n          let oldSet = this.dataSet[setKey];\n          if (typeof oldSet !== 'undefined') {\n            newSet.label = oldSet.label;\n            newSet.type = oldSet.type;\n            newSet.currency_symbol = oldSet.currency_symbol;\n            newSet.currency_code = oldSet.currency_code;\n            //newSet.yAxisID = oldSet.yAxisID;\n            newSet.data = [];\n            for (const entryLabel in oldSet.entries) {\n              if (oldSet.entries.hasOwnProperty(entryLabel)) {\n                newSet.data.push(oldSet.entries[entryLabel]);\n              }\n            }\n            this.newDataSet.datasets.push(newSet);\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n","import script from \"./DataConverter.vue?vue&type=script&lang=js\"\nexport * from \"./DataConverter.vue?vue&type=script&lang=js\"\n\nexport default script","<!--\n  - DefaultLineOptions.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\n</template>\n\n\n<script>\n\nexport default {\n  name: \"DefaultLineOptions\",\n  data() {\n    return {}\n  },\n  methods: {\n    /**\n     * Takes a string phrase and breaks it into separate phrases no bigger than 'maxwidth', breaks are made at complete words.\n     * https://stackoverflow.com/questions/21409717/chart-js-and-long-labels\n     *\n     * @param str\n     * @param maxwidth\n     * @returns {Array}\n     */\n    formatLabel(str, maxwidth) {\n      var sections = [];\n      str = String(str);\n      var words = str.split(\" \");\n      var temp = \"\";\n\n      words.forEach(function (item, index) {\n        if (temp.length > 0) {\n          var concat = temp + ' ' + item;\n\n          if (concat.length > maxwidth) {\n            sections.push(temp);\n            temp = \"\";\n          } else {\n            if (index === (words.length - 1)) {\n              sections.push(concat);\n              return;\n            } else {\n              temp = concat;\n              return;\n            }\n          }\n        }\n\n        if (index === (words.length - 1)) {\n          sections.push(item);\n          return;\n        }\n\n        if (item.length < maxwidth) {\n          temp = item;\n        } else {\n          sections.push(item);\n        }\n\n      });\n\n      return sections;\n    },\n    getDefaultOptions() {\n      return {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false,\n          },\n        },\n        animations: false,\n\n        elements: {\n          line: {\n            cubicInterpolationMode: 'monotone'\n          }\n        },\n        scales: {\n          x: {\n            //type: 'linear'\n            grid: {\n              display: false,\n            },\n            ticks: {\n              callback: function (value, index, values) {\n                let dateObj = new Date(this.getLabelForValue(value).split('T')[0]);\n                return new Intl.DateTimeFormat(localStorage.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(dateObj);\n                //return str;\n                //           // //console.log();\n                //           // //return self.formatLabel(value, 20);\n                //           // return self.formatLabel(str, 20);\n              }\n            }\n          },\n          y: {\n            suggestedMin: 0\n\n            //type: 'linear'\n          }\n        },\n\n        // scales: {\n        //   xAxes: [\n        //     {\n        //       gridLines: {\n        //         display: false\n        //       },\n        //       ticks: {\n        //         // break ticks when too long\n        //         callback: function (value, index, values) {\n        //           return value;\n        //           // date format\n        //           // let dateObj = new Date(value);\n        //           // let options = {year: 'numeric', month: 'long', day: 'numeric'};\n        //           // let str = new Intl.DateTimeFormat(localStorage.locale, options).format(dateObj);\n        //           // //console.log();\n        //           // //return self.formatLabel(value, 20);\n        //           // return self.formatLabel(str, 20);\n        //         }\n        //       }\n        //     }\n        //   ],\n        //   yAxes: [{\n        //     display: true,\n        //     ticks: {\n        //       callback: function (tickValue) {\n        //         \"use strict\";\n        //         return tickValue;\n        //         // let currencyCode = this.chart.data.datasets[0].currency_code ? this.chart.data.datasets[0].currency_code : 'EUR';\n        //         // return new Intl.NumberFormat(localStorage.locale, {style: 'currency', currency: currencyCode}).format(tickValue);\n        //       },\n        //       beginAtZero: true\n        //     }\n        //\n        //   }]\n        // },\n        // tooltips: {\n        //   mode: 'index',\n        //   // callbacks: {\n        //   //   label: function (tooltipItem, data) {\n        //   //     \"use strict\";\n        //   //     let currencyCode = data.datasets[tooltipItem.datasetIndex].currency_code ? data.datasets[tooltipItem.datasetIndex].currency_code : 'EUR';\n        //   //     let nrString =\n        //   //         new Intl.NumberFormat(localStorage.locale, {style: 'currency', currency: currencyCode}).format(tooltipItem.yLabel)\n        //   //\n        //   //     return data.datasets[tooltipItem.datasetIndex].label + ': ' + nrString;\n        //   //   }\n        //   // }\n        // }\n      };\n    }\n\n  }\n}\n</script>\n\n","import { render } from \"./DefaultLineOptions.vue?vue&type=template&id=d9bc5cf2\"\nimport script from \"./DefaultLineOptions.vue?vue&type=script&lang=js\"\nexport * from \"./DefaultLineOptions.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MainAccount.vue?vue&type=template&id=505fa5bc\"\nimport script from \"./MainAccount.vue?vue&type=script&lang=js\"\nexport * from \"./MainAccount.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainAccountList.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <!-- row if loading -->\n    <div v-if=\"loading && !error\" class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"text-center\">\n              <span class=\"fas fa-spinner fa-spin\"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- row if error -->\n    <div v-if=\"error\" class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"text-center\">\n              <span class=\"fas fa-exclamation-triangle text-danger\"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- row if normal -->\n    <div v-if=\"!loading && !error\" class=\"row\">\n      <div\n          v-for=\"account in accounts\"\n          v-bind:class=\"{ 'col-lg-12': 1 === accounts.length, 'col-lg-6': 2 === accounts.length, 'col-lg-4': accounts.length > 2 }\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\"><a :href=\"account.url\">{{ account.title }}</a></h3>\n            <div class=\"card-tools\">\n            <span :class=\"parseFloat(account.current_balance) < 0 ? 'text-danger' : 'text-success'\">\n            {{ Intl.NumberFormat(locale, {style: 'currency', currency: account.currency_code}).format(parseFloat(account.current_balance)) }}\n              </span>\n            </div>\n          </div>\n          <div class=\"card-body table-responsive p-0\">\n            <div>\n              <transaction-list-large v-if=\"1===accounts.length\" :account_id=\"account.id\" :transactions=\"account.transactions\"/>\n              <transaction-list-medium v-if=\"2===accounts.length\" :account_id=\"account.id\" :transactions=\"account.transactions\"/>\n              <transaction-list-small v-if=\"accounts.length > 2\" :account_id=\"account.id\" :transactions=\"account.transactions\"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\nimport format from \"date-fns/format\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\n\nexport default {\n  name: \"MainAccountList\",\n  data() {\n    return {\n      loading: true,\n      error: false,\n      ready: false,\n      accounts: [],\n      locale: 'en-US'\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.ready = true;\n  },\n  computed: {\n    ...mapGetters([\n                    'start',\n                    'end'\n                  ]),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    },\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.initialiseList();\n      }\n    },\n    start: function () {\n      if (false === this.loading) {\n        this.initialiseList();\n      }\n    },\n    end: function () {\n      if (false === this.loading) {\n        this.initialiseList();\n      }\n    },\n  },\n  methods: {\n    initialiseList: function () {\n      this.loading = true;\n      this.accounts = [];\n      axios.get('./api/v1/preferences/frontPageAccounts')\n          .then(response => {\n                  this.loadAccounts(response);\n                }\n          );\n    },\n    loadAccounts(response) {\n      let accountIds = response.data.data.attributes.data;\n      for (let key in accountIds) {\n        if (accountIds.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          this.accounts.push({\n                               id: accountIds[key],\n                               title: '',\n                               url: '',\n                               include: false,\n                               current_balance: '0',\n                               currency_code: 'EUR',\n                               transactions: []\n                             });\n          this.loadSingleAccount(key, accountIds[key]);\n        }\n      }\n    },\n    loadSingleAccount(key, accountId) {\n      axios.get('./api/v1/accounts/' + accountId)\n          .then(response => {\n                  let account = response.data.data;\n                  if ('asset' === account.attributes.type || 'liabilities' === account.attributes.type) {\n                    this.accounts[key].title = account.attributes.name;\n                    this.accounts[key].url = './accounts/show/' + account.id;\n                    this.accounts[key].current_balance = account.attributes.current_balance;\n                    this.accounts[key].currency_code = account.attributes.currency_code;\n                    this.accounts[key].include = true;\n                    this.loadTransactions(key, accountId);\n                  }\n                }\n          );\n    },\n    loadTransactions(key, accountId) {\n      // let startStr = this.start.toISOString().split('T')[0];\n      // let endStr = this.end.toISOString().split('T')[0];\n      let startStr = format(this.start, 'y-MM-dd');\n      let endStr = format(this.end, 'y-MM-dd');\n      axios.get('./api/v1/accounts/' + accountId + '/transactions?page=1&limit=10&start=' + startStr + '&end=' + endStr)\n          .then(response => {\n                  this.accounts[key].transactions = response.data.data;\n                  this.loading = false;\n                  this.error = false;\n                }\n          );\n    },\n  }\n}\n</script>\n\n","import { render } from \"./MainAccountList.vue?vue&type=template&id=686fe34c\"\nimport script from \"./MainAccountList.vue?vue&type=script&lang=js\"\nexport * from \"./MainAccountList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainBills.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"card-title\">{{ $t('firefly.bills') }}</h3>\n    </div>\n    <!-- body if loading -->\n    <div v-if=\"loading && !error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-spinner fa-spin\"></span>\n      </div>\n    </div>\n    <!-- body if error -->\n    <div v-if=\"error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-exclamation-triangle text-danger\"></span>\n      </div>\n    </div>\n    <!-- body if normal -->\n    <div v-if=\"!loading && !error\" class=\"card-body table-responsive p-0\">\n      <table class=\"table table-striped\">\n        <caption style=\"display:none;\">{{ $t('firefly.bills') }}</caption>\n        <thead>\n        <tr>\n          <th scope=\"col\" style=\"width:35%;\">{{ $t('list.name') }}</th>\n          <th scope=\"col\" style=\"width:25%;\">{{ $t('list.next_expected_match') }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"bill in this.bills\">\n          <td><a :href=\"'./bills/show/' + bill.id\" :title=\"bill.attributes.name\">{{ bill.attributes.name }}</a>\n            (~ <span class=\"text-danger\">{{\n                Intl.NumberFormat(locale, {style: 'currency', currency: bill.attributes.currency_code}).format((parseFloat(bill.attributes.amount_min) +\n                                                                                                                parseFloat(bill.attributes.amount_max)) / -2)\n              }}</span>)\n            <small v-if=\"bill.attributes.object_group_title\" class=\"text-muted\">\n              <br/>\n              {{ bill.attributes.object_group_title }}\n            </small>\n          </td>\n          <td>\n            <span v-for=\"paidDate in bill.attributes.paid_dates\">\n              <span v-html=\"renderPaidDate(paidDate)\"/><br/>\n            </span>\n            <span v-for=\"payDate in bill.attributes.pay_dates\" v-if=\"0===bill.attributes.paid_dates.length\">\n              {{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(new Date(payDate)) }}\n              <br/>\n            </span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"card-footer\">\n      <a class=\"btn btn-default button-sm\" href=\"./bills\"><span class=\"far fa-money-bill-alt\"></span> {{ $t('firefly.go_to_bills') }}</a>\n    </div>\n  </div>\n</template>\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\nimport format from \"date-fns/format\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\nexport default {\n  name: \"MainBillsList\",\n  data() {\n    return {\n      bills: [],\n      locale: 'en-US',\n      ready: false,\n      loading: true,\n      error: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'start',\n                    'end'\n                  ]),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    }\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.initialiseBills();\n      }\n    },\n    start: function () {\n      if (false === this.loading) {\n        this.initialiseBills();\n      }\n    },\n    end: function () {\n      if (false === this.loading) {\n        this.initialiseBills();\n      }\n    },\n  },\n  created() {\n    this.ready = true;\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  components: {},\n  methods: {\n    initialiseBills: function () {\n      this.loading = true;\n      this.bills = [];\n      // let startStr = this.start.toISOString().split('T')[0];\n      // let endStr = this.end.toISOString().split('T')[0];\n      let startStr = format(this.start, 'y-MM-dd');\n      let endStr = format(this.end, 'y-MM-dd');\n\n      axios.get('./api/v1/bills?start=' + startStr + '&end=' + endStr)\n          .then(response => {\n                  this.loadBills(response.data.data);\n                }\n          ).catch(error => {\n        this.error = true;\n        this.loading = false;\n      });\n    },\n    renderPaidDate: function (obj) {\n      let dateStr = new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(new Date(obj.date));\n      let str = this.$t('firefly.bill_paid_on', {date: dateStr});\n      return '<a href=\"./transactions/show/' + obj.transaction_group_id + '\" title=\"' + str + '\">' + str + '</a>';\n    },\n    loadBills: function (data) {\n      for (let key in data) {\n        if (data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n\n          let bill = data[key];\n          let active = bill.attributes.active;\n          if (bill.attributes.pay_dates.length > 0 && active) {\n            this.bills.push(bill);\n          }\n        }\n      }\n      this.error = false;\n      this.loading = false;\n    }\n  }\n}\n</script>\n","import { render } from \"./MainBillsList.vue?vue&type=template&id=329eebd0\"\nimport script from \"./MainBillsList.vue?vue&type=script&lang=js\"\nexport * from \"./MainBillsList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainBudgetList.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <!-- daily budgets (will be the exception, I expect) -->\n    <div v-if=\"!loading\" class=\"row\">\n      <div v-if=\"budgetLimits.daily.length > 0\" class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <BudgetListGroup :budgetLimits=budgetLimits.daily :title=\"$t('firefly.daily_budgets')\"\n        />\n      </div>\n      <div v-if=\"budgetLimits.weekly.length > 0\" class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <BudgetListGroup :budgetLimits=budgetLimits.weekly :title=\"$t('firefly.weekly_budgets')\"\n        />\n      </div>\n      <div v-if=\"budgetLimits.monthly.length > 0\" class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <BudgetListGroup :budgetLimits=budgetLimits.monthly :title=\"$t('firefly.monthly_budgets')\"\n        />\n      </div>\n      <div v-if=\"budgetLimits.quarterly.length > 0\" class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <BudgetListGroup :budgetLimits=budgetLimits.quarterly :title=\"$t('firefly.quarterly_budgets')\"\n        />\n      </div>\n      <div v-if=\"budgetLimits.half_year.length > 0\" class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <BudgetListGroup :budgetLimits=budgetLimits.half_year :title=\"$t('firefly.half_year_budgets')\"\n        />\n      </div>\n      <div v-if=\"budgetLimits.yearly.length > 0\" class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <BudgetListGroup :budgetLimits=budgetLimits.yearly :title=\"$t('firefly.yearly_budgets')\"\n        />\n      </div>\n      <div v-if=\"budgetLimits.other.length > 0 || rawBudgets.length > 0\" class=\"col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <BudgetListGroup :budgetLimits=budgetLimits.other :budgets=\"rawBudgets\" :title=\"$t('firefly.other_budgets')\"\n        />\n      </div>\n    </div>\n    <div v-if=\"loading && !error\" class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"text-center\">\n              <span class=\"fas fa-spinner fa-spin\"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BudgetListGroup from \"./BudgetListGroup\";\nimport {createNamespacedHelpers} from \"vuex\";\nimport format from \"date-fns/format\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\n\nexport default {\n  name: \"MainBudgetList\",\n  components: {BudgetListGroup},\n  data() {\n    return {\n      budgetList: ['daily', 'weekly', 'monthly', 'quarterly', 'half_year', 'yearly', 'other'],\n      budgetLimits: {\n        daily: [],\n        weekly: [],\n        monthly: [],\n        quarterly: [],\n        half_year: [],\n        yearly: [],\n        other: [],\n      },\n      budgets: {}, // used to collect some meta data.\n      rawBudgets: [],\n      locale: 'en-US',\n      ready: false,\n      loading: true,\n      error: false\n    }\n  },\n  created() {\n    this.ready = true;\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.getBudgets();\n      }\n    },\n    start: function () {\n      if (false === this.loading) {\n        this.getBudgets();\n      }\n    },\n    end: function () {\n      if (false === this.loading) {\n        this.getBudgets();\n      }\n    },\n  },\n  computed: {\n    ...mapGetters(['start', 'end']),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    }\n  },\n  methods:\n      {\n        getBudgets: function () {\n          this.budgets = {};\n          this.rawBudgets = [];\n          this.budgetLimits = {\n            daily: [],\n            weekly: [],\n            monthly: [],\n            quarterly: [],\n            half_year: [],\n            yearly: [],\n            other: [],\n          };\n          this.loading = true;\n          // let startStr = this.start.toISOString().split('T')[0];\n          // let endStr = this.end.toISOString().split('T')[0];\n          let startStr = format(this.start, 'y-MM-dd');\n          let endStr = format(this.end, 'y-MM-dd');\n          axios.get('./api/v1/budgets?start=' + startStr + '&end=' + endStr)\n              .then(response => {\n                      this.parseBudgets(response.data);\n                    }\n              );\n        },\n        parseBudgets(data) {\n          for (let i in data.data) {\n            if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n              let current = data.data[i];\n              if (false === current.attributes.active) {\n                // skip inactive budgets\n                continue;\n              }\n              for (let ii in current.attributes.spent) {\n                if (current.attributes.spent.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                  let spentData = current.attributes.spent[ii];\n                  this.rawBudgets.push(\n                      {\n                        id: parseInt(current.id),\n                        name: current.attributes.name,\n                        currency_id: parseInt(spentData.currency_id),\n                        currency_code: spentData.currency_code,\n                        spent: spentData.sum\n                      }\n                  );\n                  //console.log('Added budget ' + current.attributes.name + ' (' + spentData.currency_code + ')');\n                }\n              }\n            }\n          }\n          this.getBudgetLimits();\n        },\n        getBudgetLimits() {\n          // let startStr = this.start.toISOString().split('T')[0];\n          // let endStr = this.end.toISOString().split('T')[0];\n          let startStr = format(this.start, 'y-MM-dd');\n          let endStr = format(this.end, 'y-MM-dd');\n          axios.get('./api/v1/budget-limits?start=' + startStr + '&end=' + endStr)\n              .then(response => {\n                      this.parseBudgetLimits(response.data);\n                      this.loading = false;\n                    }\n              );\n        },\n        parseBudgetLimits(data) {\n          // collect budget meta data.\n          for (let i in data.included) {\n            if (data.included.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n              let current = data.included[i];\n              let currentId = parseInt(current.id);\n              this.budgets[currentId] =\n                  {\n                    id: currentId,\n                    name: current.attributes.name,\n                  };\n              //console.log('Collected meta data: budget #' + currentId + ' is named ' + current.attributes.name);\n            }\n          }\n\n          for (let i in data.data) {\n            if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n              let current = data.data[i];\n              let currentId = parseInt(current.id);\n              let budgetId = parseInt(current.attributes.budget_id);\n              let currencyId = parseInt(current.attributes.currency_id);\n              let spentFloat = parseFloat(current.attributes.spent);\n              let spentFloatPos = parseFloat(current.attributes.spent) * -1;\n              let amount = parseFloat(current.attributes.amount);\n              let period = current.attributes.period ?? 'other';\n              let pctGreen = 0;\n              let pctOrange = 0;\n              let pctRed = 0;\n              //console.log('Collected \"' + period + '\" budget limit #' + currentId + ' (part of budget #' + budgetId + ')');\n              //console.log('Spent ' + spentFloat + ' of ' + amount);\n\n              // remove budget info from rawBudgets if it's there:\n              this.filterBudgets(budgetId, currencyId);\n\n              // spent within budget:\n              if (0.0 !== spentFloat && spentFloatPos < amount) {\n                pctGreen = (spentFloatPos / amount) * 100;\n              }\n\n              // spent over budget\n              if (0.0 !== spentFloatPos && spentFloatPos > amount) {\n                pctOrange = (spentFloatPos / amount) * 100;\n                pctRed = 100 - pctOrange;\n              }\n              let obj = {\n                id: currentId,\n                amount: current.attributes.amount,\n                budget_id: budgetId,\n                budget_name: this.budgets[current.attributes.budget_id].name,\n                currency_id: currencyId,\n                currency_code: current.attributes.currency_code,\n                period: current.attributes.period,\n                start: new Date(current.attributes.start),\n                end: new Date(current.attributes.end),\n                spent: current.attributes.spent,\n                pctGreen: pctGreen,\n                pctOrange: pctOrange,\n                pctRed: pctRed,\n              };\n\n              this.budgetLimits[period].push(obj);\n            }\n          }\n        },\n\n        filterBudgets(budgetId, currencyId) {\n          for (let i in this.rawBudgets) {\n            if (this.rawBudgets.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n              if (this.rawBudgets[i].currency_id === currencyId && this.rawBudgets[i].id === budgetId) {\n                //console.log('Budget ' + this.rawBudgets[i].name + ' with currency ' + this.rawBudgets[i].currency_code + ' will be removed in favor of a budget limit.');\n                this.rawBudgets.splice(parseInt(i), 1);\n              }\n            }\n          }\n        }\n      }\n}\n</script>\n\n","<!--\n  - BudgetListGroup.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"card-title\">{{ title }}</h3>\n    </div>\n    <div class=\"card-body table-responsive p-0\">\n      <table class=\"table table-sm\">\n        <caption style=\"display:none;\">{{ title }}</caption>\n        <thead>\n        <tr>\n          <th scope=\"col\">{{ $t('firefly.budget') }}</th>\n          <th scope=\"col\">{{ $t('firefly.spent') }}</th>\n          <th scope=\"col\">{{ $t('firefly.left') }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <BudgetLimitRow v-for=\"(budgetLimit, key) in budgetLimits\" v-bind:key=\"key\" :budgetLimit=\"budgetLimit\"/>\n        <BudgetRow v-for=\"(budget, key) in budgets\" v-bind:key=\"key\" :budget=\"budget\"/>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"card-footer\">\n      <a class=\"btn btn-default button-sm\" href=\"./budgets\"><span class=\"far fa-money-bill-alt\"></span> {{ $t('firefly.go_to_budgets') }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BudgetLimitRow from \"./BudgetLimitRow\";\nimport BudgetRow from \"./BudgetRow\";\n\nexport default {\n  name: \"BudgetListGroup\",\n  components: {BudgetLimitRow, BudgetRow},\n  props: {\n    title: String,\n    budgetLimits: Array,\n    budgets: Array,\n  },\n}\n</script>\n\n","<!--\n  - BudgetRow.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <tr>\n    <td style=\"width:25%;\">\n      <a :href=\"'./budgets/show/' + budgetLimit.budget_id\">{{ budgetLimit.budget_name }}</a>\n    </td>\n\n    <td style=\"vertical-align: middle\">\n      <div class=\"progress progress active\">\n        <div :aria-valuenow=\"budgetLimit.pctGreen\" :style=\"'width: '+ budgetLimit.pctGreen + '%;'\"\n             aria-valuemax=\"100\" aria-valuemin=\"0\" class=\"progress-bar bg-success\" role=\"progressbar\">\n                      <span v-if=\"budgetLimit.pctGreen > 35\">\n                        {{ $t('firefly.spent_x_of_y', {amount: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.spent), total: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.amount)}) }}\n                        <!--  -->\n                      </span>\n\n\n        </div>\n\n        <div :aria-valuenow=\"budgetLimit.pctOrange\" :style=\"'width: '+ budgetLimit.pctOrange + '%;'\"\n             aria-valuemax=\"100\" aria-valuemin=\"0\" class=\"progress-bar bg-warning\" role=\"progressbar\">\n                    <span v-if=\"budgetLimit.pctRed <= 50 && budgetLimit.pctOrange > 35\">\n                      {{ $t('firefly.spent_x_of_y', {amount: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.spent), total: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.amount)}) }}\n                      </span>\n        </div>\n\n        <div :aria-valuenow=\"budgetLimit.pctRed\" :style=\"'width: '+ budgetLimit.pctRed + '%;'\"\n             aria-valuemax=\"100\" aria-valuemin=\"0\" class=\"progress-bar bg-danger\" role=\"progressbar\">\n                      <span v-if=\"budgetLimit.pctOrange <= 50 && budgetLimit.pctRed > 35\" class=\"text-muted\">\n                        {{ $t('firefly.spent_x_of_y', {amount: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.spent), total: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.amount)}) }}\n                      </span>\n        </div>\n\n        <!-- amount if bar is very small -->\n        <span v-if=\"budgetLimit.pctGreen <= 35 && 0 === budgetLimit.pctOrange && 0 === budgetLimit.pctRed && 0 !== budgetLimit.pctGreen\" style=\"line-height: 16px;\">\n          &nbsp; {{ $t('firefly.spent_x_of_y', {amount: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.spent), total: Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(budgetLimit.amount)}) }}\n                      </span>\n\n      </div>\n      <small class=\"d-none d-lg-block\">\n        {{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(budgetLimit.start) }}\n        &rarr;\n        {{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(budgetLimit.end) }}\n      </small>\n    </td>\n\n    <td class=\"align-middle d-none d-lg-table-cell\" style=\"width:10%;\">\n      <span v-if=\"parseFloat(budgetLimit.amount) + parseFloat(budgetLimit.spent) > 0\" class=\"text-success\">\n                    {{\n          Intl.NumberFormat(locale, {\n            style: 'currency',\n            currency: budgetLimit.currency_code\n          }).format(parseFloat(budgetLimit.amount) + parseFloat(budgetLimit.spent))\n        }}\n                  </span>\n      <span v-if=\"0.0 === parseFloat(budgetLimit.amount) + parseFloat(budgetLimit.spent)\" class=\"text-muted\">\n                    {{ Intl.NumberFormat(locale, {style: 'currency', currency: budgetLimit.currency_code}).format(0) }}\n                  </span>\n      <span v-if=\"parseFloat(budgetLimit.amount) + parseFloat(budgetLimit.spent) < 0\" class=\"text-danger\">\n                    {{\n          Intl.NumberFormat(locale, {\n            style: 'currency',\n            currency: budgetLimit.currency_code\n          }).format(parseFloat(budgetLimit.amount) + parseFloat(budgetLimit.spent))\n        }}\n                  </span>\n    </td>\n  </tr>\n\n</template>\n\n<script>\nexport default {\n  name: \"BudgetLimitRow\",\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  data() {\n    return {\n      locale: 'en-US',\n    }\n  },\n  props: {\n    budgetLimit: {\n      type: Object,\n      default: function () {\n        return {};\n      }\n    },\n    budget: {\n      type: Object,\n      default: function () {\n        return {};\n      }\n    }\n  }\n}\n</script>\n\n","import { render } from \"./BudgetLimitRow.vue?vue&type=template&id=c899c856\"\nimport script from \"./BudgetLimitRow.vue?vue&type=script&lang=js\"\nexport * from \"./BudgetLimitRow.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - BudgetRow.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n\n<template>\n  <tr>\n    <td style=\"width:25%;\">\n      <a :href=\"'./budgets/show/' + budget.id\">{{ budget.name }}</a>\n    </td>\n    <td class=\"align-middle text-right\">\n      <span class=\"text-danger\">\n        {{ Intl.NumberFormat(locale, {style: 'currency', currency: budget.currency_code}).format(parseFloat(budget.spent)) }}\n      </span>\n    </td>\n  </tr>\n</template>\n\n<script>\nexport default {\n  name: \"BudgetRow\",\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  data() {\n    return {\n      locale: 'en-US',\n    }\n  },\n  props: {\n    budget: {\n      type: Object,\n      default: {}\n    }\n  }\n}\n</script>\n\n","import { render } from \"./BudgetRow.vue?vue&type=template&id=9ea99606\"\nimport script from \"./BudgetRow.vue?vue&type=script&lang=js\"\nexport * from \"./BudgetRow.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./BudgetListGroup.vue?vue&type=template&id=2e9bad28\"\nimport script from \"./BudgetListGroup.vue?vue&type=script&lang=js\"\nexport * from \"./BudgetListGroup.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MainBudgetList.vue?vue&type=template&id=fefd99e6\"\nimport script from \"./MainBudgetList.vue?vue&type=script&lang=js\"\nexport * from \"./MainBudgetList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainCreditList.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"card-title\">{{ $t('firefly.revenue_accounts') }}</h3>\n    </div>\n    <!-- body if loading -->\n    <div v-if=\"loading && !error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-spinner fa-spin\"></span>\n      </div>\n    </div>\n    <!-- body if error -->\n    <div v-if=\"error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-exclamation-triangle text-danger\"></span>\n      </div>\n    </div>\n    <!-- body if normal -->\n    <div v-if=\"!loading && !error\" class=\"card-body table-responsive p-0\">\n      <table class=\"table table-sm\">\n        <caption style=\"display:none;\">{{ $t('firefly.revenue_accounts') }}</caption>\n        <thead>\n        <tr>\n          <th scope=\"col\">{{ $t('firefly.account') }}</th>\n          <th scope=\"col\">{{ $t('firefly.earned') }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"entry in income\">\n          <td style=\"width:20%;\"><a :href=\"'./accounts/show/' +  entry.id\">{{ entry.name }}</a></td>\n          <td class=\"align-middle\">\n            <div v-if=\"entry.pct > 0\" class=\"progress\">\n              <div :aria-valuenow=\"entry.pct\" :style=\"{ width: entry.pct  + '%'}\" aria-valuemax=\"100\"\n                   aria-valuemin=\"0\" class=\"progress-bar bg-success\"\n                   role=\"progressbar\">\n                <span v-if=\"entry.pct > 20\">\n                  {{ Intl.NumberFormat(locale, {style: 'currency', currency: entry.currency_code}).format(entry.difference_float) }}\n                </span>\n              </div>\n              <span v-if=\"entry.pct <= 20\" style=\"line-height: 16px;\">&nbsp;\n              {{ Intl.NumberFormat(locale, {style: 'currency', currency: entry.currency_code}).format(entry.difference_float) }}\n              </span>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"card-footer\">\n      <a class=\"btn btn-default button-sm\" href=\"./transactions/deposit\"><span class=\"far fa-money-bill-alt\"></span> {{ $t('firefly.go_to_deposits') }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\nimport format from \"date-fns/format\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\n\n// See reference nr. 2\n\nexport default {\n  name: \"MainCreditList\",\n  data() {\n    return {\n      locale: 'en-US',\n      income: [],\n      max: 0,\n      loading: true,\n      error: false\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.ready = true;\n  },\n  computed: {\n    ...mapGetters([\n                    'start',\n                    'end'\n                  ]),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    }\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.getIncome();\n      }\n    },\n    start: function () {\n      if (false === this.loading) {\n        this.getIncome();\n      }\n    },\n    end: function () {\n      if (false === this.loading) {\n        this.getIncome();\n      }\n    },\n  },\n  methods: {\n    getIncome() {\n      this.loading = true;\n      this.income = [];\n      this.error = false;\n      // let startStr = this.start.toISOString().split('T')[0];\n      // let endStr = this.end.toISOString().split('T')[0];\n      let startStr = format(this.start, 'y-MM-dd');\n      let endStr = format(this.end, 'y-MM-dd');\n      axios.get('./api/v1/insight/income/revenue?start=' + startStr + '&end=' + endStr)\n          .then(response => {\n            // do something with response.\n            this.parseIncome(response.data);\n            this.loading = false;\n          }).catch(error => {\n        this.error = true\n      });\n    },\n    parseIncome(data) {\n      for (let i in data) {\n        if (data.hasOwnProperty(i)) {\n          let mainKey = parseInt(i);\n          // contains currency info and entries.\n          let current = data[mainKey];\n          current.pct = 0;\n          this.max = current.difference_float > this.max ? current.difference_float : this.max;\n          this.income.push(current);\n        }\n      }\n      if (0 === this.max) {\n        this.max = 1;\n      }\n      // now sort + pct:\n      for (let i in this.income) {\n        if (this.income.hasOwnProperty(i)) {\n          let current = this.income[i];\n          current.pct = (current.difference_float / this.max) * 100;\n          this.income[i] = current;\n        }\n      }\n      this.income.sort((a,b) => (a.pct > b.pct) ? -1 : ((b.pct > a.pct) ? 1 : 0));\n    }\n  }\n}\n</script>\n","import { render } from \"./MainCreditList.vue?vue&type=template&id=49929590\"\nimport script from \"./MainCreditList.vue?vue&type=script&lang=js\"\nexport * from \"./MainCreditList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainDebitList.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"card-title\">{{ $t('firefly.expense_accounts') }}</h3>\n    </div>\n    <!-- body if loading -->\n    <div v-if=\"loading && !error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-spinner fa-spin\"></span>\n      </div>\n    </div>\n    <!-- body if error -->\n    <div v-if=\"error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-exclamation-triangle text-danger\"></span>\n      </div>\n    </div>\n    <!-- body if normal -->\n    <div v-if=\"!loading && !error\" class=\"card-body table-responsive p-0\">\n      <table class=\"table table-sm\">\n        <caption style=\"display:none;\">{{ $t('firefly.expense_accounts') }}</caption>\n        <thead>\n        <tr>\n          <th scope=\"col\">{{ $t('firefly.account') }}</th>\n          <th scope=\"col\">{{ $t('firefly.spent') }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"entry in expenses\">\n          <td style=\"width:20%;\"><a :href=\"'./accounts/show/' +  entry.id\">{{ entry.name }}</a></td>\n          <td class=\"align-middle\">\n            <div v-if=\"entry.pct > 0\" class=\"progress\">\n              <div :aria-valuenow=\"entry.pct\" :style=\"{ width: entry.pct  + '%'}\" aria-valuemax=\"100\"\n                   aria-valuemin=\"0\" class=\"progress-bar bg-danger\"\n                   role=\"progressbar\">\n                <span v-if=\"entry.pct > 20\">\n                  {{ Intl.NumberFormat(locale, {style: 'currency', currency: entry.currency_code}).format(entry.difference_float) }}\n                </span>\n              </div>\n              <span v-if=\"entry.pct <= 20\" style=\"line-height: 16px;\">&nbsp;\n              {{ Intl.NumberFormat(locale, {style: 'currency', currency: entry.currency_code}).format(entry.difference_float) }}\n              </span>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"card-footer\">\n      <a class=\"btn btn-default button-sm\" href=\"./transactions/withdrawal\"><span class=\"far fa-money-bill-alt\"></span> {{ $t('firefly.go_to_withdrawals') }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\nimport format from \"date-fns/format\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\n\n\nexport default {\n  name: \"MainDebitList\",\n  data() {\n    return {\n      locale: 'en-US',\n      expenses: [],\n      min: 0,\n      loading: true,\n      error: false\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.ready = true;\n  },\n  computed: {\n    ...mapGetters([\n                    'start',\n                    'end'\n                  ]),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    }\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.getExpenses();\n      }\n    },\n    start: function () {\n      if (false === this.loading) {\n        this.getExpenses();\n      }\n    },\n    end: function () {\n      if (false === this.loading) {\n        this.getExpenses();\n      }\n    },\n  },\n  methods: {\n    getExpenses() {\n      this.loading = true;\n      this.error = false;\n      this.expenses = [];\n      // let startStr = this.start.toISOString().split('T')[0];\n      // let endStr = this.end.toISOString().split('T')[0];\n      let startStr = format(this.start, 'y-MM-dd');\n      let endStr = format(this.end, 'y-MM-dd');\n      axios.get('./api/v1/insight/expense/expense?start=' + startStr + '&end=' + endStr)\n          .then(response => {\n            // do something with response.\n            this.parseExpenses(response.data);\n            this.loading = false\n          }).catch(error => {\n        this.error = true\n      });\n    },\n    parseExpenses(data) {\n      for (let mainKey in data) {\n        if (data.hasOwnProperty(mainKey) && /^0$|^[1-9]\\d*$/.test(mainKey) && mainKey <= 4294967294) {\n          let current = data[mainKey];\n          current.pct = 0;\n\n          this.min = current.difference_float < this.min ? current.difference_float : this.min;\n          this.expenses.push(current);\n        }\n      }\n\n      if (0 === this.min) {\n        this.min = -1;\n      }\n      // now sort + pct:\n      for (let i in this.expenses) {\n        if (this.expenses.hasOwnProperty(i)) {\n          let current = this.expenses[i];\n          current.pct = (current.difference_float*-1 / this.min*-1) * 100;\n          this.expenses[i] = current;\n        }\n      }\n      this.expenses.sort((a,b) => (a.pct > b.pct) ? -1 : ((b.pct > a.pct) ? 1 : 0));\n\n    }\n  }\n}\n</script>\n","import { render } from \"./MainDebitList.vue?vue&type=template&id=010c9e22\"\nimport script from \"./MainDebitList.vue?vue&type=script&lang=js\"\nexport * from \"./MainDebitList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainPiggyList.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"card-title\">{{ $t('firefly.piggy_banks') }}</h3>\n    </div>\n\n    <!-- body if loading -->\n    <div v-if=\"loading && !error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-spinner fa-spin\"></span>\n      </div>\n    </div>\n    <!-- body if error -->\n    <div v-if=\"error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-exclamation-triangle text-danger\"></span>\n      </div>\n    </div>\n    <!-- body if normal -->\n    <div v-if=\"!loading && !error\" class=\"card-body table-responsive p-0\">\n      <table class=\"table table-striped\">\n        <caption style=\"display:none;\">{{ $t('firefly.piggy_banks') }}</caption>\n        <thead>\n        <tr>\n          <th scope=\"col\" style=\"width:35%;\">{{ $t('list.piggy_bank') }}</th>\n          <th scope=\"col\" style=\"width:40%;\">{{ $t('list.percentage') }} <small>/ {{ $t('list.amount') }}</small></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"piggy in this.piggy_banks\">\n          <td>\n            <a :href=\"'./piggy-banks/show/' + piggy.id\" :title=\"piggy.attributes.name\">{{ piggy.attributes.name }}</a>\n            <small v-if=\"piggy.attributes.object_group_title\" class=\"text-muted\">\n              <br/>\n              {{ piggy.attributes.object_group_title }}\n            </small>\n          </td>\n          <td>\n            <div class=\"progress-group\">\n              <div class=\"progress progress-sm\">\n                <div v-if=\"piggy.attributes.pct < 100\" :style=\"{'width': piggy.attributes.pct + '%'}\" class=\"progress-bar primary\"></div>\n                <div v-if=\"100 === piggy.attributes.pct\" :style=\"{'width': piggy.attributes.pct + '%'}\"\n                     class=\"progress-bar progress-bar-striped bg-success\"></div>\n              </div>\n            </div>\n            <span class=\"text-success\">\n                            {{\n                Intl.NumberFormat(locale, {style: 'currency', currency: piggy.attributes.currency_code}).format(piggy.attributes.current_amount)\n              }}\n                        </span>\n            of\n            <span class=\"text-success\">{{\n                Intl.NumberFormat(locale, {\n                  style: 'currency',\n                  currency: piggy.attributes.currency_code\n                }).format(piggy.attributes.target_amount)\n              }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"card-footer\">\n      <a class=\"btn btn-default button-sm\" href=\"./piggy-banks\"><span class=\"far fa-money-bill-alt\"></span> {{ $t('firefly.go_to_piggies') }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MainPiggyList\",\n  data() {\n    return {\n      piggy_banks: [],\n      loading: true,\n      error: false,\n      locale: 'en-US'\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    axios.get('./api/v1/piggy_banks')\n        .then(response => {\n                this.loadPiggyBanks(response.data.data);\n                this.loading = false;\n              }\n        ).catch(error => {\n      this.error = true\n    });\n  },\n  methods: {\n    loadPiggyBanks(data) {\n      for (let key in data) {\n        if (data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let piggy = data[key];\n          if (0.0 !== parseFloat(piggy.attributes.left_to_save)) {\n            piggy.attributes.pct = (parseFloat(piggy.attributes.current_amount) / parseFloat(piggy.attributes.target_amount)) * 100;\n            this.piggy_banks.push(piggy);\n          }\n        }\n      }\n      this.piggy_banks.sort(function (a, b) {\n        return b.attributes.pct - a.attributes.pct;\n      });\n    }\n  }\n}\n</script>\n\n","import { render } from \"./MainPiggyList.vue?vue&type=template&id=3462054a\"\nimport script from \"./MainPiggyList.vue?vue&type=script&lang=js\"\nexport * from \"./MainPiggyList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - TransactionListLarge.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <table class=\"table table-striped table-sm\">\n    <caption style=\"display:none;\">{{ $t('firefly.transaction_table_description') }}</caption>\n    <thead>\n    <tr>\n      <th class=\"text-left\" scope=\"col\">{{ $t('firefly.description') }}</th>\n      <th scope=\"col\">{{ $t('firefly.opposing_account') }}</th>\n      <th class=\"text-right\" scope=\"col\">{{ $t('firefly.amount') }}</th>\n      <th scope=\"col\">{{ $t('firefly.category') }}</th>\n      <th scope=\"col\">{{ $t('firefly.budget') }}</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-for=\"transaction in this.transactions\">\n      <td>\n        <a :href=\"'transactions/show/' + transaction.id \" :title=\"transaction.date\">\n          <span v-if=\"transaction.attributes.transactions.length > 1\">{{ transaction.attributes.group_title }}</span>\n          <span v-if=\"1===transaction.attributes.transactions.length\">{{ transaction.attributes.transactions[0].description }}</span>\n        </a>\n      </td>\n      <td>\n                <span v-for=\"tr in transaction.attributes.transactions\">\n                    <a v-if=\"'withdrawal' === tr.type\" :href=\"'accounts/show/' + tr.destination_id\">{{ tr.destination_name }}</a>\n                    <a v-if=\"'deposit' === tr.type\" :href=\"'accounts/show/' + tr.source_id\">{{ tr.source_name }}</a>\n                    <a v-if=\"'transfer' === tr.type && parseInt(tr.source_id) === account_id\" :href=\"'accounts/show/' + tr.destination_id\">{{ tr.destination_name }}</a>\n                    <a v-if=\"'transfer' === tr.type && parseInt(tr.destination_id) === account_id\" :href=\"'accounts/show/' + tr.source_id\">{{ tr.source_name }}</a>\n                    <br/>\n                </span>\n      </td>\n      <td style=\"text-align:right;\">\n                <span v-for=\"tr in transaction.attributes.transactions\">\n                     <span v-if=\"'withdrawal' === tr.type\" class=\"text-danger\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount * -1) }}<br>\n                     </span>\n                    <span v-if=\"'deposit' === tr.type\" class=\"text-success\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount) }}<br>\n                     </span>\n                    <span v-if=\"'transfer' === tr.type && parseInt(tr.source_id) === account_id\" class=\"text-info\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount * -1) }}<br>\n                    </span>\n                    <span v-if=\"'transfer' === tr.type && parseInt(tr.destination_id) === account_id\" class=\"text-info\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount) }}<br>\n                    </span>\n                </span>\n      </td>\n      <td>\n                <span v-for=\"tr in transaction.attributes.transactions\">\n                    <a v-if=\"0!==tr.category_id\" :href=\"'categories/show/' + tr.category_id\">{{ tr.category_name }}</a><br/>\n                </span>\n      </td>\n      <td>\n                <span v-for=\"tr in transaction.attributes.transactions\">\n                    <a v-if=\"0!==tr.budget_id\" :href=\"'budgets/show/' + tr.budget_id\">{{ tr.budget_name }}</a><br/>\n                </span>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionListLarge\",\n  data() {\n    return {\n      locale: 'en-US'\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  props: {\n    transactions: {\n      type: Array,\n      default: function () {\n        return [];\n      }\n    },\n    account_id: {\n      type: Number,\n      default: function () {\n        return 0;\n      }\n    },\n  }\n}\n</script>\n\n","import { render } from \"./TransactionListLarge.vue?vue&type=template&id=cb55de98\"\nimport script from \"./TransactionListLarge.vue?vue&type=script&lang=js\"\nexport * from \"./TransactionListLarge.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - TransactionListMedium.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <table class=\"table table-striped table-sm\">\n    <caption style=\"display:none;\">{{ $t('firefly.transaction_table_description') }}</caption>\n    <thead>\n    <tr>\n      <th class=\"text-left\" scope=\"col\">{{ $t('firefly.description') }}</th>\n      <th scope=\"col\">{{ $t('firefly.opposing_account') }}</th>\n      <th class=\"text-right\" scope=\"col\">{{ $t('firefly.amount') }}</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-for=\"transaction in this.transactions\">\n      <td>\n        <a :href=\"'transactions/show/' + transaction.id \" :title=\"transaction.date\">\n          <span v-if=\"transaction.attributes.transactions.length > 1\">{{ transaction.attributes.group_title }}</span>\n          <span v-if=\"1===transaction.attributes.transactions.length\">{{ transaction.attributes.transactions[0].description }}</span>\n        </a>\n      </td>\n      <td>\n                <span v-for=\"tr in transaction.attributes.transactions\">\n                    <a v-if=\"'withdrawal' === tr.type\" :href=\"'accounts/show/' + tr.destination_id\">{{ tr.destination_name }}</a>\n                    <a v-if=\"'deposit' === tr.type\" :href=\"'accounts/show/' + tr.source_id\">{{ tr.source_name }}</a>\n                    <a v-if=\"'transfer' === tr.type && parseInt(tr.source_id) === account_id\" :href=\"'accounts/show/' + tr.destination_id\">{{ tr.destination_name }}</a>\n                    <a v-if=\"'transfer' === tr.type && parseInt(tr.destination_id) === account_id\" :href=\"'accounts/show/' + tr.source_id\">{{ tr.source_name }}</a>\n                    <br/>\n                </span>\n      </td>\n      <td style=\"text-align:right;\">\n                <span v-for=\"tr in transaction.attributes.transactions\">\n                     <span v-if=\"'withdrawal' === tr.type\" class=\"text-danger\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount * -1) }}<br>\n                     </span>\n                    <span v-if=\"'deposit' === tr.type\" class=\"text-success\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount) }}<br>\n                     </span>\n                    <span v-if=\"'transfer' === tr.type && parseInt(tr.source_id) === account_id\" class=\"text-info\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount * -1) }}<br>\n                    </span>\n                    <span v-if=\"'transfer' === tr.type && parseInt(tr.destination_id) === account_id\" class=\"text-info\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount) }}<br>\n                    </span>\n                </span>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionListMedium\",\n  data() {\n    return {\n      locale: 'en-US'\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  props: {\n    transactions: {\n      type: Array,\n      default: function () {\n        return [];\n      }\n    },\n    account_id: {\n      type: Number,\n      default: function () {\n        return 0;\n      }\n    },\n  }\n}\n</script>\n\n","import { render } from \"./TransactionListMedium.vue?vue&type=template&id=e43faab0\"\nimport script from \"./TransactionListMedium.vue?vue&type=script&lang=js\"\nexport * from \"./TransactionListMedium.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - TransactionListSmall.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <table class=\"table table-striped table-sm\">\n    <caption style=\"display:none;\">{{ $t('firefly.transaction_table_description') }}</caption>\n    <thead>\n    <tr>\n      <th class=\"text-left\" scope=\"col\">{{ $t('firefly.description') }}</th>\n      <th class=\"text-right\" scope=\"col\">{{ $t('firefly.amount') }}</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-for=\"transaction in this.transactions\">\n      <td>\n        <a :href=\"'transactions/show/' + transaction.id \"\n           :title=\"new Intl.DateTimeFormat(locale, { year: 'numeric', month: 'long', day: 'numeric' }).format(new Date(transaction.attributes.transactions[0].date))\">\n          <span v-if=\"transaction.attributes.transactions.length > 1\">{{ transaction.attributes.group_title }}</span>\n          <span v-if=\"1===transaction.attributes.transactions.length\">{{ transaction.attributes.transactions[0].description }}</span>\n        </a>\n      </td>\n      <td style=\"text-align:right;\">\n                <span v-for=\"tr in transaction.attributes.transactions\">\n                     <span v-if=\"'withdrawal' === tr.type\" class=\"text-danger\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount * -1) }}<br>\n                     </span>\n                    <span v-if=\"'deposit' === tr.type\" class=\"text-success\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount) }}<br>\n                     </span>\n                    <span v-if=\"'transfer' === tr.type && parseInt(tr.source_id) === account_id\" class=\"text-info\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount * -1) }}<br>\n                    </span>\n                    <span v-if=\"'transfer' === tr.type && parseInt(tr.destination_id) === account_id\" class=\"text-info\">\n                        {{ Intl.NumberFormat(locale, {style: 'currency', currency: tr.currency_code}).format(tr.amount) }}<br>\n                    </span>\n                </span>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionListSmall\",\n  data() {\n    return {\n      locale: 'en-US'\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  methods: {},\n  props: {\n    transactions: {\n      type: Array,\n      default: function () {\n        return [];\n      }\n    },\n    account_id: {\n      type: Number,\n      default: function () {\n        return 0;\n      }\n    },\n  }\n}\n</script>\n\n","import { render } from \"./TransactionListSmall.vue?vue&type=template&id=0d488cf2\"\nimport script from \"./TransactionListSmall.vue?vue&type=script&lang=js\"\nexport * from \"./TransactionListSmall.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<!--\n  - MainCategoryList.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"card-title\">{{ $t('firefly.categories') }}</h3>\n    </div>\n    <!-- body if loading -->\n    <div v-if=\"loading && !error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-spinner fa-spin\"></span>\n      </div>\n    </div>\n    <!-- body if error -->\n    <div v-if=\"error\" class=\"card-body\">\n      <div class=\"text-center\">\n        <span class=\"fas fa-exclamation-triangle text-danger\"></span>\n      </div>\n    </div>\n    <!-- body if normal -->\n    <div v-if=\"!loading && !error\" class=\"card-body table-responsive p-0\">\n      <table class=\"table table-sm\">\n        <caption style=\"display:none;\">{{ $t('firefly.categories') }}</caption>\n        <thead>\n        <tr>\n          <th scope=\"col\">{{ $t('firefly.category') }}</th>\n          <th scope=\"col\">{{ $t('firefly.spent') }} / {{ $t('firefly.earned') }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"category in sortedList\">\n          <td style=\"width:20%;\">\n            <a :href=\"'./categories/show/' + category.id\">{{ category.name }}</a>\n          </td>\n          <td class=\"align-middle\">\n            <!-- SPENT -->\n            <div v-if=\"category.spentPct > 0\" class=\"progress\">\n              <div :aria-valuenow=\"category.spentPct\" :style=\"{ width: category.spentPct  + '%'}\" aria-valuemax=\"100\"\n                   aria-valuemin=\"0\" class=\"progress-bar progress-bar-striped bg-danger\"\n                   role=\"progressbar\">\n                <span v-if=\"category.spentPct > 20\">\n                  {{ Intl.NumberFormat(locale, {style: 'currency', currency: category.currency_code}).format(category.spent) }}\n                </span>\n              </div>\n              <span v-if=\"category.spentPct <= 20\" class=\"progress-label\" style=\"line-height: 16px;\">&nbsp;\n              {{ Intl.NumberFormat(locale, {style: 'currency', currency: category.currency_code}).format(category.spent) }}\n              </span>\n\n            </div>\n\n            <!-- EARNED -->\n            <div v-if=\"category.earnedPct > 0\" class=\"progress justify-content-end\" title=\"hello2\">\n              <span v-if=\"category.earnedPct <= 20\" style=\"line-height: 16px;\">\n                {{ Intl.NumberFormat(locale, {style: 'currency', currency: category.currency_code}).format(category.earned) }}\n                &nbsp;</span>\n              <div :aria-valuenow=\"category.earnedPct\" :style=\"{ width: category.earnedPct  + '%'}\" aria-valuemax=\"100\"\n                   aria-valuemin=\"0\" class=\"progress-bar progress-bar-striped bg-success\"\n                   role=\"progressbar\" title=\"hello\">\n                <span v-if=\"category.earnedPct > 20\">\n                  {{ Intl.NumberFormat(locale, {style: 'currency', currency: category.currency_code}).format(category.earned) }}\n                </span>\n              </div>\n            </div>\n\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\nimport format from \"date-fns/format\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\n\nexport default {\n  name: \"MainCategoryList\",\n\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.ready = true;\n  },\n  data() {\n    return {\n      locale: 'en-US',\n      categories: [],\n      sortedList: [],\n      spent: 0,\n      earned: 0,\n      loading: true,\n      error: false\n    }\n  },\n  computed: {\n    ...mapGetters(['start', 'end']),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    }\n  },\n  watch: {\n    datesReady: function (value) {\n      if (true === value) {\n        this.getCategories();\n      }\n    },\n    start: function () {\n      if (false === this.loading) {\n        this.getCategories();\n      }\n    },\n    end: function () {\n      if (false === this.loading) {\n        this.getCategories();\n      }\n    },\n  },\n  methods:\n      {\n        getCategories: function () {\n          this.categories = [];\n          this.sortedList = [];\n          this.spent = 0;\n          this.earned = 0;\n          this.loading = true;\n          // let startStr = this.start.toISOString().split('T')[0];\n          // let endStr = this.end.toISOString().split('T')[0];\n          let startStr = format(this.start, 'y-MM-dd');\n          let endStr = format(this.end, 'y-MM-dd');\n          this.getCategoryPage(startStr, endStr, 1);\n        },\n        getCategoryPage: function (start, end, page) {\n          axios.get('./api/v1/categories?start=' + start + '&end=' + end + '&page=' + page)\n              .then(response => {\n                      let categories = response.data.data;\n                      let currentPage = parseInt(response.data.meta.pagination.current_page);\n                      let totalPages = parseInt(response.data.meta.pagination.total_pages);\n                      this.parseCategories(categories);\n                      if (currentPage < totalPages) {\n                        let nextPage = currentPage + 1;\n                        this.getCategoryPage(start, end, nextPage);\n                      }\n                      if (currentPage === totalPages) {\n                        this.loading = false;\n                        this.sortCategories();\n                      }\n                    }\n              ).catch(error => {\n            this.error = true;\n          });\n        },\n        parseCategories(data) {\n          for (let i in data) {\n            if (data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n              let current = data[i];\n              let entryKey = null;\n              let categoryId = parseInt(current.id);\n\n              // loop spent info:\n              for (let ii in current.attributes.spent) {\n                if (current.attributes.spent.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                  let spentData = current.attributes.spent[ii];\n                  entryKey = spentData.currency_id + '-' + current.id;\n\n                  // does the categories list thing have this combo? if not, create it.\n                  this.categories[entryKey] = this.categories[entryKey] ??\n                      {\n                        id: categoryId,\n                        name: current.attributes.name,\n                        currency_code: spentData.currency_code,\n                        currency_symbol: spentData.currency_symbol,\n                        spent: 0,\n                        earned: 0,\n                        spentPct: 0,\n                        earnedPct: 0,\n                      };\n                  this.categories[entryKey].spent = parseFloat(spentData.sum);\n                  this.spent = parseFloat(spentData.sum) < this.spent ? parseFloat(spentData.sum) : this.spent;\n                }\n              }\n\n              // loop earned info\n              for (let ii in current.attributes.earned) {\n                if (current.attributes.earned.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                  let earnedData = current.attributes.earned[ii];\n                  entryKey = earnedData.currency_id + '-' + current.id;\n\n                  // does the categories list thing have this combo? if not, create it.\n                  this.categories[entryKey] = this.categories[entryKey] ??\n                      {\n                        id: categoryId,\n                        name: current.attributes.name,\n                        currency_code: earnedData.currency_code,\n                        currency_symbol: earnedData.currency_symbol,\n                        spent: 0,\n                        earned: 0,\n                        spentPct: 0,\n                        earnedPct: 0,\n                      };\n                  this.categories[entryKey].earned = parseFloat(earnedData.sum);\n                  this.earned = parseFloat(earnedData.sum) > this.earned ? parseFloat(earnedData.sum) : this.earned;\n                }\n              }\n            }\n          }\n        },\n        sortCategories() {\n          // no longer care about keys:\n          let array = [];\n          for (let i in this.categories) {\n            if (this.categories.hasOwnProperty(i)) {\n              array.push(this.categories[i]);\n            }\n          }\n          array.sort(function (one, two) {\n            return (one.spent + one.earned) - (two.spent + two.earned);\n          });\n          for (let i in array) {\n            if (array.hasOwnProperty(i)) {\n              let current = array[i];\n              current.spentPct = (current.spent / this.spent) * 100;\n              current.earnedPct = (current.earned / this.earned) * 100;\n              this.sortedList.push(current);\n            }\n          }\n        }\n      }\n}\n</script>\n\n","import { render } from \"./MainCategoryList.vue?vue&type=template&id=f954dd68\"\nimport script from \"./MainCategoryList.vue?vue&type=script&lang=js\"\nexport * from \"./MainCategoryList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/*\n * dashboard.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nimport Dashboard from '../components/dashboard/Dashboard';\nimport TopBoxes from '../components/dashboard/TopBoxes';\nimport MainAccount from '../components/dashboard/MainAccount';\nimport MainAccountList from '../components/dashboard/MainAccountList';\nimport MainBillsList from '../components/dashboard/MainBillsList';\nimport MainBudgetList from '../components/dashboard/MainBudgetList';\nimport MainCreditList from '../components/dashboard/MainCreditList';\nimport MainDebitList from '../components/dashboard/MainDebitList';\nimport MainPiggyList from '../components/dashboard/MainPiggyList';\nimport TransactionListLarge from '../components/transactions/TransactionListLarge';\nimport TransactionListMedium from '../components/transactions/TransactionListMedium';\nimport TransactionListSmall from '../components/transactions/TransactionListSmall';\nimport Calendar from '../components/dashboard/Calendar';\nimport MainCategoryList from '../components/dashboard/MainCategoryList';\nimport Vue from 'vue';\nimport Vuex from 'vuex'\nimport store from '../components/store';\n\n/**\n * First we will load Axios via bootstrap.js\n * jquery and bootstrap-sass preloaded in app.js\n * vue, uiv and vuei18n are in app_vue.js\n */\n\n// See reference nr. 14\n\nrequire('../bootstrap');\nrequire('chart.js');\n\nVue.component('transaction-list-large', TransactionListLarge);\nVue.component('transaction-list-medium', TransactionListMedium);\nVue.component('transaction-list-small', TransactionListSmall);\n\n// components as an example\n\nVue.component('dashboard', Dashboard);\nVue.component('top-boxes', TopBoxes);\nVue.component('main-account', MainAccount);\nVue.component('main-account-list', MainAccountList);\nVue.component('main-bills-list', MainBillsList);\nVue.component('main-budget-list', MainBudgetList);\nVue.component('main-category-list', MainCategoryList);\nVue.component('main-debit-list', MainDebitList);\nVue.component('main-credit-list', MainCreditList);\nVue.component('main-piggy-list', MainPiggyList);\n\nVue.use(Vuex);\n\nlet i18n = require('../i18n');\nlet props = {};\n\nnew Vue({\n            i18n,\n            store,\n            el: '#dashboard',\n            render: (createElement) => {\n                return createElement(Dashboard, {props: props});\n            },\n            beforeCreate() {\n// See reference nr. 15\n                this.$store.commit('initialiseStore');\n                this.$store.dispatch('updateCurrencyPreference');\n                this.$store.dispatch('root/initialiseStore');\n                this.$store.dispatch('dashboard/index/initialiseStore');\n            },\n        });\n\nnew Vue({\n            i18n,\n            store,\n            el: \"#calendar\",\n            render: (createElement) => {\n                return createElement(Calendar, {props: props});\n            },\n// See reference nr. 16\n        });","/*\n * transactions.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport function getDefaultErrors() {\n    return {\n        description: [],\n        amount: [],\n        source: [],\n        destination: [],\n        currency: [],\n        foreign_currency: [],\n        foreign_amount: [],\n        date: [],\n        custom_dates: [],\n        budget: [],\n        category: [],\n        bill: [],\n        tags: [],\n        piggy_bank: [],\n        internal_reference: [],\n        external_url: [],\n        notes: [],\n        location: []\n    };\n}\n\nexport function getDefaultTransaction() {\n    return {\n        // basic\n        description: '',\n        transaction_journal_id: 0,\n        // accounts:\n        source_account_id: null,\n        source_account_name: null,\n        source_account_type: null,\n\n        source_account_currency_id: null,\n        source_account_currency_code: null,\n        source_account_currency_symbol: null,\n\n        destination_account_id: null,\n        destination_account_name: null,\n        destination_account_type: null,\n\n        destination_account_currency_id: null,\n        destination_account_currency_code: null,\n        destination_account_currency_symbol: null,\n        attachments: false,\n        selectedAttachments: false,\n        uploadTrigger: false,\n        clearTrigger: false,\n\n        source_account: {\n            id: 0,\n            name: \"\",\n            name_with_balance: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n        destination_account: {\n            id: 0,\n            name: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n\n        // amount:\n        amount: '',\n        currency_id: 0,\n        foreign_amount: '',\n        foreign_currency_id: 0,\n\n        // meta data\n        category: null,\n        budget_id: 0,\n        bill_id: 0,\n        piggy_bank_id: 0,\n        tags: [],\n\n        // optional date fields (6x):\n        interest_date: null,\n        book_date: null,\n        process_date: null,\n        due_date: null,\n        payment_date: null,\n        invoice_date: null,\n\n        // optional other fields:\n        internal_reference: null,\n        external_url: null,\n        external_id: null,\n        notes: null,\n\n        // transaction links:\n        links: [],\n        // location:\n        zoom_level: null,\n        longitude: null,\n        latitude: null,\n\n        // error handling\n        errors: {},\n    }\n}\n\nexport function toW3CString(date) {\n    // https://gist.github.com/tristanlins/6585391\n    let year = date.getFullYear();\n    let month = date.getMonth();\n    month++;\n    if (month < 10) {\n        month = '0' + month;\n    }\n    let day = date.getDate();\n    if (day < 10) {\n        day = '0' + day;\n    }\n    let hours = date.getHours();\n    if (hours < 10) {\n        hours = '0' + hours;\n    }\n    let minutes = date.getMinutes();\n    if (minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    let seconds = date.getSeconds();\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n    let offset = -date.getTimezoneOffset();\n    let offsetHours = Math.abs(Math.floor(offset / 60));\n    let offsetMinutes = Math.abs(offset) - offsetHours * 60;\n    if (offsetHours < 10) {\n        offsetHours = '0' + offsetHours;\n    }\n    if (offsetMinutes < 10) {\n        offsetMinutes = '0' + offsetMinutes;\n    }\n    let offsetSign = '+';\n    if (offset < 0) {\n        offsetSign = '-';\n    }\n    return year + '-' + month + '-' + day +\n           'T' + hours + ':' + minutes + ':' + seconds +\n           offsetSign + offsetHours + ':' + offsetMinutes;\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dropdown-item[data-v-1ce542a2],.dropdown-item[data-v-1ce542a2]:hover{color:#212529}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/dashboard/Calendar.vue\"],\"names\":[],\"mappings\":\"AAslBA,sEACE,aACF\",\"sourcesContent\":[\"<!--\\n  - Calendar.vue\\n  - Copyright (c) 2020 james@firefly-iii.org\\n  -\\n  - This file is part of Firefly III (https://github.com/firefly-iii).\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n  <div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col\\\">Start</div>\\n      <div class=\\\"col-8\\\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.start) }}</div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col\\\">End</div>\\n      <div class=\\\"col-8\\\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.end) }}</div>\\n    </div>\\n    <date-picker\\n        v-model=\\\"range\\\"\\n        :rows=\\\"2\\\"\\n        is-range\\n        mode=\\\"date\\\"\\n    >\\n      <template v-slot=\\\"{ inputValue, inputEvents, isDragging, togglePopover }\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col\\\">\\n            <div class=\\\"btn-group btn-group-sm d-flex\\\">\\n              <button\\n                  :title=\\\"$t('firefly.custom_period')\\\" class=\\\"btn btn-secondary btn-sm\\\"\\n                  @click=\\\"togglePopover({ placement: 'auto-start', positionFixed: true })\\\"\\n              ><span class=\\\"fas fa-calendar-alt\\\"></span></button>\\n              <button :title=\\\"$t('firefly.reset_to_current')\\\"\\n                      class=\\\"btn btn-secondary\\\"\\n                      @click=\\\"resetDate\\\"\\n              ><span class=\\\"fas fa-history\\\"></span></button>\\n              <button id=\\\"dropdownMenuButton\\\" :title=\\\"$t('firefly.select_period')\\\" aria-expanded=\\\"false\\\" aria-haspopup=\\\"true\\\"\\n                      class=\\\"btn btn-secondary dropdown-toggle\\\"\\n                      data-toggle=\\\"dropdown\\\"\\n                      type=\\\"button\\\">\\n                <span class=\\\"fas fa-list\\\"></span>\\n              </button>\\n              <div aria-labelledby=\\\"dropdownMenuButton\\\" class=\\\"dropdown-menu\\\">\\n                <a v-for=\\\"period in periods\\\" class=\\\"dropdown-item\\\" href=\\\"#\\\" @click=\\\"customDate(period.start, period.end)\\\">{{ period.title }}</a>\\n              </div>\\n\\n            </div>\\n            <input v-on=\\\"inputEvents.start\\\"\\n                   :class=\\\"isDragging ? 'text-gray-600' : 'text-gray-900'\\\"\\n                   :value=\\\"inputValue.start\\\"\\n                   type=\\\"hidden\\\"\\n            />\\n            <input v-on=\\\"inputEvents.end\\\"\\n                   :class=\\\"isDragging ? 'text-gray-600' : 'text-gray-900'\\\"\\n                   :value=\\\"inputValue.end\\\"\\n                   type=\\\"hidden\\\"\\n            />\\n          </div>\\n        </div>\\n      </template>\\n    </date-picker>\\n  </div>\\n</template>\\n\\n<script>\\n\\nimport {createNamespacedHelpers} from \\\"vuex\\\";\\nimport Vue from \\\"vue\\\";\\nimport DatePicker from \\\"v-calendar/lib/components/date-picker.umd\\\";\\nimport subDays from 'date-fns/subDays';\\nimport addDays from 'date-fns/addDays';\\nimport addMonths from 'date-fns/addMonths';\\nimport startOfDay from 'date-fns/startOfDay';\\nimport endOfDay from 'date-fns/endOfDay';\\nimport startOfWeek from 'date-fns/startOfWeek';\\nimport endOfWeek from 'date-fns/endOfWeek';\\nimport endOfMonth from 'date-fns/endOfMonth';\\nimport format from 'date-fns/format';\\nimport startOfQuarter from 'date-fns/startOfQuarter';\\nimport subMonths from 'date-fns/subMonths';\\nimport endOfQuarter from 'date-fns/endOfQuarter';\\nimport subQuarters from 'date-fns/subQuarters';\\nimport addQuarters from 'date-fns/addQuarters';\\nimport startOfMonth from 'date-fns/startOfMonth';\\n\\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\\n\\nVue.component('date-picker', DatePicker)\\n\\nexport default {\\n  name: \\\"Calendar\\\",\\n  created() {\\n    // console.log('Now in calendar created');\\n    this.ready = true;\\n    this.locale = localStorage.locale ?? 'en-US';\\n  },\\n  data() {\\n    return {\\n      locale: 'en-US',\\n      ready: false,\\n      range: {\\n        start: null,\\n        end: null,\\n      },\\n      defaultRange: {\\n        start: null,\\n        end: null,\\n      },\\n      periods: []\\n    };\\n  },\\n  methods: {\\n    ...mapMutations(\\n        [\\n          'setEnd',\\n          'setStart',\\n        ],\\n    ),\\n    resetDate: function () {\\n      // console.log('Reset date to');\\n      // console.log(this.defaultStart);\\n      // console.log(this.defaultEnd);\\n      this.range.start = this.defaultStart;\\n      this.range.end = this.defaultEnd;\\n      this.setStart(this.defaultStart);\\n      this.setEnd(this.defaultEnd);\\n    },\\n    customDate: function (startStr, endStr) {\\n      let start = new Date(startStr);\\n      let end = new Date(endStr);\\n      this.setStart(start);\\n      this.setEnd(end);\\n      this.range.start = start;\\n      this.range.end = end;\\n      this.generatePeriods()\\n      return false;\\n    },\\n    generateDaily: function () {\\n      let today = new Date(this.range.start);\\n      // yesterday\\n      this.periods.push(\\n          {\\n            start: startOfDay(subDays(today, 1)).toDateString(),\\n            end: endOfDay(subDays(today, 1)).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(subDays(today, 1))\\n          }\\n      );\\n\\n      // today\\n      this.periods.push(\\n          {\\n            start: startOfDay(today).toDateString(),\\n            end: endOfDay(today).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(today)\\n          }\\n      );\\n\\n      // tomorrow:\\n      this.periods.push(\\n          {\\n            start: startOfDay(addDays(today, 1)).toDateString(),\\n            end: endOfDay(addDays(today, 1)).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 1))\\n          }\\n      );\\n\\n      // The Day After Tomorrow dun-dun-dun!\\n      this.periods.push(\\n          {\\n            start: startOfDay(addDays(today, 2)).toDateString(),\\n            end: endOfDay(addDays(today, 2)).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 2))\\n          }\\n      );\\n    },\\n\\n    generateWeekly: function () {\\n      //console.log('weekly');\\n      let today = new Date(this.range.start);\\n      //console.log('Today is ' + today);\\n      let start = startOfDay(startOfWeek(subDays(today, 7), {weekStartsOn: 1}));\\n      let end = endOfDay(endOfWeek(subDays(today, 7), {weekStartsOn: 1}));\\n      let dateFormat = this.$t('config.week_in_year_fns');\\n      //console.log('Date format: \\\"'+dateFormat+'\\\"');\\n      let title = format(start, dateFormat);\\n\\n      // last week\\n      // console.log('Last week');\\n      // console.log(start);\\n      // console.log(end);\\n      // console.log(title);\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // this week\\n      start = startOfDay(startOfWeek(today, {weekStartsOn: 1}));\\n      end = endOfDay(endOfWeek(today, {weekStartsOn: 1}));\\n      title = format(start, dateFormat);\\n      // console.log('This week');\\n      // console.log(start);\\n      // console.log(end);\\n      // console.log(title);\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // next week\\n      start = startOfDay(startOfWeek(addDays(today, 7), {weekStartsOn: 1}));\\n      end = endOfDay(endOfWeek(addDays(today, 7), {weekStartsOn: 1}));\\n      title = format(start, dateFormat);\\n      // console.log('Next week');\\n      // console.log(start);\\n      // console.log(end);\\n      // console.log(title);\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n    },\\n    generateMonthly: function () {\\n      let today = new Date(this.range.start);\\n      // previous month\\n      let start = startOfDay(startOfMonth(subMonths(today, 1)));\\n      let end = endOfDay(endOfMonth(subMonths(today, 1)));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\\n          }\\n      );\\n\\n      // this month\\n      start = startOfDay(startOfMonth(today));\\n      end = endOfDay(endOfMonth(today));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\\n          }\\n      );\\n\\n      // next month\\n      start = startOfDay(startOfMonth(addMonths(today, 1)));\\n      end = endOfDay(endOfMonth(addMonths(today, 1)));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\\n          }\\n      );\\n\\n    },\\n    generateQuarterly: function () {\\n      let today = new Date(this.range.start);\\n\\n      // last quarter\\n      let start = startOfDay(startOfQuarter(subQuarters(today, 1)));\\n      let end = endOfDay(endOfQuarter(subQuarters(today, 1)));\\n      let dateFormat = this.$t('config.quarter_fns');\\n      let title = format(start, dateFormat);\\n\\n      // last week\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n\\n      // this quarter\\n      start = startOfDay(startOfQuarter(today));\\n      end = endOfDay(endOfQuarter(today));\\n      title = format(start, dateFormat);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n      // next quarter\\n      start = startOfDay(startOfQuarter(addQuarters(today, 1)));\\n      end = endOfDay(endOfQuarter(addQuarters(today, 1)));\\n      title = format(start, dateFormat);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n    },\\n    generateHalfYearly: function () {\\n      let today = new Date(this.range.start);\\n      let start;\\n      let end;\\n      let title = 'tbd';\\n      let half = 1;\\n\\n      // its currently first half of year:\\n      if (today.getMonth() <= 5) {\\n        // previous year, last half:\\n        start = today;\\n        start.setFullYear(start.getFullYear() - 1);\\n        start.setMonth(6);\\n        start.setDate(1);\\n        start = startOfDay(start);\\n        end = start;\\n        end.setMonth(11);\\n        end.setDate(31);\\n        end = endOfDay(end);\\n        half = 2;\\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\\n        this.periods.push(\\n            {\\n              start: start.toDateString(),\\n              end: end.toDateString(),\\n              title: title\\n            }\\n        );\\n\\n        // this year, first half:\\n        start = today;\\n        start.setMonth(0);\\n        start.setDate(1);\\n        start = startOfDay(start);\\n        end = today;\\n        end.setMonth(5);\\n        end.setDate(30);\\n        end = endOfDay(start);\\n        half = 1;\\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\\n        this.periods.push(\\n            {\\n              start: start.toDateString(),\\n              end: end.toDateString(),\\n              title: title\\n            }\\n        );\\n\\n        // this year, second half:\\n        start = today;\\n        start.setMonth(6);\\n        start.setDate(1);\\n        start = startOfDay(start);\\n        end = start;\\n        end.setMonth(11);\\n        end.setDate(31);\\n        end = endOfDay(end);\\n        half = 2;\\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\\n        this.periods.push(\\n            {\\n              start: start.toDateString(),\\n              end: end.toDateString(),\\n              title: title\\n            }\\n        );\\n        return;\\n      }\\n      // this year, first half:\\n      start = today;\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n      end = start;\\n      end.setMonth(5);\\n      end.setDate(30);\\n      end = endOfDay(end);\\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // this year, current (second) half:\\n      start = today;\\n      start.setMonth(6);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n      end = today;\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(start);\\n      half = 2;\\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // next year, first half:\\n      start = today;\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n      end = start;\\n      end.setMonth(5);\\n      end.setDate(30);\\n      end = endOfDay(end);\\n      half = 1;\\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n    },\\n    generateYearly: function () {\\n      let today = new Date(this.range.start);\\n      let start;\\n      let end;\\n\\n      // last year\\n      start = new Date(today);\\n      start.setFullYear(start.getFullYear() - 1);\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n\\n      end = new Date(today);\\n      end.setFullYear(end.getFullYear() - 1);\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(end);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: start.getFullYear()\\n          }\\n      );\\n\\n      // this year\\n      start = new Date(today);\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n\\n      end = new Date(today);\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(end);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: start.getFullYear()\\n          }\\n      );\\n      // next year\\n      start = new Date(today);\\n      start.setFullYear(start.getFullYear() + 1);\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n\\n      end = new Date(today);\\n      end.setFullYear(end.getFullYear() + 1);\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(end);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: start.getFullYear()\\n          }\\n      );\\n    },\\n    generatePeriods: function () {\\n      this.periods = [];\\n      // console.log('The view range is \\\"' + this.viewRange + '\\\".');\\n      switch (this.viewRange) {\\n        case '1D':\\n          this.generateDaily();\\n          break;\\n        case '1W':\\n          this.generateWeekly();\\n          break;\\n        case '1M':\\n          this.generateMonthly();\\n          break;\\n        case '3M':\\n          this.generateQuarterly();\\n          break;\\n        case '6M':\\n          this.generateHalfYearly();\\n          break;\\n        case '1Y':\\n          this.generateYearly();\\n          break;\\n      }\\n\\n\\n      // last 7 days\\n      let today = new Date;\\n      let end = new Date;\\n      end.setDate(end.getDate() - 7);\\n      this.periods.push(\\n          {\\n            start: end.toDateString(),\\n            end: today.toDateString(),\\n            title: this.$t('firefly.last_seven_days')\\n          }\\n      );\\n\\n      // last 30 days:\\n      end.setDate(end.getDate() - 23);\\n      this.periods.push(\\n          {\\n            start: end.toDateString(),\\n            end: today.toDateString(),\\n            title: this.$t('firefly.last_thirty_days')\\n          }\\n      );\\n      // last 30 days\\n      // everything\\n    }\\n  },\\n  computed: {\\n    ...mapGetters([\\n                    'viewRange',\\n                    'start',\\n                    'end',\\n                    'defaultStart',\\n                    'defaultEnd'\\n                  ]),\\n    'datesReady': function () {\\n      return null !== this.start && null !== this.end && this.ready;\\n    },\\n  },\\n  watch: {\\n    datesReady: function (value) {\\n      if (false === value) {\\n        return;\\n      }\\n      this.range.start = new Date(this.start);\\n      this.range.end = new Date(this.end);\\n      this.generatePeriods();\\n\\n    },\\n    range: function (value) {\\n      //console.log('User updated range');\\n      this.setStart(value.start);\\n      this.setEnd(value.end);\\n    }\\n  }\\n}\\n</script>\\n\\n<style scoped>\\n.dropdown-item {\\n  color: #212529;\\n}\\n\\n.dropdown-item:hover {\\n  color: #212529;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<!--\n  - Calendar.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col\">Start</div>\n      <div class=\"col-8\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.start) }}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col\">End</div>\n      <div class=\"col-8\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.end) }}</div>\n    </div>\n    <date-picker\n        v-model=\"range\"\n        :rows=\"2\"\n        is-range\n        mode=\"date\"\n    >\n      <template v-slot=\"{ inputValue, inputEvents, isDragging, togglePopover }\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"btn-group btn-group-sm d-flex\">\n              <button\n                  :title=\"$t('firefly.custom_period')\" class=\"btn btn-secondary btn-sm\"\n                  @click=\"togglePopover({ placement: 'auto-start', positionFixed: true })\"\n              ><span class=\"fas fa-calendar-alt\"></span></button>\n              <button :title=\"$t('firefly.reset_to_current')\"\n                      class=\"btn btn-secondary\"\n                      @click=\"resetDate\"\n              ><span class=\"fas fa-history\"></span></button>\n              <button id=\"dropdownMenuButton\" :title=\"$t('firefly.select_period')\" aria-expanded=\"false\" aria-haspopup=\"true\"\n                      class=\"btn btn-secondary dropdown-toggle\"\n                      data-toggle=\"dropdown\"\n                      type=\"button\">\n                <span class=\"fas fa-list\"></span>\n              </button>\n              <div aria-labelledby=\"dropdownMenuButton\" class=\"dropdown-menu\">\n                <a v-for=\"period in periods\" class=\"dropdown-item\" href=\"#\" @click=\"customDate(period.start, period.end)\">{{ period.title }}</a>\n              </div>\n\n            </div>\n            <input v-on=\"inputEvents.start\"\n                   :class=\"isDragging ? 'text-gray-600' : 'text-gray-900'\"\n                   :value=\"inputValue.start\"\n                   type=\"hidden\"\n            />\n            <input v-on=\"inputEvents.end\"\n                   :class=\"isDragging ? 'text-gray-600' : 'text-gray-900'\"\n                   :value=\"inputValue.end\"\n                   type=\"hidden\"\n            />\n          </div>\n        </div>\n      </template>\n    </date-picker>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\nimport Vue from \"vue\";\nimport DatePicker from \"v-calendar/lib/components/date-picker.umd\";\nimport subDays from 'date-fns/subDays';\nimport addDays from 'date-fns/addDays';\nimport addMonths from 'date-fns/addMonths';\nimport startOfDay from 'date-fns/startOfDay';\nimport endOfDay from 'date-fns/endOfDay';\nimport startOfWeek from 'date-fns/startOfWeek';\nimport endOfWeek from 'date-fns/endOfWeek';\nimport endOfMonth from 'date-fns/endOfMonth';\nimport format from 'date-fns/format';\nimport startOfQuarter from 'date-fns/startOfQuarter';\nimport subMonths from 'date-fns/subMonths';\nimport endOfQuarter from 'date-fns/endOfQuarter';\nimport subQuarters from 'date-fns/subQuarters';\nimport addQuarters from 'date-fns/addQuarters';\nimport startOfMonth from 'date-fns/startOfMonth';\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\n\nVue.component('date-picker', DatePicker)\n\nexport default {\n  name: \"Calendar\",\n  created() {\n    // console.log('Now in calendar created');\n    this.ready = true;\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  data() {\n    return {\n      locale: 'en-US',\n      ready: false,\n      range: {\n        start: null,\n        end: null,\n      },\n      defaultRange: {\n        start: null,\n        end: null,\n      },\n      periods: []\n    };\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'setEnd',\n          'setStart',\n        ],\n    ),\n    resetDate: function () {\n      // console.log('Reset date to');\n      // console.log(this.defaultStart);\n      // console.log(this.defaultEnd);\n      this.range.start = this.defaultStart;\n      this.range.end = this.defaultEnd;\n      this.setStart(this.defaultStart);\n      this.setEnd(this.defaultEnd);\n    },\n    customDate: function (startStr, endStr) {\n      let start = new Date(startStr);\n      let end = new Date(endStr);\n      this.setStart(start);\n      this.setEnd(end);\n      this.range.start = start;\n      this.range.end = end;\n      this.generatePeriods()\n      return false;\n    },\n    generateDaily: function () {\n      let today = new Date(this.range.start);\n      // yesterday\n      this.periods.push(\n          {\n            start: startOfDay(subDays(today, 1)).toDateString(),\n            end: endOfDay(subDays(today, 1)).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(subDays(today, 1))\n          }\n      );\n\n      // today\n      this.periods.push(\n          {\n            start: startOfDay(today).toDateString(),\n            end: endOfDay(today).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(today)\n          }\n      );\n\n      // tomorrow:\n      this.periods.push(\n          {\n            start: startOfDay(addDays(today, 1)).toDateString(),\n            end: endOfDay(addDays(today, 1)).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 1))\n          }\n      );\n\n      // The Day After Tomorrow dun-dun-dun!\n      this.periods.push(\n          {\n            start: startOfDay(addDays(today, 2)).toDateString(),\n            end: endOfDay(addDays(today, 2)).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 2))\n          }\n      );\n    },\n\n    generateWeekly: function () {\n      //console.log('weekly');\n      let today = new Date(this.range.start);\n      //console.log('Today is ' + today);\n      let start = startOfDay(startOfWeek(subDays(today, 7), {weekStartsOn: 1}));\n      let end = endOfDay(endOfWeek(subDays(today, 7), {weekStartsOn: 1}));\n      let dateFormat = this.$t('config.week_in_year_fns');\n      //console.log('Date format: \"'+dateFormat+'\"');\n      let title = format(start, dateFormat);\n\n      // last week\n      // console.log('Last week');\n      // console.log(start);\n      // console.log(end);\n      // console.log(title);\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // this week\n      start = startOfDay(startOfWeek(today, {weekStartsOn: 1}));\n      end = endOfDay(endOfWeek(today, {weekStartsOn: 1}));\n      title = format(start, dateFormat);\n      // console.log('This week');\n      // console.log(start);\n      // console.log(end);\n      // console.log(title);\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // next week\n      start = startOfDay(startOfWeek(addDays(today, 7), {weekStartsOn: 1}));\n      end = endOfDay(endOfWeek(addDays(today, 7), {weekStartsOn: 1}));\n      title = format(start, dateFormat);\n      // console.log('Next week');\n      // console.log(start);\n      // console.log(end);\n      // console.log(title);\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n    },\n    generateMonthly: function () {\n      let today = new Date(this.range.start);\n      // previous month\n      let start = startOfDay(startOfMonth(subMonths(today, 1)));\n      let end = endOfDay(endOfMonth(subMonths(today, 1)));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\n          }\n      );\n\n      // this month\n      start = startOfDay(startOfMonth(today));\n      end = endOfDay(endOfMonth(today));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\n          }\n      );\n\n      // next month\n      start = startOfDay(startOfMonth(addMonths(today, 1)));\n      end = endOfDay(endOfMonth(addMonths(today, 1)));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\n          }\n      );\n\n    },\n    generateQuarterly: function () {\n      let today = new Date(this.range.start);\n\n      // last quarter\n      let start = startOfDay(startOfQuarter(subQuarters(today, 1)));\n      let end = endOfDay(endOfQuarter(subQuarters(today, 1)));\n      let dateFormat = this.$t('config.quarter_fns');\n      let title = format(start, dateFormat);\n\n      // last week\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n\n      // this quarter\n      start = startOfDay(startOfQuarter(today));\n      end = endOfDay(endOfQuarter(today));\n      title = format(start, dateFormat);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n      // next quarter\n      start = startOfDay(startOfQuarter(addQuarters(today, 1)));\n      end = endOfDay(endOfQuarter(addQuarters(today, 1)));\n      title = format(start, dateFormat);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n    },\n    generateHalfYearly: function () {\n      let today = new Date(this.range.start);\n      let start;\n      let end;\n      let title = 'tbd';\n      let half = 1;\n\n      // its currently first half of year:\n      if (today.getMonth() <= 5) {\n        // previous year, last half:\n        start = today;\n        start.setFullYear(start.getFullYear() - 1);\n        start.setMonth(6);\n        start.setDate(1);\n        start = startOfDay(start);\n        end = start;\n        end.setMonth(11);\n        end.setDate(31);\n        end = endOfDay(end);\n        half = 2;\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\n        this.periods.push(\n            {\n              start: start.toDateString(),\n              end: end.toDateString(),\n              title: title\n            }\n        );\n\n        // this year, first half:\n        start = today;\n        start.setMonth(0);\n        start.setDate(1);\n        start = startOfDay(start);\n        end = today;\n        end.setMonth(5);\n        end.setDate(30);\n        end = endOfDay(start);\n        half = 1;\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\n        this.periods.push(\n            {\n              start: start.toDateString(),\n              end: end.toDateString(),\n              title: title\n            }\n        );\n\n        // this year, second half:\n        start = today;\n        start.setMonth(6);\n        start.setDate(1);\n        start = startOfDay(start);\n        end = start;\n        end.setMonth(11);\n        end.setDate(31);\n        end = endOfDay(end);\n        half = 2;\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\n        this.periods.push(\n            {\n              start: start.toDateString(),\n              end: end.toDateString(),\n              title: title\n            }\n        );\n        return;\n      }\n      // this year, first half:\n      start = today;\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n      end = start;\n      end.setMonth(5);\n      end.setDate(30);\n      end = endOfDay(end);\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // this year, current (second) half:\n      start = today;\n      start.setMonth(6);\n      start.setDate(1);\n      start = startOfDay(start);\n      end = today;\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(start);\n      half = 2;\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // next year, first half:\n      start = today;\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n      end = start;\n      end.setMonth(5);\n      end.setDate(30);\n      end = endOfDay(end);\n      half = 1;\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n    },\n    generateYearly: function () {\n      let today = new Date(this.range.start);\n      let start;\n      let end;\n\n      // last year\n      start = new Date(today);\n      start.setFullYear(start.getFullYear() - 1);\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n\n      end = new Date(today);\n      end.setFullYear(end.getFullYear() - 1);\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(end);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: start.getFullYear()\n          }\n      );\n\n      // this year\n      start = new Date(today);\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n\n      end = new Date(today);\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(end);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: start.getFullYear()\n          }\n      );\n      // next year\n      start = new Date(today);\n      start.setFullYear(start.getFullYear() + 1);\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n\n      end = new Date(today);\n      end.setFullYear(end.getFullYear() + 1);\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(end);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: start.getFullYear()\n          }\n      );\n    },\n    generatePeriods: function () {\n      this.periods = [];\n      // console.log('The view range is \"' + this.viewRange + '\".');\n      switch (this.viewRange) {\n        case '1D':\n          this.generateDaily();\n          break;\n        case '1W':\n          this.generateWeekly();\n          break;\n        case '1M':\n          this.generateMonthly();\n          break;\n        case '3M':\n          this.generateQuarterly();\n          break;\n        case '6M':\n          this.generateHalfYearly();\n          break;\n        case '1Y':\n          this.generateYearly();\n          break;\n      }\n\n\n      // last 7 days\n      let today = new Date;\n      let end = new Date;\n      end.setDate(end.getDate() - 7);\n      this.periods.push(\n          {\n            start: end.toDateString(),\n            end: today.toDateString(),\n            title: this.$t('firefly.last_seven_days')\n          }\n      );\n\n      // last 30 days:\n      end.setDate(end.getDate() - 23);\n      this.periods.push(\n          {\n            start: end.toDateString(),\n            end: today.toDateString(),\n            title: this.$t('firefly.last_thirty_days')\n          }\n      );\n      // last 30 days\n      // everything\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'viewRange',\n                    'start',\n                    'end',\n                    'defaultStart',\n                    'defaultEnd'\n                  ]),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    },\n  },\n  watch: {\n    datesReady: function (value) {\n      if (false === value) {\n        return;\n      }\n      this.range.start = new Date(this.start);\n      this.range.end = new Date(this.end);\n      this.generatePeriods();\n\n    },\n    range: function (value) {\n      //console.log('User updated range');\n      this.setStart(value.start);\n      this.setEnd(value.end);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dropdown-item {\n  color: #212529;\n}\n\n.dropdown-item:hover {\n  color: #212529;\n}\n</style>","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Calendar.vue?vue&type=style&index=0&id=1ce542a2&scoped=true&lang=css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render } from \"./Calendar.vue?vue&type=template&id=1ce542a2&scoped=true\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js\"\n\nimport \"./Calendar.vue?vue&type=style&index=0&id=1ce542a2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1ce542a2\"\n\nexport default script"],"sourceRoot":""}