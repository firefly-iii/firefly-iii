{"version":3,"sources":["webpack:///./src/bootstrap.js","webpack:///./src/components/shared/transactions.js","webpack:///./src/components/store/modules/transactions/create.js","webpack:///./src/components/store/modules/transactions/edit.js","webpack:///./src/components/store/modules/dashboard/index.js","webpack:///./src/components/store/modules/root.js","webpack:///./src/components/store/modules/accounts/index.js","webpack:///./src/components/store/index.js","webpack:///./src/i18n.js","webpack:///src/components/transactions/Edit.vue","webpack:///./src/components/transactions/Edit.vue?2e9d","webpack:///./src/components/transactions/Edit.vue","webpack:///./src/components/transactions/Edit.vue?872f","webpack:///./src/pages/transactions/edit.js","webpack:///./src/components/transactions/TransactionTags.vue?1d59","webpack:///src/components/partials/Alert.vue","webpack:///./src/components/partials/Alert.vue?8ba7","webpack:///./src/components/partials/Alert.vue","webpack:///./src/components/partials/Alert.vue?bc9d","webpack:///./src/components/transactions/SplitForm.vue?f826","webpack:///src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?51f7","webpack:///./src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?5176","webpack:///src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?3867","webpack:///./src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?0ae7","webpack:///src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?00ee","webpack:///./src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?a67c","webpack:///src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?5275","webpack:///./src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?a3d9","webpack:///src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?2eca","webpack:///./src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?653e","webpack:///src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?69ff","webpack:///./src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?e9f4","webpack:///src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?ff11","webpack:///./src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?1a78","webpack:///src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?f6a0","webpack:///./src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?b802","webpack:///src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?c6d3","webpack:///./src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?bcbd","webpack:///src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue?b515","webpack:///./src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue?3c7a","webpack:///src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue?9147","webpack:///./src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue?82eb","webpack:///./src/components/transactions/TransactionTags.vue?aa73","webpack:///src/components/transactions/TransactionTags.vue","webpack:///./src/components/transactions/TransactionTags.vue?c786","webpack:///./src/components/transactions/TransactionTags.vue","webpack:///src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue?e9e1","webpack:///./src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue?43d9","webpack:///src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue?2fd1","webpack:///./src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue?0cb6","webpack:///src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue?28f8","webpack:///./src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue?3b2c","webpack:///src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue?3804","webpack:///./src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue?592a","webpack:///./src/components/transactions/TransactionLinks.vue?6de1","webpack:///src/components/transactions/TransactionLinks.vue","webpack:///./src/components/transactions/TransactionLinks.vue?d196","webpack:///./src/components/transactions/TransactionLinks.vue","webpack:///src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue?3db4","webpack:///./src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue?2a9b","webpack:///src/components/transactions/TransactionLocation.vue","webpack:///./src/components/transactions/TransactionLocation.vue?9e0a","webpack:///./src/components/transactions/TransactionLocation.vue","webpack:///./src/components/transactions/TransactionLocation.vue?113d","webpack:///./src/components/transactions/SplitForm.vue?99bd","webpack:///src/components/transactions/SplitForm.vue","webpack:///./src/components/transactions/SplitForm.vue","webpack:///src/components/transactions/SplitPills.vue","webpack:///./src/components/transactions/SplitPills.vue?cba2","webpack:///./src/components/transactions/SplitPills.vue","webpack:///./src/components/transactions/SplitPills.vue?39af","webpack:///./src/components/transactions/TransactionGroupTitle.vue?140c","webpack:///src/components/transactions/TransactionGroupTitle.vue","webpack:///./src/components/transactions/TransactionGroupTitle.vue?5049","webpack:///./src/components/transactions/TransactionGroupTitle.vue","webpack:///./src/components/transactions/TransactionTags.vue?cec9"],"names":["window","$","jQuery","require","axios","defaults","headers","common","token","document","head","querySelector","content","console","error","localeToken","localStorage","locale","vuei18n","VueI18n","uiv","Vue","getDefaultErrors","description","amount","source","destination","currency","foreign_currency","foreign_amount","date","custom_dates","budget","category","bill","tags","piggy_bank","internal_reference","external_url","notes","location","getDefaultTransaction","transaction_journal_id","source_account_id","source_account_name","source_account_type","source_account_currency_id","source_account_currency_code","source_account_currency_symbol","destination_account_id","destination_account_name","destination_account_type","destination_account_currency_id","destination_account_currency_code","destination_account_currency_symbol","source_account","id","name","name_with_balance","type","currency_id","currency_name","currency_code","currency_decimal_places","destination_account","foreign_currency_id","budget_id","bill_id","piggy_bank_id","interest_date","book_date","process_date","due_date","payment_date","invoice_date","external_id","links","attachments","zoom_level","longitude","latitude","errors","toW3CString","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","offset","getTimezoneOffset","offsetHours","Math","abs","floor","offsetMinutes","offsetSign","lodashClonedeep","namespaced","state","transactionType","groupTitle","transactions","customDateFields","defaultTransaction","defaultErrors","getters","accountToTransaction","sourceAllowedTypes","destinationAllowedTypes","allowedOpposingTypes","actions","mutations","addTransaction","newTransaction","push","resetErrors","payload","index","resetTransactions","setGroupTitle","setCustomDateFields","deleteTransaction","splice","length","setTransactionType","setAllowedOpposingTypes","setAccountToTransaction","updateField","field","value","setTransactionError","setDestinationAllowedTypes","setSourceAllowedTypes","viewRange","start","end","defaultStart","defaultEnd","initialiseStore","context","get","then","response","data","attributes","commit","dispatch","setDatesFromViewRange","viewRangeStart","Date","viewRangeEnd","viewRangeDefaultStart","viewRangeDefaultEnd","getTime","setHours","diff","getDay","setDate","lastday","quarter","half","setStart","setItem","setEnd","setDefaultStart","setDefaultEnd","setViewRange","range","listPageSize","parseInt","setListPageSize","number","orderMode","activeFilter","setOrderMode","setActiveFilter","Vuex","modules","root","root_store","create","transactions_create","edit","transactions_edit","accounts","accounts_index","dashboard","dashboard_index","strict","process","plugins","currencyPreference","setCurrencyPreference","currencyCode","code","currencyId","updateCurrencyPreference","JSON","parse","currencyResponse","symbol","decimal_places","stringify","err","module","exports","documentElement","lang","fallbackLocale","messages","created","this","groupId","parts","getTransactionGroup","getAllowedOpposingTypes","getCustomFields","successMessage","errorMessage","warningMessage","originalTransactions","originalGroupTitle","groupTitleErrors","customFields","returnedGroupId","returnedGroupTitle","time","originalDate","originalTime","submittedTransaction","submittedLinks","submittedAttachments","inError","enableSubmit","stayHere","components","Alert","SplitPills","SplitForm","TransactionGroupTitle","watch","finalizeSubmit","methods","parseTransactionGroup","group_title","hasOwnProperty","i","test","result","parseLinks","parseTransaction","array","charAt","toUpperCase","slice","source_type","destination_type","source_id","source_name","destination_id","destination_name","category_name","substr","external_uri","journalId","parseLink","opposingId","link","outward_id","linkDirection","promises","Promise","resolve","link_type_id","all","journals","journal","linkTypeId","direction","transaction_group_id","responses","uploadedAttachment","log","storeLocation","zoomLevel","lng","lat","storeAccountValue","storeDate","storeTime","storeField","removeTransaction","storeGroupTitle","selectedAttachments","submitTransaction","submission","shouldSubmit","basicFields","ii","currentTransaction","fieldName","originalTransaction","currentTag","text","shouldLinks","shouldUpload","theDate","setMinutes","setSeconds","dateStr","Object","keys","transactionCount","submitUpdate","submitTransactionLinks","compareLinks","compare","put","url","parseErrors","$t","message","key","transactionIndex","split","deleteOriginalLinks","transaction","newLinks","originalLinks","inward_id","linkObject","currentLink","total","post","href","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","_l","on","$event","model","callback","$$v","$set","expression","_e","_s","directives","rawName","domProps","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$i","concat","i18n","props","store","render","createElement","Edit","beforeCreate","$store","$mount","___CSS_LOADER_EXPORT___","class","descriptions","initialSet","getACURL","clearDescription","getElementsByTagName","query","lookupDescription","debounce","$emit","item","slot","timeZone","Intl","DateTimeFormat","resolvedOptions","localDate","localTime","timeString","computed","isNaN","toISOString","set","timeStr","hrs","min","sec","current","ref","composing","budgetList","emitEvent","collectData","getBudgets","parseBudgets","preventDefault","$$selectedVal","prototype","filter","call","options","o","selected","map","_value","multiple","Number","String","default","accountTypes","selectedAccount","account","accountName","selectedAccountTrigger","createInitialSet","types","join","clearAccount","lookupAccount","accountTrigger","opposingAccounts","accountKey","visible","scopedSlots","_u","fn","htmlText","switchAccounts","required","sourceCurrencySymbol","destinationCurrencySymbol","fractionDigits","transactionAmount","formatNumber","parseFloat","str","toFixed","currencySymbol","srcCurrencySymbol","dstCurrencySymbol","sourceCurrencyId","destinationCurrencyId","isVisible","selectedCurrency","allCurrencies","selectableCurrencies","dstCurrencyId","srcCurrencyId","lockedCurrency","filterCurrencies","getAllCurrencies","dateFields","availableFields","dates","interestDate","bookDate","processDate","dueDate","paymentDate","invoiceDate","isDateField","includes","getFieldValue","setFieldValue","enabled","refInFor","categories","clearCategory","lookupCategory","selectedCategory","billList","getBills","parseBills","VueTagsInput","autocompleteItems","updateTags","tagList","shortList","initItems","clearTimeout","setTimeout","this$1","newTags","piggyList","getPiggies","parsePiggies","piggy","reference","showField","_m","searchResults","include","linkTypes","searching","getLinkTypes","removeLink","getTextForLinkType","selectTransaction","addToSelected","removeFromSelected","selectLinkType","updateSelected","resetModal","search","parseLinkTypes","inward","outward","linkTypeInward","linkTypeOutward","parseSearch","isJournalSelected","getJournalLinkType","link_type_text","NumberFormat","style","format","staticStyle","linkType","doUpload","selectedFile","$refs","att","files","LMap","LTileLayer","LMarker","zoom","center","hasMarker","bounds","marker","prepMap","myMap","mapObject","setObjectLocation","saveZoomLevel","event","latlng","clearLocation","zoomUpdated","centerUpdated","boundsUpdated","count","Boolean","allowSwitch","splitDate","splitTime","sourceAccount","destinationAccount","hasMetaFields","requiredFields","TransactionLocation","TransactionAttachments","TransactionNotes","TransactionExternalUrl","TransactionInternalReference","TransactionPiggyBank","TransactionTags","TransactionLinks","TransactionBill","TransactionCategory","TransactionCustomDates","TransactionForeignCurrency","TransactionForeignAmount","TransactionAmount","SwitchAccount","TransactionAccount","TransactionBudget","TransactionDescription","TransactionDate","_g","$listeners","title","__esModule","locals","add"],"mappings":"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","file":"/public/js/transactions/edit.js","sourcesContent":["/*\n * bootstrap.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// // imports\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n'\nimport * as uiv from 'uiv';\n\n// export jquery for others scripts to use\nwindow.$ = window.jQuery = require('jquery');\n\n// axios\nwindow.axios = require('axios');\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n// CSRF\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]');\n\nif (token) {\n    window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n} else {\n    console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');\n}\n\n// locale\nlet localeToken = document.head.querySelector('meta[name=\"locale\"]');\n\nif (localeToken) {\n    localStorage.locale = localeToken.content;\n} else {\n    localStorage.locale = 'en_US';\n}\n\n// admin stuff\nrequire('jquery-ui');\nrequire('bootstrap'); // bootstrap CSS?\n\nrequire('admin-lte/dist/js/adminlte');\nrequire('overlayscrollbars');\n\n\n// vue\nwindow.vuei18n = VueI18n;\nwindow.uiv = uiv;\nVue.use(vuei18n);\nVue.use(uiv);\nwindow.Vue = Vue;","/*\n * transactions.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport function getDefaultErrors() {\n    return {\n        description: [],\n        amount: [],\n        source: [],\n        destination: [],\n        currency: [],\n        foreign_currency: [],\n        foreign_amount: [],\n        date: [],\n        custom_dates: [],\n        budget: [],\n        category: [],\n        bill: [],\n        tags: [],\n        piggy_bank: [],\n        internal_reference: [],\n        external_url: [],\n        notes: [],\n        location: []\n    };\n}\n\nexport function getDefaultTransaction() {\n    return {\n        // basic\n        description: '',\n        transaction_journal_id: 0,\n        // accounts:\n        source_account_id: null,\n        source_account_name: null,\n        source_account_type: null,\n\n        source_account_currency_id: null,\n        source_account_currency_code: null,\n        source_account_currency_symbol: null,\n\n        destination_account_id: null,\n        destination_account_name: null,\n        destination_account_type: null,\n\n        destination_account_currency_id: null,\n        destination_account_currency_code: null,\n        destination_account_currency_symbol: null,\n\n        source_account: {\n            id: 0,\n            name: \"\",\n            name_with_balance: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n        destination_account: {\n            id: 0,\n            name: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n\n        // amount:\n        amount: '',\n        currency_id: 0,\n        foreign_amount: '',\n        foreign_currency_id: 0,\n\n        // meta data\n        category: null,\n        budget_id: 0,\n        bill_id: 0,\n        piggy_bank_id: 0,\n        tags: [],\n\n        // optional date fields (6x):\n        interest_date: null,\n        book_date: null,\n        process_date: null,\n        due_date: null,\n        payment_date: null,\n        invoice_date: null,\n\n        // optional other fields:\n        internal_reference: null,\n        external_url: null,\n        external_id: null,\n        notes: null,\n\n        // transaction links:\n        links: [],\n        attachments: [],\n        // location:\n        zoom_level: null,\n        longitude: null,\n        latitude: null,\n\n        // error handling\n        errors: {},\n    }\n}\n\nexport function toW3CString(date) {\n    // https://gist.github.com/tristanlins/6585391\n    let year = date.getFullYear();\n    let month = date.getMonth();\n    month++;\n    if (month < 10) {\n        month = '0' + month;\n    }\n    let day = date.getDate();\n    if (day < 10) {\n        day = '0' + day;\n    }\n    let hours = date.getHours();\n    if (hours < 10) {\n        hours = '0' + hours;\n    }\n    let minutes = date.getMinutes();\n    if (minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    let seconds = date.getSeconds();\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n    let offset = -date.getTimezoneOffset();\n    let offsetHours = Math.abs(Math.floor(offset / 60));\n    let offsetMinutes = Math.abs(offset) - offsetHours * 60;\n    if (offsetHours < 10) {\n        offsetHours = '0' + offsetHours;\n    }\n    if (offsetMinutes < 10) {\n        offsetMinutes = '0' + offsetMinutes;\n    }\n    let offsetSign = '+';\n    if (offset < 0) {\n        offsetSign = '-';\n    }\n    return year + '-' + month + '-' + day +\n           'T' + hours + ':' + minutes + ':' + seconds +\n           offsetSign + offsetHours + ':' + offsetMinutes;\n}","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst lodashClonedeep = require('lodash.clonedeep');\n\nimport {getDefaultTransaction, getDefaultErrors} from '../../../shared/transactions';\n\n// initial state\nconst state = () => ({\n        transactionType: 'any',\n        groupTitle: '',\n        transactions: [],\n        customDateFields: {\n            interest_date: false,\n            book_date: false,\n            process_date: false,\n            due_date: false,\n            payment_date: false,\n            invoice_date: false,\n        },\n        defaultTransaction: getDefaultTransaction(),\n        defaultErrors: getDefaultErrors()\n    }\n)\n\n\n// getters\nconst getters = {\n    transactions: state => {\n        return state.transactions;\n    },\n    groupTitle: state => {\n        return state.groupTitle;\n    },\n    transactionType: state => {\n        return state.transactionType;\n    },\n    accountToTransaction: state => {\n        // TODO better architecture here, does not need the store.\n        // possible API point!!\n        return state.accountToTransaction;\n    },\n    defaultTransaction: state => {\n        return state.defaultTransaction;\n    },\n    sourceAllowedTypes: state => {\n        return state.sourceAllowedTypes;\n    },\n    destinationAllowedTypes: state => {\n        return state.destinationAllowedTypes;\n    },\n    allowedOpposingTypes: state => {\n        return state.allowedOpposingTypes;\n    },\n    customDateFields: state => {\n        return state.customDateFields;\n    }\n    // // `getters` is localized to this module's getters\n    // // you can use rootGetters via 4th argument of getters\n    // someGetter (state, getters, rootState, rootGetters) {\n    //     getters.someOtherGetter // -> 'foo/someOtherGetter'\n    //     rootGetters.someOtherGetter // -> 'someOtherGetter'\n    //     rootGetters['bar/someOtherGetter'] // -> 'bar/someOtherGetter'\n    // },\n\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    addTransaction(state) {\n        let newTransaction = lodashClonedeep(state.defaultTransaction);\n        newTransaction.errors = lodashClonedeep(state.defaultErrors);\n        state.transactions.push(newTransaction);\n    },\n    resetErrors(state, payload) {\n        //console.log('resetErrors for index ' + payload.index);\n        state.transactions[payload.index].errors = lodashClonedeep(state.defaultErrors);\n    },\n    resetTransactions(state) {\n        state.transactions = [];\n    },\n    setGroupTitle(state, payload) {\n        state.groupTitle = payload.groupTitle;\n    },\n    setCustomDateFields(state, payload) {\n        state.customDateFields = payload;\n    },\n    deleteTransaction(state, payload) {\n        state.transactions.splice(payload.index, 1);\n        // console.log('Deleted transaction ' + payload.index);\n        // console.log(state.transactions);\n        if (0 === state.transactions.length) {\n            // console.log('array is empty!');\n        }\n    },\n    setTransactionType(state, transactionType) {\n        state.transactionType = transactionType;\n    },\n    setAllowedOpposingTypes(state, allowedOpposingTypes) {\n        state.allowedOpposingTypes = allowedOpposingTypes;\n    },\n    setAccountToTransaction(state, payload) {\n        state.accountToTransaction = payload;\n    },\n    updateField(state, payload) {\n        state.transactions[payload.index][payload.field] = payload.value;\n    },\n    setTransactionError(state, payload) {\n        //console.log('Will set transactions[' + payload.index + '][errors][' + payload.field + '] to ');\n        //console.log(payload.errors);\n        state.transactions[payload.index].errors[payload.field] = payload.errors;\n    },\n    setDestinationAllowedTypes(state, payload) {\n        // console.log('Destination allowed types was changed!');\n        state.destinationAllowedTypes = payload;\n    },\n    setSourceAllowedTypes(state, payload) {\n        state.sourceAllowedTypes = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * edit.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => ({});\n\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {};\n\n// mutations\nconst mutations = {};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        viewRange: 'default',\n        start: null,\n        end: null,\n        // default range:\n        defaultStart: null,\n        defaultEnd: null,\n    }\n)\n\n\n// getters\nconst getters = {\n    start: state => {\n        return state.start;\n    },\n    end: state => {\n        return state.end;\n    },\n    defaultStart: state => {\n        return state.defaultStart;\n    },\n    defaultEnd: state => {\n        return state.defaultEnd;\n    },\n    viewRange: state => {\n        return state.viewRange;\n    }\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        if ('default' === context.state.viewRange) {\n            axios.get('./api/v1/preferences/viewRange')\n                .then(response => {\n                          let viewRange = response.data.data.attributes.data;\n                          context.commit('setViewRange', viewRange);\n                          // call another action:\n                          context.dispatch('setDatesFromViewRange');\n                      }\n                ).catch(error => {\n                // console.log(error);\n                context.commit('setViewRange', '1M');\n                // call another action:\n                context.dispatch('setDatesFromViewRange');\n            });\n        }\n    },\n    setDatesFromViewRange(context) {\n        // console.log('Must set dates from viewRange \"' + context.state.viewRange + '\"');\n        // check local storage first?\n        if (localStorage.viewRangeStart) {\n            // console.log('view range start set from local storage.');\n            context.commit('setStart', new Date(localStorage.viewRangeStart));\n        }\n        if (localStorage.viewRangeEnd) {\n            // console.log('view range end set from local storage.');\n            context.commit('setEnd', new Date(localStorage.viewRangeEnd));\n        }\n        // also set default:\n        if (localStorage.viewRangeDefaultStart) {\n            // console.log('view range default start set from local storage.');\n            // console.log(localStorage.viewRangeDefaultStart);\n            context.commit('setDefaultStart', new Date(localStorage.viewRangeDefaultStart));\n        }\n        if (localStorage.viewRangeDefaultEnd) {\n            // console.log('view range default end set from local storage.');\n            // console.log(localStorage.viewRangeDefaultEnd);\n            context.commit('setDefaultEnd', new Date(localStorage.viewRangeDefaultEnd));\n        }\n\n        if (null !== context.getters.end && null !== context.getters.start) {\n            return;\n        }\n        let start;\n        let end;\n        let viewRange = context.getters.viewRange;\n        // console.log('Will recreate view range on ' + viewRange);\n        switch (viewRange) {\n            case '1D':\n                // one day:\n                start = new Date;\n                end = new Date(start.getTime());\n                start.setHours(0, 0, 0, 0);\n                end.setHours(23, 59, 59, 999);\n                break;\n            case '1W':\n                // this week:\n                start = new Date;\n                end = new Date(start.getTime());\n                // start of week\n                let diff = start.getDate() - start.getDay() + (start.getDay() === 0 ? -6 : 1);\n                start.setDate(diff);\n                start.setHours(0, 0, 0, 0);\n\n                // end of week\n                let lastday = end.getDate() - (end.getDay() - 1) + 6;\n                end.setDate(lastday);\n                end.setHours(23, 59, 59, 999);\n                break;\n            case '1M':\n                // this month:\n                start = new Date;\n                start = new Date(start.getFullYear(), start.getMonth(), 1);\n                start.setHours(0, 0, 0, 0);\n                end = new Date(start.getFullYear(), start.getMonth() + 1, 0);\n                end.setHours(23, 59, 59, 999);\n                break;\n            case '3M':\n                // this quarter\n                start = new Date;\n                end = new Date;\n                let quarter = Math.floor((start.getMonth() + 3) / 3) - 1;\n                // start and end months? I'm sure this could be better:\n                let startMonths = [0, 3, 6, 9];\n                let endMonths = [2, 5, 8, 11];\n                // set start to the correct month, day one:\n                start = new Date(start.getFullYear(), startMonths[quarter], 1);\n                start.setHours(0, 0, 0, 0);\n\n                // set end to the correct month, day one\n                end = new Date(end.getFullYear(), endMonths[quarter], 1);\n                // then to the last day of the month:\n                end = new Date(end.getFullYear(), end.getMonth() + 1, 0);\n                end.setHours(23, 59, 59, 999);\n                break;\n            case '6M':\n                // this half-year\n                start = new Date;\n                end = new Date;\n                let half = start.getMonth() <= 5 ? 0 : 1;\n\n                let startHalf = [0, 6];\n                let endHalf = [5, 11];\n                // set start to the correct month, day one:\n                start = new Date(start.getFullYear(), startHalf[half], 1);\n                start.setHours(0, 0, 0, 0);\n\n                // set end to the correct month, day one\n                end = new Date(end.getFullYear(), endHalf[half], 1);\n                // then to the last day of the month:\n                end = new Date(end.getFullYear(), end.getMonth() + 1, 0);\n                end.setHours(23, 59, 59, 999);\n                break;\n            case '1Y':\n                // this year\n                start = new Date;\n                end = new Date;\n                start = new Date(start.getFullYear(), 0, 1);\n\n                end = new Date(end.getFullYear(), 11, 31);\n                start.setHours(0, 0, 0, 0);\n                end.setHours(23, 59, 59, 999);\n                break;\n        }\n        // console.log('Range is ' + viewRange);\n        // console.log('Start is ' + start);\n        // console.log('End is   ' + end);\n        context.commit('setStart', start);\n        context.commit('setEnd', end);\n        context.commit('setDefaultStart', start);\n        context.commit('setDefaultEnd', end);\n    }\n}\n\n// mutations\nconst mutations = {\n    setStart(state, value) {\n        state.start = value;\n        window.localStorage.setItem('viewRangeStart', value);\n    },\n    setEnd(state, value) {\n        state.end = value;\n        window.localStorage.setItem('viewRangeEnd', value);\n    },\n    setDefaultStart(state, value) {\n        state.defaultStart = value;\n        window.localStorage.setItem('viewRangeDefaultStart', value);\n    },\n    setDefaultEnd(state, value) {\n        state.defaultEnd = value;\n        window.localStorage.setItem('viewRangeDefaultEnd', value);\n    },\n    setViewRange(state, range) {\n        state.viewRange = range;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * root.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        listPageSize: 33,\n    }\n)\n\n\n// getters\nconst getters = {\n    listPageSize: state => {\n        // console.log('Wil return ' + state.listPageSize);\n        return state.listPageSize;\n    },\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        // console.log('Now in root initialiseStore');\n        // if list length in local storage:\n        if (localStorage.listPageSize) {\n            // console.log('listPageSize is in localStorage')\n            // console.log('Init list page size with value ');\n            // console.log(localStorage.listPageSize);\n            state.listPageSize = localStorage.listPageSize;\n            context.commit('setListPageSize', {length: localStorage.listPageSize});\n        }\n        if (!localStorage.listPageSize) {\n            axios.get('./api/v1/preferences/listPageSize')\n                .then(response => {\n                          // console.log('from API: listPageSize is ' + parseInt(response.data.data.attributes.data));\n                          context.commit('setListPageSize', {length: parseInt(response.data.data.attributes.data)});\n                      }\n                );\n        }\n    }\n}\n\n// mutations\nconst mutations = {\n    setListPageSize(state, payload) {\n        // console.log('Got a payload in setListPageSize');\n        // console.log(payload);\n        let number = parseInt(payload.length);\n        if (0 !== number) {\n            state.listPageSize = number;\n\n        }\n    },\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        orderMode: false,\n        activeFilter: 1\n    }\n)\n\n\n// getters\nconst getters = {\n    orderMode: state => {\n        return state.orderMode;\n    },\n    activeFilter: state => {\n        return state.activeFilter;\n    }\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    setOrderMode(state, payload) {\n        state.orderMode = payload;\n    },\n    setActiveFilter(state, payload) {\n        state.activeFilter = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport Vue from 'vue'\nimport Vuex, {createLogger} from 'vuex'\nimport transactions_create from './modules/transactions/create';\nimport transactions_edit from './modules/transactions/edit';\nimport dashboard_index from './modules/dashboard/index';\nimport root_store from './modules/root';\nimport accounts_index from './modules/accounts/index';\n\nVue.use(Vuex)\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store(\n    {\n        namespaced: true,\n        modules: {\n            root: root_store,\n            transactions: {\n                namespaced: true,\n                modules: {\n                    create: transactions_create,\n                    edit: transactions_edit\n                }\n            },\n            accounts: {\n                namespaced: true,\n                modules: {\n                    index: accounts_index\n                },\n            },\n            dashboard: {\n                namespaced: true,\n                modules: {\n                    index: dashboard_index\n                }\n            }\n        },\n        strict: debug,\n        plugins: debug ? [createLogger()] : [],\n        state: {\n            currencyPreference: {},\n            locale: 'en-US',\n            listPageSize: 50\n        },\n        mutations: {\n            setCurrencyPreference(state, payload) {\n                state.currencyPreference = payload.payload;\n            },\n            initialiseStore(state) {\n                // if locale in local storage:\n                if (localStorage.locale) {\n                    state.locale = localStorage.locale;\n                    return;\n                }\n\n                // set locale from HTML:\n                let localeToken = document.head.querySelector('meta[name=\"locale\"]');\n                if (localeToken) {\n                    state.locale = localeToken.content;\n                    localStorage.locale = localeToken.content;\n                }\n            }\n        },\n        getters: {\n            currencyCode: state => {\n                return state.currencyPreference.code;\n            },\n            currencyPreference: state => {\n                return state.currencyPreference;\n            },\n            currencyId: state => {\n                return state.currencyPreference.id;\n            },\n            locale: state => {\n                return state.locale;\n            }\n            },\n        actions: {\n\n            updateCurrencyPreference(context) {\n                if (localStorage.currencyPreference) {\n                    context.commit('setCurrencyPreference', {payload: JSON.parse(localStorage.currencyPreference)});\n                    return;\n                }\n                axios.get('./api/v1/currencies/default')\n                    .then(response => {\n                        let currencyResponse = {\n                            id: parseInt(response.data.data.id),\n                            name: response.data.data.attributes.name,\n                            symbol: response.data.data.attributes.symbol,\n                            code: response.data.data.attributes.code,\n                            decimal_places: parseInt(response.data.data.attributes.decimal_places),\n                        };\n                        localStorage.currencyPreference = JSON.stringify(currencyResponse);\n                        //console.log('getCurrencyPreference from server')\n                        //console.log(JSON.stringify(currencyResponse));\n                        context.commit('setCurrencyPreference', {payload: currencyResponse});\n                    }).catch(err => {\n                    // console.log('Got error response.');\n                    console.error(err);\n                    context.commit('setCurrencyPreference', {\n                        payload: {\n                            id: 1,\n                            name: 'Euro',\n                            symbol: '',\n                            code: 'EUR',\n                            decimal_places: 2\n                        }\n                    });\n                });\n\n            }\n        }\n    }\n);","/*\n * i18n.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// Create VueI18n instance with options\nmodule.exports = new vuei18n({\n    locale: document.documentElement.lang, // set locale\n    fallbackLocale: 'en',\n    messages: {\n        'bg': require('./locales/bg.json'),\n        'cs': require('./locales/cs.json'),\n        'de': require('./locales/de.json'),\n        'en': require('./locales/en.json'),\n        'en-us': require('./locales/en.json'),\n        'en-gb': require('./locales/en-gb.json'),\n        'es': require('./locales/es.json'),\n        'el': require('./locales/el.json'),\n        'fr': require('./locales/fr.json'),\n        'hu': require('./locales/hu.json'),\n        //'id': require('./locales/id.json'),\n        'it': require('./locales/it.json'),\n        'nl': require('./locales/nl.json'),\n        'nb': require('./locales/nb.json'),\n        'pl': require('./locales/pl.json'),\n        'fi': require('./locales/fi.json'),\n        'pt-br': require('./locales/pt-br.json'),\n        'pt-pt': require('./locales/pt.json'),\n        'ro': require('./locales/ro.json'),\n        'ru': require('./locales/ru.json'),\n        //'zh': require('./locales/zh.json'),\n        'zh-tw': require('./locales/zh-tw.json'),\n        'zh-cn': require('./locales/zh-cn.json'),\n        'sk': require('./locales/sk.json'),\n        'sv': require('./locales/sv.json'),\n        'vi': require('./locales/vi.json'),\n    }\n});\n","<!--\n  - Edit.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <Alert :message=\"errorMessage\" type=\"danger\"/>\n    <Alert :message=\"successMessage\" type=\"success\"/>\n    <Alert :message=\"warningMessage\" type=\"warning\"/>\n    <SplitPills :transactions=\"transactions\"/>\n\n    <div class=\"tab-content\">\n      <SplitForm\n          v-for=\"(transaction, index) in this.transactions\"\n          v-bind:key=\"index\"\n          :count=\"transactions.length\"\n          :transaction=\"transaction\"\n          :allowed-opposing-types=\"allowedOpposingTypes\"\n          :custom-fields=\"customFields\"\n          :date=\"date\"\n          :time=\"time\"\n          :index=\"index\"\n          :transaction-type=\"transactionType\"\n          :destination-allowed-types=\"destinationAllowedTypes\"\n          :source-allowed-types=\"sourceAllowedTypes\"\n          :allow-switch=\"false\"\n          :submitted-transaction=\"submittedTransaction\"\n          v-on:uploaded-attachments=\"uploadedAttachment($event)\"\n          v-on:set-marker-location=\"storeLocation($event)\"\n          v-on:set-account=\"storeAccountValue($event)\"\n          v-on:set-date=\"storeDate($event)\"\n          v-on:set-time=\"storeTime($event)\"\n          v-on:set-field=\"storeField($event)\"\n          v-on:remove-transaction=\"removeTransaction($event)\"\n          v-on:selected-attachments=\"selectedAttachments($event)\"\n      />\n    </div>\n\n    <!-- bottom buttons etc -->\n    <div class=\"row\">\n      <!-- group title -->\n      <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <div v-if=\"transactions.length > 1\" class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionGroupTitle v-model=\"this.groupTitle\" :errors=\"this.groupTitleErrors\" v-on:set-group-title=\"storeGroupTitle($event)\"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <!-- buttons -->\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                  &nbsp;\n                </div>\n                <button class=\"btn btn-outline-primary btn-block\" @click=\"addTransaction\"><i class=\"far fa-clone\"></i> {{ $t('firefly.add_another_split') }}\n                </button>\n              </div>\n              <div class=\"col\">\n                <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                  &nbsp;\n                </div>\n                <button :disabled=\"!enableSubmit\" class=\"btn btn-info btn-block\" @click=\"submitTransaction\">\n                  <span v-if=\"enableSubmit\"><i class=\"far fa-save\"></i> {{ $t('firefly.update_transaction') }}</span>\n                  <span v-if=\"!enableSubmit\"><i class=\"fas fa-spinner fa-spin\"></i></span>\n                </button>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                &nbsp;\n              </div>\n              <div class=\"col\">\n                <div class=\"form-check\">\n                  <input id=\"stayHere\" v-model=\"stayHere\" class=\"form-check-input\" type=\"checkbox\">\n                  <label class=\"form-check-label\" for=\"stayHere\">\n                    <span class=\"small\">{{ $t('firefly.after_update_create_another') }}</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst lodashClonedeep = require('lodash.clonedeep');\nimport Alert from '../partials/Alert';\nimport SplitPills from \"./SplitPills\";\nimport SplitForm from \"./SplitForm\";\nimport TransactionGroupTitle from \"./TransactionGroupTitle\";\nimport {getDefaultErrors, getDefaultTransaction, toW3CString} from '../shared/transactions';\n\nexport default {\n  name: \"Edit\",\n  created() {\n    let parts = window.location.pathname.split('/');\n    this.groupId = parseInt(parts[parts.length - 1]);\n\n    this.getTransactionGroup();\n    this.getAllowedOpposingTypes();\n    this.getCustomFields();\n  },\n  data() {\n    return {\n      successMessage: '',\n      errorMessage: '',\n      warningMessage: '',\n\n      // transaction props\n      transactions: [],\n      originalTransactions: [],\n      groupTitle: '',\n      originalGroupTitle: '',\n      transactionType: 'any',\n      groupId: 0,\n\n      // errors in the group title:\n      groupTitleErrors: [],\n\n      // which custom fields to show\n      customFields: {},\n\n      // group ID + title once submitted:\n      returnedGroupId: 0,\n      returnedGroupTitle: '',\n\n      // date and time of the transaction,\n      date: new Date,\n      time: new Date,\n      originalDate: new Date,\n      originalTime: new Date,\n\n      // things the process is done working on (3 phases):\n      submittedTransaction: false,\n      submittedLinks: false,\n      submittedAttachments: false,\n      inError: false,\n\n      // meta data for accounts\n      allowedOpposingTypes: {},\n      destinationAllowedTypes: [],\n      sourceAllowedTypes: [],\n\n      // states for the form (makes sense right)\n      enableSubmit: true,\n      stayHere: false,\n\n    }\n  },\n  components: {\n    Alert,\n    SplitPills,\n    SplitForm,\n    TransactionGroupTitle\n  },\n\n  watch: {\n    submittedTransaction: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    },\n    submittedLinks: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    },\n    submittedAttachments: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    }\n  },\n\n  methods: {\n    /**\n     * Grap transaction group from URL and submit GET.\n     */\n    getTransactionGroup: function () {\n      axios.get('./api/v1/transactions/' + this.groupId)\n          .then(response => {\n                  this.parseTransactionGroup(response.data);\n                }\n          ).catch(error => {\n        // console.log('I failed :(');\n        // console.log(error);\n      });\n    },\n    /**\n     * Parse transaction group. Title is easy, transactions have their own method.\n     * @param response\n     */\n    parseTransactionGroup: function (response) {\n      // console.log('Will now parse');\n      // console.log(response);\n      let attributes = response.data.attributes;\n      let transactions = attributes.transactions.reverse();\n      this.groupTitle = attributes.group_title;\n      this.originalGroupTitle = attributes.group_title;\n\n      for (let i in transactions) {\n        if (transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let result = this.parseTransaction(parseInt(i), transactions[i]);\n          this.transactions.push(result);\n          this.originalTransactions.push(lodashClonedeep(result));\n          // pick up the links of this transaction:\n          this.parseLinks(parseInt(result.transaction_journal_id), parseInt(i));\n        }\n      }\n    },\n    /**\n     * Parse a single transaction.\n     *\n     * @param index\n     * @param array\n     */\n    parseTransaction: function (index, array) {\n      //console.log('index: ' + index);\n      if (0 === index) {\n        this.transactionType = array.type.charAt(0).toUpperCase() + array.type.slice(1);\n        this.sourceAllowedTypes = [array.source_type];\n        this.destinationAllowedTypes = [array.destination_type];\n        this.date = new Date(array.date);\n        this.time = new Date(array.date);\n        this.originalDate = new Date(array.date);\n        this.originalTime = new Date(array.date);\n      }\n      let result = getDefaultTransaction();\n      // parsing here:\n      result.description = array.description;\n      result.transaction_journal_id = parseInt(array.transaction_journal_id);\n      // accounts:\n      result.source_account_id = array.source_id;\n      result.source_account_name = array.source_name;\n      result.source_account_type = array.source_type;\n\n      result.destination_account_id = array.destination_id;\n      result.destination_account_name = array.destination_name;\n      result.destination_account_type = array.destination_type;\n\n      // amount:\n      result.amount = array.amount;\n      result.currency_id = array.currency_id;\n      result.foreign_amount = array.foreign_amount;\n      result.foreign_currency_id = array.foreign_currency_id;\n\n      // meta data\n      result.category = array.category_name;\n      result.budget_id = array.budget_id;\n      result.bill_id = array.bill_id ?? 0;\n\n      result.tags = array.tags;\n\n      // optional date fields (6x):\n      result.interest_date = array.interest_date ? array.interest_date.substr(0, 10) : '';\n      result.book_date = array.book_date ? array.book_date.substr(0, 10) : '';\n      result.process_date = array.process_date ? array.process_date.substr(0, 10) : '';\n      result.due_date = array.due_date ? array.due_date.substr(0, 10) : '';\n      result.payment_date = array.payment_date ? array.payment_date.substr(0, 10) : '';\n      result.invoice_date = array.invoice_date ? array.invoice_date.substr(0, 10) : '';\n\n      // optional other fields:\n      result.internal_reference = array.internal_reference;\n      result.external_url = array.external_uri;\n      result.external_id = array.external_id;\n      result.notes = array.notes;\n      // location:\n      result.location = {\n        zoom_level: array.zoom_level,\n        longitude: array.longitude,\n        latitude: array.latitude,\n      };\n      result.zoom_level = array.zoom_level;\n      result.longitude = array.longitude;\n      result.latitude = array.latitude;\n\n      // error handling\n      result.errors = getDefaultErrors();\n      return result;\n    },\n    /**\n     * Get the links of this transaction group from the API.\n     */\n    parseLinks: function (journalId, index) {\n      axios.get('./api/v1/transaction-journals/' + journalId + '/links')\n          .then(response => {\n            let links = response.data.data;\n            for (let i in links) {\n              if (links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n                this.parseLink(links[i], journalId, index);\n              }\n            }\n          });\n    },\n\n    /**\n     * Process individual link from the API.\n     */\n    parseLink: function (link, journalId, index) {\n      let promises = [];\n      let opposingId = parseInt(link.attributes.inward_id);\n      let linkDirection = 'inward';\n      if (opposingId === journalId) {\n        opposingId = parseInt(link.attributes.outward_id);\n        linkDirection = 'outward';\n      }\n      // add meta data to promise context.\n      promises.push(new Promise((resolve) => {\n        resolve(\n            {\n              link: link,\n              journalId: journalId,\n              opposingId: opposingId,\n              index: index,\n              direction: linkDirection\n            }\n        );\n      }));\n\n      // get stuff from the API:\n      promises.push(axios.get('./api/v1/transaction-journals/' + opposingId));\n      promises.push(axios.get('./api/v1/transaction_links/' + link.attributes.link_type_id));\n\n      Promise.all(promises).then(responses => {\n        let journals = responses[1].data.data.attributes.transactions;\n        let opposingId = responses[0].opposingId;\n        let journal = {};\n        // loop over journals to get the correct one:\n        for (let i in journals) {\n          if (journals.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n            if (journals[i].transaction_journal_id === opposingId) {\n              journal = journals[i];\n            }\n          }\n        }\n        let index = responses[0].index;\n        let direction = responses[0].direction;\n        let linkTypeId = responses[2].data.data.id;\n        let object = {\n          id: link.id,\n          link_type_id: linkTypeId + '-' + direction,\n          transaction_group_id: responses[1].data.data.id,\n          transaction_journal_id: journal.transaction_journal_id,\n          description: journal.description,\n          type: journal.type,\n          currency_code: journal.currency_code,\n          amount: journal.amount\n        };\n        this.transactions[index].links.push(object);\n        this.originalTransactions[index].links.push(object);\n      });\n    },\n    /**\n     * TODO same method as Create\n     * Get API value.\n     */\n    getAllowedOpposingTypes: function () {\n      axios.get('./api/v1/configuration/firefly.allowed_opposing_types')\n          .then(response => {\n            this.allowedOpposingTypes = response.data.data.value;\n            // console.log('Set allowedOpposingTypes');\n          });\n    },\n    /**\n     * Get API value.\n     */\n    getCustomFields: function () {\n      axios.get('./api/v1/preferences/transaction_journal_optional_fields').then(response => {\n        this.customFields = response.data.data.attributes.data;\n      });\n    },\n    uploadedAttachment: function (payload) {\n      console.log('event: uploadedAttachment');\n      console.log(payload);\n    },\n    storeLocation: function (payload) {\n      this.transactions[payload.index].zoom_level = payload.zoomLevel;\n      this.transactions[payload.index].longitude = payload.lng;\n      this.transactions[payload.index].latitude = payload.lat;\n    },\n    storeAccountValue: function (payload) {\n      let direction = payload.direction;\n      let index = payload.index;\n      this.transactions[index][direction + '_account_id'] = payload.id;\n      this.transactions[index][direction + '_account_type'] = payload.type;\n      this.transactions[index][direction + '_account_name'] = payload.name;\n    },\n    storeDate: function (payload) {\n      // console.log('event: storeDate');\n      // console.log(payload);\n      this.date = payload.date;\n    },\n    storeTime: function (payload) {\n      this.time = payload.time;\n      // console.log('event: storeTime');\n      // console.log(payload);\n    },\n    storeField: function (payload) {\n      let field = payload.field;\n      if ('category' === field) {\n        field = 'category_name';\n      }\n      // console.log('event: storeField(' + field + ')');\n      this.transactions[payload.index][field] = payload.value;\n\n    },\n    removeTransaction: function (payload) {\n      this.transactions.splice(payload.index, 1);\n      // this kills the original transactions.\n      this.originalTransactions = [];\n    },\n    storeGroupTitle: function (payload) {\n      this.groupTitle = payload;\n    },\n    selectedAttachments: function (payload) {\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          if (parseInt(this.transactions[i].transaction_journal_id) === parseInt(payload)) {\n            // console.log('selectedAttachments ' + payload);\n            this.transactions[i].selectedAttachments = true;\n          }\n        }\n      }\n    },\n    addTransaction: function () {\n      let newTransaction = getDefaultTransaction();\n      newTransaction.errors = getDefaultErrors();\n      this.transactions.push(newTransaction);\n    },\n    submitTransaction: function () {\n      let submission = {transactions: []};\n      let shouldSubmit = false;\n      let shouldLinks = false;\n      let shouldUpload = false;\n      if (this.groupTitle !== this.originalGroupTitle) {\n        submission.group_title = this.groupTitle;\n        shouldSubmit = true;\n      }\n      let transactionCount = this.originalTransactions.length;\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          // original transaction present?\n          let currentTransaction = this.transactions[i];\n          let originalTransaction = this.originalTransactions.hasOwnProperty(i) ? this.originalTransactions[i] : {};\n\n          let diff = {};\n\n          // compare basic fields:\n          let basicFields = [\n            'description',\n            'source_account_id', 'source_account_name',\n            'destination_account_id', 'destination_account_name',\n            'amount', 'foreign_amount', 'foreign_currency_id',\n            'category_name', 'budget_id', 'bill_id',\n            'interest_date', 'book_date', 'due_date', 'payment_date', 'invoice_date',\n            'external_url', 'internal_reference', 'external_id', 'notes',\n            'zoom_level', 'longitude', 'latitude'\n          ];\n\n          for (let ii in basicFields) {\n            if (basicFields.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n              let fieldName = basicFields[ii];\n              if (currentTransaction[fieldName] !== originalTransaction[fieldName]) {\n                // console.log('Index ' + i + ': Field ' + fieldName + ' updated (\"' + originalTransaction[fieldName] + '\" > \"' + currentTransaction[fieldName] + '\")');\n                // console.log(originalTransaction[fieldName]);\n                // console.log(currentTransaction[fieldName]);\n                diff[fieldName] = currentTransaction[fieldName];\n                shouldSubmit = true;\n              }\n            }\n          }\n          if (0 !== currentTransaction.piggy_bank_id) {\n            diff.piggy_bank_id = currentTransaction.piggy_bank_id;\n            shouldSubmit = true;\n          }\n          if (JSON.stringify(currentTransaction.tags) !== JSON.stringify(originalTransaction.tags)) {\n            // console.log('tags are different');\n            // console.log(currentTransaction.tags);\n            // console.log(originalTransaction.tags);\n            diff.tags = [];//currentTransaction.tags;\n\n            if (0 !== currentTransaction.tags.length) {\n              for (let ii in currentTransaction.tags) {\n                if (currentTransaction.tags.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                  // array.tags\n                  let currentTag = currentTransaction.tags[ii];\n                  if(typeof currentTag === 'object' && null !== currentTag) {\n                    diff.tags.push(currentTag.text);\n                  }\n                  if(typeof currentTag === 'string') {\n                    diff.tags.push(currentTag);\n                  }\n                }\n              }\n            }\n\n            shouldSubmit = true;\n          }\n\n          // compare links:\n          let newLinks = this.compareLinks(currentTransaction.links);\n          let originalLinks = this.compareLinks(originalTransaction.links);\n          // console.log('links are?');\n          // console.log(newLinks);\n          // console.log(originalLinks);\n          if (newLinks !== originalLinks) {\n            // console.log('links are different!');\n            // console.log(newLinks);\n            // console.log(originalLinks);\n            shouldLinks = true;\n          }\n          // this.transactions[i].selectedAttachments\n          // console.log(typeof currentTransaction.selectedAttachments);\n          // console.log(currentTransaction.selectedAttachments);\n          if (typeof currentTransaction.selectedAttachments !== 'undefined' && true === currentTransaction.selectedAttachments) {\n            // must upload!\n            shouldUpload = true;\n          }\n\n          let dateStr = 'invalid';\n          if (\n              this.date.toISOString() !== this.originalDate.toISOString() ||\n              this.time.toISOString() !== this.originalTime.toISOString()\n          ) {\n            console.log('Date and/or time is changed');\n            // set date and time!\n            shouldSubmit = true;\n            let theDate = this.date;\n            // update time in date object.\n            theDate.setHours(this.time.getHours());\n            theDate.setMinutes(this.time.getMinutes());\n            theDate.setSeconds(this.time.getSeconds());\n            dateStr = toW3CString(theDate);\n            diff.date = dateStr;\n          }\n          if (Object.keys(diff).length === 0 && transactionCount > 1) {\n            diff.transaction_journal_id = originalTransaction.transaction_journal_id;\n            submission.transactions.push(lodashClonedeep(diff));\n            shouldSubmit = true;\n          } else if (Object.keys(diff).length !== 0) {\n            diff.transaction_journal_id = originalTransaction.transaction_journal_id;\n            submission.transactions.push(lodashClonedeep(diff));\n            shouldSubmit = true;\n          }\n        }\n      }\n\n      console.log('submitTransaction');\n      console.log('shouldUpload : ' + shouldUpload);\n      console.log('shouldLinks  : ' + shouldLinks);\n      console.log('shouldSubmit : ' + shouldSubmit);\n      if (shouldSubmit) {\n        this.submitUpdate(submission, shouldLinks, shouldUpload);\n      }\n      if (!shouldSubmit) {\n        this.submittedTransaction = true;\n      }\n      if (!shouldLinks) {\n        this.submittedLinks = true;\n      }\n      if (!shouldUpload) {\n        this.submittedAttachments = true;\n      }\n      if (!shouldSubmit && shouldLinks) {\n        this.submitTransactionLinks();\n      }\n\n      if (!shouldSubmit && shouldLinks) {\n        // TODO\n        //this.submittedAttachments();\n      }\n      console.log('Done with submit methd.');\n      //console.log(submission);\n    },\n    compareLinks: function (array) {\n      let compare = [];\n      for (let i in array) {\n        if (array.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          compare.push(\n              {\n                amount: array[i].amount,\n                currency_code: array[i].currency_code,\n                description: array[i].description,\n                link_type_id: array[i].link_type_id,\n                transaction_group_id: array[i].transaction_group_id,\n                type: array[i].type,\n              }\n          );\n        }\n      }\n      // console.log('compareLinks');\n      // console.log(compare);\n      return JSON.stringify(compare);\n    },\n    submitUpdate: function (submission, shouldLinks, shouldUpload) {\n      console.log('submitUpdate');\n      this.inError = false;\n      const url = './api/v1/transactions/' + this.groupId;\n      console.log(submission);\n      axios.put(url, submission)\n          .then(response => {\n                  console.log('Response is OK!');\n                  // report the transaction is submitted.\n                  this.submittedTransaction = true;\n\n                  // submit links and attachments (can only be done when the transaction is created)\n                  if (shouldLinks) {\n                    console.log('Need to update links.');\n                    this.submitTransactionLinks();\n                  }\n                  if (!shouldLinks) {\n                    console.log('No need to update links.');\n                  }\n                  // TODO attachments:\n                  // this.submitAttachments(data, response);\n                  //\n                  // // meanwhile, store the ID and the title in some easy to access variables.\n                  this.returnedGroupId = parseInt(response.data.data.id);\n                  this.returnedGroupTitle = null === response.data.data.attributes.group_title ? response.data.data.attributes.transactions[0].description : response.data.data.attributes.group_title;\n                }\n          )\n          .catch(error => {\n                   console.log('error :(');\n                   console.log(error.response.data);\n                   // oh noes Firefly III has something to bitch about.\n                   this.enableSubmit = true;\n                   // report the transaction is submitted.\n                   this.submittedTransaction = true;\n                   // // also report attachments and links are submitted:\n                   this.submittedAttachments = true;\n                   this.submittedLinks = true;\n                   //\n                   // but report an error because error:\n                   this.inError = true;\n                   this.parseErrors(error.response.data);\n                 }\n          );\n    },\n    parseErrors: function (errors) {\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          this.resetErrors({index: i});\n        }\n      }\n      this.successMessage = '';\n      this.errorMessage = this.$t('firefly.errors_submission');\n      if (typeof errors.errors === 'undefined') {\n        this.successMessage = '';\n        this.errorMessage = errors.message;\n      }\n\n      let payload;\n      let transactionIndex;\n      let fieldName;\n\n      // fairly basic way of exploding the error array.\n      for (const key in errors.errors) {\n        // console.log('Error index: \"' + key + '\"');\n        if (errors.errors.hasOwnProperty(key)) {\n          if (key === 'group_title') {\n            this.groupTitleErrors = errors.errors[key];\n            continue;\n          }\n          if (key !== 'group_title') {\n            // lol dumbest way to explode \"transactions.0.something\" ever.\n            transactionIndex = parseInt(key.split('.')[1]);\n\n            fieldName = key.split('.')[2];\n\n            // set error in this object thing.\n            // console.log('The errors in key \"' + key + '\" are');\n            // console.log(errors.errors[key]);\n            switch (fieldName) {\n              case 'amount':\n              case 'description':\n              case 'date':\n              case 'tags':\n                payload = {index: transactionIndex, field: fieldName, errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'budget_id':\n                payload = {index: transactionIndex, field: 'budget', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'bill_id':\n                payload = {index: transactionIndex, field: 'bill', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'piggy_bank_id':\n                payload = {index: transactionIndex, field: 'piggy_bank', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'category_name':\n                payload = {index: transactionIndex, field: 'category', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'source_name':\n              case 'source_id':\n                payload = {index: transactionIndex, field: 'source', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'destination_name':\n              case 'destination_id':\n                payload = {index: transactionIndex, field: 'destination', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'foreign_amount':\n              case 'foreign_currency':\n                payload = {index: transactionIndex, field: 'foreign_amount', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n            }\n          }\n          // unique some things\n          if (typeof this.transactions[transactionIndex] !== 'undefined') {\n            //this.transactions[transactionIndex].errors.source = Array.from(new Set(this.transactions[transactionIndex].errors.source));\n            //this.transactions[transactionIndex].errors.destination = Array.from(new Set(this.transactions[transactionIndex].errors.destination));\n          }\n\n        }\n      }\n    },\n    setTransactionError: function (payload) {\n      this.transactions[payload.index].errors[payload.field] = payload.errors;\n    },\n    resetErrors(payload) {\n      this.transactions[payload.index].errors = lodashClonedeep(getDefaultErrors());\n    },\n\n    deleteOriginalLinks: function (transaction) {\n      console.log(transaction.links);\n      for (let i in transaction.links) {\n        if (transaction.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = transaction.links[i];\n          let url = '/api/v1/transaction_links/' + current.id;\n          axios.delete(url).then(response => {\n            // TODO response\n          });\n        }\n      }\n    },\n\n    /**\n     * Submit transaction links.\n     * TODO same method as CREATE\n     */\n    submitTransactionLinks() {\n      let total = 0;\n      let promises = [];\n\n      console.log('submitTransactionLinks()');\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          // original transaction present?\n          let currentTransaction = this.transactions[i];\n          let originalTransaction = this.originalTransactions.hasOwnProperty(i) ? this.originalTransactions[i] : {};\n          // compare links:\n          let newLinks = this.compareLinks(currentTransaction.links);\n          let originalLinks = this.compareLinks(originalTransaction.links);\n          if (newLinks !== originalLinks) {\n            if ('[]' !== originalLinks) {\n              this.deleteOriginalLinks(originalTransaction);\n            }\n\n            console.log('links are different!');\n            // console.log(newLinks);\n            // console.log(originalLinks);\n            for (let ii in currentTransaction.links) {\n              if (currentTransaction.links.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                let currentLink = currentTransaction.links[ii];\n                let linkObject = {\n                  inward_id: currentTransaction.transaction_journal_id,\n                  outward_id: currentTransaction.transaction_journal_id,\n                  link_type_id: 'something'\n                };\n\n                let parts = currentLink.link_type_id.split('-');\n                linkObject.link_type_id = parts[0];\n                if ('inward' === parts[1]) {\n                  linkObject.inward_id = currentLink.transaction_journal_id;\n                }\n                if ('outward' === parts[1]) {\n                  linkObject.outward_id = currentLink.transaction_journal_id;\n                }\n\n                console.log(linkObject);\n                total++;\n                // submit transaction link:\n                promises.push(axios.post('./api/v1/transaction_links', linkObject).then(response => {\n                  // TODO error handling.\n                }));\n              }\n            }\n            // shouldLinks = true;\n          }\n\n        }\n      }\n      if (0 === total) {\n        this.submittedLinks = true;\n        return;\n      }\n      Promise.all(promises).then(function () {\n        this.submittedLinks = true;\n      });\n    },\n    finalizeSubmit: function () {\n      console.log('now in finalizeSubmit()');\n      console.log('submittedTransaction : ' + this.submittedTransaction);\n      console.log('submittedLinks       : ' + this.submittedLinks);\n      console.log('submittedAttachments : ' + this.submittedAttachments);\n\n      if (this.submittedTransaction && this.submittedAttachments && this.submittedLinks) {\n        console.log('all true');\n        console.log('inError         = ' + this.inError);\n        console.log('stayHere        = ' + this.stayHere);\n        console.log('returnedGroupId = ' + this.returnedGroupId);\n\n        // no error + no changes + no redirect\n        if (true === this.stayHere && false === this.inError && 0 === this.returnedGroupId) {\n          console.log('no error + no changes + no redirect');\n          // show message:\n          this.errorMessage = '';\n          this.successMessage = '';\n          // maybe nothing changed in post\n          this.warningMessage = this.$t('firefly.transaction_updated_no_changes', {ID: this.returnedGroupId, title: this.returnedGroupTitle});\n        }\n\n        // no error + no changes + redirect\n        if (false === this.stayHere && false === this.inError && 0 === this.returnedGroupId) {\n          console.log('no error + no changes + redirect');\n          window.location.href = (window.previousURL ?? '/') + '?transaction_group_id=' + this.groupId + '&message=no_change';\n        }\n        // no error + changes + no redirect\n        if (true === this.stayHere && false === this.inError && 0 !== this.returnedGroupId) {\n          console.log('no error + changes + redirect');\n          // show message:\n          this.errorMessage = '';\n          this.warningMessage = '';\n          // maybe nothing changed in post\n          this.successMessage = this.$t('firefly.transaction_updated_link', {ID: this.returnedGroupId, title: this.returnedGroupTitle});\n        }\n\n        // no error + changes + redirect\n        if (false === this.stayHere && false === this.inError && 0 !== this.returnedGroupId) {\n          console.log('no error + changes + redirect');\n          window.location.href = (window.previousURL ?? '/') + '?transaction_group_id=' + this.groupId + '&message=updated';\n        }\n        console.log('end of the line');\n        // enable flags:\n        this.enableSubmit = true;\n        this.submittedTransaction = false;\n        this.submittedLinks = false;\n        this.submittedAttachments = false;\n        this.inError = false;\n\n        // reset attachments (always do this)\n        for (let i in this.transactions) {\n          if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n            if (this.transactions.hasOwnProperty(i)) {\n              // TODO\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=17cb1c2b&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17cb1c2b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Alert',{attrs:{\"message\":_vm.errorMessage,\"type\":\"danger\"}}),_vm._v(\" \"),_c('Alert',{attrs:{\"message\":_vm.successMessage,\"type\":\"success\"}}),_vm._v(\" \"),_c('Alert',{attrs:{\"message\":_vm.warningMessage,\"type\":\"warning\"}}),_vm._v(\" \"),_c('SplitPills',{attrs:{\"transactions\":_vm.transactions}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},_vm._l((this.transactions),function(transaction,index){return _c('SplitForm',{key:index,attrs:{\"count\":_vm.transactions.length,\"transaction\":transaction,\"allowed-opposing-types\":_vm.allowedOpposingTypes,\"custom-fields\":_vm.customFields,\"date\":_vm.date,\"time\":_vm.time,\"index\":index,\"transaction-type\":_vm.transactionType,\"destination-allowed-types\":_vm.destinationAllowedTypes,\"source-allowed-types\":_vm.sourceAllowedTypes,\"allow-switch\":false,\"submitted-transaction\":_vm.submittedTransaction},on:{\"uploaded-attachments\":function($event){return _vm.uploadedAttachment($event)},\"set-marker-location\":function($event){return _vm.storeLocation($event)},\"set-account\":function($event){return _vm.storeAccountValue($event)},\"set-date\":function($event){return _vm.storeDate($event)},\"set-time\":function($event){return _vm.storeTime($event)},\"set-field\":function($event){return _vm.storeField($event)},\"remove-transaction\":function($event){return _vm.removeTransaction($event)},\"selected-attachments\":function($event){return _vm.selectedAttachments($event)}}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(_vm.transactions.length > 1)?_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionGroupTitle',{attrs:{\"errors\":this.groupTitleErrors},on:{\"set-group-title\":function($event){return _vm.storeGroupTitle($event)}},model:{value:(this.groupTitle),callback:function ($$v) {_vm.$set(this, \"groupTitle\", $$v)},expression:\"this.groupTitle\"}})],1)])])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                \\n              \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-primary btn-block\",on:{\"click\":_vm.addTransaction}},[_c('i',{staticClass:\"far fa-clone\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.add_another_split'))+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                \\n              \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-info btn-block\",attrs:{\"disabled\":!_vm.enableSubmit},on:{\"click\":_vm.submitTransaction}},[(_vm.enableSubmit)?_c('span',[_c('i',{staticClass:\"far fa-save\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.update_transaction')))]):_vm._e(),_vm._v(\" \"),(!_vm.enableSubmit)?_c('span',[_c('i',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"\\n              \\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stayHere),expression:\"stayHere\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"stayHere\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.stayHere)?_vm._i(_vm.stayHere,null)>-1:(_vm.stayHere)},on:{\"change\":function($event){var $$a=_vm.stayHere,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.stayHere=$$a.concat([$$v]))}else{$$i>-1&&(_vm.stayHere=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.stayHere=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"stayHere\"}},[_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.$t('firefly.after_update_create_another')))])])])])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * edit.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport store from \"../../components/store\";\nimport Edit from \"../../components/transactions/Edit\";\nimport Vue from \"vue\";\n\nrequire('../../bootstrap');\n\nVue.config.productionTip = false;\n// i18n\nlet i18n = require('../../i18n');\n\nlet props = {};\nnew Vue({\n            i18n,\n            store,\n            render(createElement) {\n                return createElement(Edit, {props: props});\n            },\n            beforeCreate() {\n                this.$store.commit('initialiseStore');\n                this.$store.dispatch('updateCurrencyPreference');\n            },\n        }).$mount('#transactions_edit');\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".vue-tags-input{max-width:100%!important;display:block}.ti-input,.vue-tags-input{width:100%;border-radius:.25rem}.ti-input{max-width:100%}.ti-new-tag-input{font-size:1rem}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/transactions/TransactionTags.vue\"],\"names\":[],\"mappings\":\"AA2HA,gBAEA,wBAAA,CACA,aAEA,CAEA,0BANA,UAAA,CAGA,oBAOA,CAJA,UAEA,cAEA,CAEA,kBACA,cACA\",\"sourcesContent\":[\"<!--\\n  - TransactionTags.vue\\n  - Copyright (c) 2021 james@firefly-iii.org\\n  -\\n  - This file is part of Firefly III (https://github.com/firefly-iii).\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n  <div class=\\\"form-group\\\">\\n    <div class=\\\"text-xs d-none d-lg-block d-xl-block\\\">\\n      {{ $t('firefly.tags') }}\\n    </div>\\n    <div class=\\\"input-group\\\">\\n      <vue-tags-input\\n          v-model=\\\"currentTag\\\"\\n          :add-only-from-autocomplete=\\\"false\\\"\\n          :autocomplete-items=\\\"autocompleteItems\\\"\\n          :tags=\\\"tags\\\"\\n          :title=\\\"$t('firefly.tags')\\\"\\n          v-bind:placeholder=\\\"$t('firefly.tags')\\\"\\n          @tags-changed=\\\"newTags => this.tags = newTags\\\"\\n      />\\n    </div>\\n    <span v-if=\\\"errors.length > 0\\\">\\n      <span v-for=\\\"error in errors\\\" class=\\\"text-danger small\\\">{{ error }}<br/></span>\\n    </span>\\n  </div>\\n</template>\\n\\n<script>\\nimport VueTagsInput from \\\"@johmun/vue-tags-input\\\";\\nimport axios from \\\"axios\\\";\\n\\nexport default {\\n  name: \\\"TransactionTags\\\",\\n  components: {\\n    VueTagsInput\\n  },\\n  props: ['value', 'index', 'errors'],\\n  data() {\\n    return {\\n      autocompleteItems: [],\\n      debounce: null,\\n      tags: [],\\n      currentTag: '',\\n      updateTags: true, // the idea is that this is always true, except when the tags-function sets the value.\\n      tagList: this.value,\\n      emitEvent: true\\n    };\\n  },\\n  created() {\\n    let tags = [];\\n    for (let i in this.value) {\\n      if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\\\d*$/.test(i) && i <= 4294967294) {\\n        tags.push({text: this.value[i]});\\n      }\\n    }\\n    this.updateTags = false;\\n    this.tags = tags;\\n  },\\n  watch: {\\n    'currentTag': 'initItems',\\n    value: function (value) {\\n      this.emitEvent = false;\\n      this.tagList = value;\\n    },\\n    tagList: function (value) {\\n      console.log('watch tagList');\\n      if (true === this.emitEvent) {\\n        this.$emit('set-field', {field: 'tags', index: this.index, value: value});\\n      }\\n      this.emitEvent = true;\\n      this.updateTags = false;\\n      this.tags = value;\\n    },\\n    tags: function (value) {\\n      if (this.updateTags) {\\n        let shortList = [];\\n        for (let key in value) {\\n          if (value.hasOwnProperty(key)) {\\n            shortList.push({text: value[key].text});\\n          }\\n        }\\n        this.tagList = shortList;\\n      }\\n      this.updateTags = true;\\n    }\\n  },\\n  methods: {\\n    initItems() {\\n      if (this.currentTag.length < 2) {\\n        return;\\n      }\\n      const url = document.getElementsByTagName('base')[0].href + `api/v1/autocomplete/tags?query=${this.currentTag}`;\\n\\n      clearTimeout(this.debounce);\\n      this.debounce = setTimeout(() => {\\n        axios.get(url).then(response => {\\n          this.autocompleteItems = response.data.map(item => {\\n            return {text: item.tag};\\n          });\\n        }).catch(() => console.warn('Oh. Something went wrong loading tags.'));\\n      }, 300);\\n    },\\n  },\\n\\n\\n}\\n</script>\\n<style>\\n.vue-tags-input {\\n  width: 100%;\\n  max-width: 100% !important;\\n  display: block;\\n  border-radius: 0.25rem;\\n}\\n\\n.ti-input {\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  width: 100%;\\n}\\n\\n.ti-new-tag-input {\\n  font-size: 1rem;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<!--\n  - Alert.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n<template>\n  <div v-if=\"message.length > 0\" :class=\"'alert alert-' + type + ' alert-dismissible'\">\n    <button aria-hidden=\"true\" class=\"close\" data-dismiss=\"alert\" type=\"button\"></button>\n    <h5>\n      <i v-if=\"'danger' === type\" class=\"icon fas fa-ban\"></i>\n      <i v-if=\"'success' === type\" class=\"icon fas fa-thumbs-up\"></i>\n      <span v-if=\"'danger' === type\">{{ $t(\"firefly.flash_error\") }}</span>\n      <span v-if=\"'success' === type\">{{ $t(\"firefly.flash_success\") }}</span>\n    </h5>\n    <span v-html=\"message\"></span>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Alert\",\n  props: ['message', 'type']\n}\n</script>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Alert.vue?vue&type=template&id=df266c68&\"\nimport script from \"./Alert.vue?vue&type=script&lang=js&\"\nexport * from \"./Alert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.message.length > 0)?_c('div',{class:'alert alert-' + _vm.type + ' alert-dismissible'},[_c('button',{staticClass:\"close\",attrs:{\"aria-hidden\":\"true\",\"data-dismiss\":\"alert\",\"type\":\"button\"}},[_vm._v(\"\")]),_vm._v(\" \"),_c('h5',[('danger' === _vm.type)?_c('i',{staticClass:\"icon fas fa-ban\"}):_vm._e(),_vm._v(\" \"),('success' === _vm.type)?_c('i',{staticClass:\"icon fas fa-thumbs-up\"}):_vm._e(),_vm._v(\" \"),('danger' === _vm.type)?_c('span',[_vm._v(_vm._s(_vm.$t(\"firefly.flash_error\")))]):_vm._e(),_vm._v(\" \"),('success' === _vm.type)?_c('span',[_vm._v(_vm._s(_vm.$t(\"firefly.flash_success\")))]):_vm._e()]),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message)}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:'tab-pane' + (0===_vm.index ? ' active' : ''),attrs:{\"id\":'split_' + _vm.index}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.basic_journal_information'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()]),_vm._v(\" \"),(_vm.count>1)?_c('div',{staticClass:\"card-tools\"},[_c('button',{staticClass:\"btn btn-danger btn-xs\",on:{\"click\":_vm.removeTransaction}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionDescription',_vm._g({attrs:{\"errors\":_vm.transaction.errors.description,\"index\":_vm.index},model:{value:(_vm.transaction.description),callback:function ($$v) {_vm.$set(_vm.transaction, \"description\", $$v)},expression:\"transaction.description\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAccount',_vm._g({attrs:{\"allowed-opposing-types\":_vm.allowedOpposingTypes,\"destination-allowed-types\":_vm.destinationAllowedTypes,\"errors\":_vm.transaction.errors.source,\"index\":_vm.index,\"source-allowed-types\":_vm.sourceAllowedTypes,\"transaction-type\":_vm.transactionType,\"direction\":\"source\"},model:{value:(_vm.sourceAccount),callback:function ($$v) {_vm.sourceAccount=$$v},expression:\"sourceAccount\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[(0 === _vm.index && _vm.allowSwitch)?_c('SwitchAccount',_vm._g({attrs:{\"index\":_vm.index,\"transaction-type\":_vm.transactionType}},_vm.$listeners)):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAccount',_vm._g({attrs:{\"allowed-opposing-types\":_vm.allowedOpposingTypes,\"destination-allowed-types\":_vm.destinationAllowedTypes,\"errors\":_vm.transaction.errors.destination,\"index\":_vm.index,\"transaction-type\":_vm.transactionType,\"source-allowed-types\":_vm.sourceAllowedTypes,\"direction\":\"destination\"},model:{value:(_vm.destinationAccount),callback:function ($$v) {_vm.destinationAccount=$$v},expression:\"destinationAccount\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAmount',_vm._g({attrs:{\"amount\":_vm.transaction.amount,\"destination-currency-symbol\":this.transaction.destination_account_currency_symbol,\"errors\":_vm.transaction.errors.amount,\"index\":_vm.index,\"source-currency-symbol\":this.transaction.source_account_currency_symbol,\"transaction-type\":this.transactionType}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[_c('TransactionForeignCurrency',_vm._g({attrs:{\"destination-currency-id\":this.transaction.destination_account_currency_id,\"index\":_vm.index,\"selected-currency-id\":this.transaction.foreign_currency_id,\"source-currency-id\":this.transaction.source_account_currency_id,\"transaction-type\":this.transactionType},model:{value:(_vm.transaction.foreign_currency_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"foreign_currency_id\", $$v)},expression:\"transaction.foreign_currency_id\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionForeignAmount',_vm._g({attrs:{\"destination-currency-id\":this.transaction.destination_account_currency_id,\"errors\":_vm.transaction.errors.foreign_amount,\"index\":_vm.index,\"selected-currency-id\":this.transaction.foreign_currency_id,\"source-currency-id\":this.transaction.source_account_currency_id,\"transaction-type\":this.transactionType},model:{value:(_vm.transaction.foreign_amount),callback:function ($$v) {_vm.$set(_vm.transaction, \"foreign_amount\", $$v)},expression:\"transaction.foreign_amount\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionDate',_vm._g({attrs:{\"date\":_vm.splitDate,\"errors\":_vm.transaction.errors.date,\"index\":_vm.index,\"time\":_vm.splitTime}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\"},[_c('TransactionCustomDates',_vm._g({attrs:{\"book-date\":_vm.transaction.book_date,\"custom-fields\":_vm.customFields,\"due-date\":_vm.transaction.due_date,\"errors\":_vm.transaction.errors.custom_dates,\"index\":_vm.index,\"interest-date\":_vm.transaction.interest_date,\"invoice-date\":_vm.transaction.invoice_date,\"payment-date\":_vm.transaction.payment_date,\"process-date\":_vm.transaction.process_date},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}}},_vm.$listeners))],1)])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.transaction_journal_meta'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBudget',_vm._g({attrs:{\"errors\":_vm.transaction.errors.budget,\"index\":_vm.index},model:{value:(_vm.transaction.budget_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"budget_id\", $$v)},expression:\"transaction.budget_id\"}},_vm.$listeners)):_vm._e(),_vm._v(\" \"),_c('TransactionCategory',_vm._g({attrs:{\"errors\":_vm.transaction.errors.category,\"index\":_vm.index},model:{value:(_vm.transaction.category),callback:function ($$v) {_vm.$set(_vm.transaction, \"category\", $$v)},expression:\"transaction.category\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBill',_vm._g({attrs:{\"errors\":_vm.transaction.errors.bill,\"index\":_vm.index},model:{value:(_vm.transaction.bill_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"bill_id\", $$v)},expression:\"transaction.bill_id\"}},_vm.$listeners)):_vm._e(),_vm._v(\" \"),_c('TransactionTags',_vm._g({attrs:{\"errors\":_vm.transaction.errors.tags,\"index\":_vm.index},model:{value:(_vm.transaction.tags),callback:function ($$v) {_vm.$set(_vm.transaction, \"tags\", $$v)},expression:\"transaction.tags\"}},_vm.$listeners)),_vm._v(\" \"),(!('Withdrawal' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionPiggyBank',_vm._g({attrs:{\"errors\":_vm.transaction.errors.piggy_bank,\"index\":_vm.index},model:{value:(_vm.transaction.piggy_bank_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"piggy_bank_id\", $$v)},expression:\"transaction.piggy_bank_id\"}},_vm.$listeners)):_vm._e()],1)])])])])]),_vm._v(\" \"),(_vm.hasMetaFields)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.transaction_journal_extra'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionInternalReference',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.internal_reference,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.internal_reference),callback:function ($$v) {_vm.$set(_vm.transaction, \"internal_reference\", $$v)},expression:\"transaction.internal_reference\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionExternalUrl',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.external_url,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.external_url),callback:function ($$v) {_vm.$set(_vm.transaction, \"external_url\", $$v)},expression:\"transaction.external_url\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionNotes',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.notes,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.notes),callback:function ($$v) {_vm.$set(_vm.transaction, \"notes\", $$v)},expression:\"transaction.notes\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAttachments',_vm._g({ref:\"attachments\",attrs:{\"custom-fields\":_vm.customFields,\"index\":_vm.index,\"submitted_transaction\":_vm.submittedTransaction,\"transaction_journal_id\":_vm.transaction.transaction_journal_id},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.attachments),callback:function ($$v) {_vm.$set(_vm.transaction, \"attachments\", $$v)},expression:\"transaction.attachments\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionLocation',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.location,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.location),callback:function ($$v) {_vm.$set(_vm.transaction, \"location\", $$v)},expression:\"transaction.location\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionLinks',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.links),callback:function ($$v) {_vm.$set(_vm.transaction, \"links\", $$v)},expression:\"transaction.links\"}},_vm.$listeners))],1)])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionDescription.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <vue-typeahead-bootstrap\n        v-model=\"description\"\n        :data=\"descriptions\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.description')\"\n        :serializer=\"item => item.description\"\n        :showOnFocus=true\n        autofocus\n        inputName=\"description[]\"\n        @input=\"lookupDescription\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearDescription\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionDescription\",\n  data() {\n    return {\n      descriptions: [],\n      initialSet: [],\n      description: this.value,\n    }\n  },\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    clearDescription: function () {\n      this.description = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.description = value;\n    },\n    description: function (value) {\n      this.$emit('set-field', {field: 'description', index: this.index, value: value});\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDescription.vue?vue&type=template&id=05752163&\"\nimport script from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.descriptions,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.description'),\"serializer\":function (item) { return item.description; },\"showOnFocus\":true,\"autofocus\":\"\",\"inputName\":\"description[]\"},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionDate.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.date_and_time') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          ref=\"date\"\n          v-model=\"dateStr\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :disabled=\"index > 0\"\n          :placeholder=\"dateStr\"\n          :title=\"$t('firefly.date')\"\n          autocomplete=\"off\"\n          name=\"date[]\"\n          type=\"date\"\n      >\n      <input\n          ref=\"time\"\n          v-model=\"timeStr\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :disabled=\"index > 0\"\n          :placeholder=\"timeStr\"\n          :title=\"$t('firefly.time')\"\n          autocomplete=\"off\"\n          name=\"time[]\"\n          type=\"time\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n    <span class=\"text-muted small\" v-if=\"'' !== timeZone\">{{ timeZone }}</span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: ['index', 'errors', 'date', 'time'],\n  name: \"TransactionDate\",\n  created() {\n    this.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  },\n  data() {\n    return {\n      localDate: this.date,\n      localTime: this.time,\n      timeZone: '',\n      timeString: '',\n    }\n  },\n  methods: {},\n  computed: {\n    dateStr: {\n      get() {\n        if (this.localDate instanceof Date && !isNaN(this.localDate)) {\n          return this.localDate.toISOString().split('T')[0];\n        }\n        return '';\n      },\n      set(value) {\n        // bit of a hack but meh.\n        if ('' === value) {\n          // reset to today\n          this.localDate = new Date();\n          this.$emit('set-date', {date: this.localDate});\n          return;\n        }\n        this.localDate = new Date(value);\n        this.$emit('set-date', {date: this.localDate});\n      }\n    },\n    timeStr: {\n      get() {\n        // console.log('getTimeStr: ' + this.localTime);\n        if (this.localTime instanceof Date && !isNaN(this.localTime)) {\n          let localStr = ('0' + this.localTime.getHours()).slice(-2) + ':' + ('0' + this.localTime.getMinutes()).slice(-2) + ':' + ('0' + this.localTime.getSeconds()).slice(-2);\n          // console.log('Time is: ' + localStr);\n          return localStr;\n        }\n        // console.log('Return empty string!');\n        return '';\n      },\n      set(value) {\n        // console.log('Set: ' + value);\n        if ('' === value) {\n          // console.log('Value is empty, set 00:00:00');\n          this.localTime.setHours(0);\n          this.localTime.setMinutes(0);\n          this.localTime.setSeconds(0);\n          this.$emit('set-time', {time: this.localTime});\n          return;\n        }\n        // bit of a hack but meh.\n        let current = new Date(this.localTime.getTime());\n        let parts = value.split(':');\n        // console.log('Parts are:');\n        // console.log(parts);\n\n        let hrs = parts[0] ?? '0';\n        let min = parts[1] ?? '0';\n        let sec = parts[2] ?? '0';\n        hrs = 3 === hrs.length ? hrs.substr(1, 2) : hrs;\n        min = 3 === min.length ? min.substr(1, 2) : min;\n        sec = 3 === sec.length ? sec.substr(1, 2) : sec;\n        // console.log('Hrs: ' + hrs);\n        // console.log('Min: ' + min);\n        // console.log('Sec: ' + sec);\n\n        current.setHours(parseInt(hrs));\n        current.setMinutes(parseInt(min));\n        current.setSeconds(parseInt(sec));\n        this.localTime = current;\n        this.$emit('set-time', {time: this.localTime});\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDate.vue?vue&type=template&id=7d040c44&\"\nimport script from \"./TransactionDate.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.date_and_time'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dateStr),expression:\"dateStr\"}],ref:\"date\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"disabled\":_vm.index > 0,\"placeholder\":_vm.dateStr,\"title\":_vm.$t('firefly.date'),\"autocomplete\":\"off\",\"name\":\"date[]\",\"type\":\"date\"},domProps:{\"value\":(_vm.dateStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.dateStr=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timeStr),expression:\"timeStr\"}],ref:\"time\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"disabled\":_vm.index > 0,\"placeholder\":_vm.timeStr,\"title\":_vm.$t('firefly.time'),\"autocomplete\":\"off\",\"name\":\"time[]\",\"type\":\"time\"},domProps:{\"value\":(_vm.timeStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.timeStr=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e(),_vm._v(\" \"),('' !== _vm.timeZone)?_c('span',{staticClass:\"text-muted small\"},[_vm._v(_vm._s(_vm.timeZone))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionBudget.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.budget') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"budget\"\n          v-model=\"budget\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.budget')\"\n          autocomplete=\"off\"\n          name=\"budget_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"budget in this.budgetList\" :label=\"budget.name\" :value=\"budget.id\">{{ budget.name }}</option>\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionBudget\",\n  data() {\n    return {\n      budgetList: [],\n      budget: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.budgetList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_budget'),\n          }\n      );\n      this.getBudgets();\n    },\n    getBudgets() {\n      axios.get('./api/v1/budgets')\n          .then(response => {\n                  this.parseBudgets(response.data);\n                }\n          );\n    },\n    parseBudgets(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          if(!current.attributes.active) {\n            continue;\n          }\n          this.budgetList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.budget = value;\n    },\n    budget: function (value) {\n      this.$emit('set-field', {field: 'budget_id', index: this.index, value: value});\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionBudget.vue?vue&type=template&id=478aaf7f&\"\nimport script from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.budget'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget),expression:\"budget\"}],ref:\"budget\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.budget'),\"autocomplete\":\"off\",\"name\":\"budget_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.budget=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.budgetList),function(budget){return _c('option',{attrs:{\"label\":budget.name},domProps:{\"value\":budget.id}},[_vm._v(_vm._s(budget.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div v-if=\"visible\" class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span v-if=\"0 === this.index\">{{ $t('firefly.' + this.direction + '_account') }}</span>\n      <span v-if=\"this.index > 0\" class=\"text-warning\">{{ $t('firefly.first_split_overrules_' + this.direction) }}</span>\n    </div>\n    <div v-if=\"!visible\" class=\"text-xs d-none d-lg-block d-xl-block\">\n      &nbsp;\n    </div>\n    <vue-typeahead-bootstrap\n        v-if=\"visible\"\n        v-model=\"accountName\"\n        :data=\"accounts\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :inputName=\"direction + '[]'\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.' + direction + '_account')\"\n        :serializer=\"item => item.name_with_balance\"\n        :showOnFocus=true\n        @hit=\"selectedAccount = $event\"\n        @input=\"lookupAccount\"\n    >\n\n      <template slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <div :title=\"data.type\" class=\"d-flex\">\n          <span v-html=\"htmlText\"></span><br>\n        </div>\n      </template>\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearAccount\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <div v-if=\"!visible\" class=\"form-control-static\">\n      <span class=\"small text-muted\"><em>{{ $t('firefly.first_split_decides') }}</em></span>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n      </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from 'lodash';\n\nexport default {\n  name: \"TransactionAccount\",\n  components: {VueTypeaheadBootstrap},\n  props: {\n    index: {\n      type: Number,\n    },\n    direction: {\n      type: String,\n    },\n    value: {\n      type: Object,\n      default: () => ({})\n    },\n    errors: {\n      type: Array,\n      default: () => ([])\n    },\n    sourceAllowedTypes: {\n      type: Array,\n      default: () => ([])\n    },\n    destinationAllowedTypes: {\n      type: Array,\n      default: () => ([])\n    },\n    allowedOpposingTypes: {\n      type: Object,\n      default: () => ({})\n    },\n    transactionType: {\n      type: String,\n      default: 'any'\n    },\n  },\n  data() {\n    return {\n      query: '',\n      accounts: [],\n      accountTypes: [],\n      initialSet: [],\n      selectedAccount: {},\n      account: this.value,\n      accountName: '',\n      selectedAccountTrigger: false,\n    }\n  },\n  created() {\n    this.selectedAccountTrigger = true;\n    this.accountName = this.account.name ?? '';\n    this.createInitialSet();\n  },\n  methods: {\n    getACURL: function (types, query) {\n      return './api/v1/autocomplete/accounts?types=' + types.join(',') + '&query=' + query;\n    },\n    clearAccount: function () {\n      this.accounts = this.initialSet;\n      this.account = {name: '', type: 'no_type', id: null, currency_id: null, currency_code: null, currency_symbol: null};\n      this.accountName = '';\n    },\n    lookupAccount: debounce(function () {\n      //console.log('In lookupAccount()');\n      if (0 === this.accountTypes.length) {\n        // set the types from the default types for this direction:\n        this.accountTypes = 'source' === this.direction ? this.sourceAllowedTypes : this.destinationAllowedTypes;\n      }\n      // console.log(this.direction + ': Will search for types:');\n      // console.log(this.accountTypes);\n\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.accountTypes, this.accountName))\n          .then(response => {\n            //console.log('Got a response!');\n            this.accounts = response.data;\n            //console.log(response.data);\n          })\n    }, 300),\n\n    createInitialSet: function () {\n      let types = this.sourceAllowedTypes;\n      if ('destination' === this.direction) {\n        types = this.destinationAllowedTypes;\n      }\n      // console.log(this.direction + ' initial set searches for');\n      // console.log(types);\n\n      axios.get(this.getACURL(types, ''))\n          .then(response => {\n            this.accounts = response.data;\n            this.initialSet = response.data;\n          });\n    }\n  },\n  watch: {\n    // allowedOpposingTypes: function () {\n    //   console.log(this.direction + ' account noticed change in allowedOpposingTypes');\n    // },\n    sourceAllowedTypes: function (value) {\n      // console.log(this.direction + ' account noticed change in sourceAllowedTypes');\n      // console.log(value);\n      this.createInitialSet();\n    },\n    destinationAllowedTypes: function (value) {\n      // console.log(this.direction + ' account noticed change in destinationAllowedTypes');\n      // console.log(value);\n      this.createInitialSet();\n    },\n    selectedAccount: function (value) {\n      this.selectedAccountTrigger = true;\n      this.account = value;\n\n      this.$emit('set-account',\n                 {\n                   index: this.index,\n                   direction: this.direction,\n                   id: value.id,\n                   type: value.type,\n                   name: value.name,\n                   currency_id: value.currency_id,\n                   currency_code: value.currency_code,\n                   currency_symbol: value.currency_symbol,\n                 }\n      );\n      this.accountName = this.account.name_with_balance;\n    },\n    accountName: function (value) {\n      if (false === this.selectedAccountTrigger) {\n        // console.log('Save to change name!');\n        this.$emit('set-account',\n                   {\n                     index: this.index,\n                     direction: this.direction,\n                     id: null,\n                     type: null,\n                     name: value,\n                     currency_id: null,\n                     currency_code: null,\n                     currency_symbol: null,\n                   }\n        );\n        this.accountTrigger = false;\n        this.account = {name: value, type: null, id: null, currency_id: null, currency_code: null, currency_symbol: null};\n      }\n      this.selectedAccountTrigger = false;\n    },\n    account: function (value) {\n      let opposingAccounts = [];\n      let type = value.type ? value.type : 'no_type';\n      if ('undefined' !== typeof this.allowedOpposingTypes[this.direction]) {\n        if ('undefined' !== typeof this.allowedOpposingTypes[this.direction][type]) {\n          opposingAccounts = this.allowedOpposingTypes[this.direction][type];\n        }\n      }\n\n      if ('source' === this.direction) {\n        this.$emit('set-dest-types', opposingAccounts);\n      }\n      if ('destination' === this.direction) {\n        this.$emit('set-src-types', opposingAccounts);\n      }\n    },\n    value: function (value) {\n      // console.log('Index ' + this.index + ' nwAct: ', value);\n      // console.log(this.direction + ' account overruled by external forces.');\n      // console.log(value);\n      this.account = value;\n      this.selectedAccountTrigger = true;\n      this.accountName = value.name ?? '';\n    }\n  },\n  computed: {\n    accountKey: {\n      get() {\n        return 'source' === this.direction ? 'source_account' : 'destination_account';\n      }\n    },\n    visible: {\n      get() {\n        // index  0 is always visible:\n        if (0 === this.index) {\n          return true;\n        }\n        // console.log('Direction of account ' + this.index + ' is ' + this.direction + '(' + this.transactionType + ')');\n        // console.log(this.transactionType);\n        if ('source' === this.direction) {\n            return 'any' === this.transactionType || 'Deposit' === this.transactionType || typeof this.transactionType === 'undefined';\n        }\n        if ('destination' === this.direction) {\n          return 'any' === this.transactionType || 'Withdrawal' === this.transactionType || typeof this.transactionType === 'undefined';\n        }\n        return false;\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAccount.vue?vue&type=template&id=44e9f764&\"\nimport script from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[(_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[(0 === this.index)?_c('span',[_vm._v(_vm._s(_vm.$t('firefly.' + this.direction + '_account')))]):_vm._e(),_vm._v(\" \"),(this.index > 0)?_c('span',{staticClass:\"text-warning\"},[_vm._v(_vm._s(_vm.$t('firefly.first_split_overrules_' + this.direction)))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.visible)?_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.accounts,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"inputName\":_vm.direction + '[]',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.' + _vm.direction + '_account'),\"serializer\":function (item) { return item.name_with_balance; },\"showOnFocus\":true},on:{\"hit\":function($event){_vm.selectedAccount = $event},\"input\":_vm.lookupAccount},scopedSlots:_vm._u([{key:\"suggestion\",fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn [_c('div',{staticClass:\"d-flex\",attrs:{\"title\":data.type}},[_c('span',{domProps:{\"innerHTML\":_vm._s(htmlText)}}),_c('br')])]}}],null,false,1423807661),model:{value:(_vm.accountName),callback:function ($$v) {_vm.accountName=$$v},expression:\"accountName\"}},[_vm._v(\" \"),_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearAccount}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"form-control-static\"},[_c('span',{staticClass:\"small text-muted\"},[_c('em',[_vm._v(_vm._s(_vm.$t('firefly.first_split_decides')))])])]):_vm._e(),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SwitchAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span v-if=\"'any' !== this.transactionType\" class=\"text-muted\">\n        {{ $t('firefly.' + this.transactionType) }}\n      </span>\n      <span v-if=\"'any' === this.transactionType\" class=\"text-muted\">&nbsp;</span>\n    </div>\n    <div class=\"btn-group d-flex\">\n      <button class=\"btn btn-light\" @click=\"switchAccounts\">&harr;</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SwitchAccount\",\n  props: ['index', 'transactionType'],\n  methods: {\n    switchAccounts() {\n      this.$emit('switch-accounts', this.index);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwitchAccount.vue?vue&type=template&id=376bca8c&scoped=true&\"\nimport script from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"376bca8c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[('any' !== this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.' + this.transactionType))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),('any' === this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group d-flex\"},[_c('button',{staticClass:\"btn btn-light\",on:{\"click\":_vm.switchAccounts}},[_vm._v(\"\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('firefly.amount') }}</div>\n    <div class=\"input-group\">\n      <div v-if=\"currencySymbol\" class=\"input-group-prepend\">\n        <div class=\"input-group-text\">{{ currencySymbol }}</div>\n      </div>\n      <input\n          v-model=\"transactionAmount\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.amount')\"\n          :title=\"$t('firefly.amount')\"\n          autocomplete=\"off\"\n          name=\"amount[]\"\n          type=\"number\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"TransactionAmount\",\n  props: {\n    index: {\n      type: Number,\n      default: 0,\n      required: true\n    },\n    errors: {},\n    amount: {},\n    transactionType: {},\n    sourceCurrencySymbol: {},\n    destinationCurrencySymbol: {},\n    fractionDigits: {\n      default: 2,\n      required: false\n    },\n  },\n  created() {\n    if ('' !== this.amount) {\n      this.emitEvent = false;\n      this.transactionAmount = this.formatNumber(this.amount);\n    }\n  },\n  methods: {\n    formatNumber(str) {\n      return parseFloat(str).toFixed(this.fractionDigits);\n    }\n  },\n  data() {\n    return {\n      transactionAmount: this.amount,\n      currencySymbol: null,\n      srcCurrencySymbol: this.sourceCurrencySymbol,\n      dstCurrencySymbol: this.destinationCurrencySymbol,\n      emitEvent: true\n    }\n  },\n  watch: {\n    transactionAmount: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'amount', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    },\n    amount: function (value) {\n      this.transactionAmount = value;\n    },\n    sourceCurrencySymbol: function (value) {\n      this.srcCurrencySymbol = value;\n    },\n    destinationCurrencySymbol: function (value) {\n      this.dstCurrencySymbol = value;\n    },\n    transactionType: function (value) {\n      switch (value) {\n        case 'Transfer':\n        case 'Withdrawal':\n          this.currencySymbol = this.srcCurrencySymbol;\n          break;\n        case 'Deposit':\n          this.currencySymbol = this.dstCurrencySymbol;\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAmount.vue?vue&type=template&id=fadf3e90&scoped=true&\"\nimport script from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fadf3e90\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('firefly.amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[(_vm.currencySymbol)?_c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.currencySymbol))])]):_vm._e(),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transactionAmount),expression:\"transactionAmount\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.amount'),\"title\":_vm.$t('firefly.amount'),\"autocomplete\":\"off\",\"name\":\"amount[]\",\"type\":\"number\"},domProps:{\"value\":(_vm.transactionAmount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.transactionAmount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN AMOUNT -->\n  <div v-if=\"isVisible\" class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('form.foreign_amount') }}</div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"amount\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('form.foreign_amount')\"\n          :title=\"$t('form.foreign_amount')\"\n          autocomplete=\"off\"\n          name=\"foreign_amount[]\"\n          type=\"number\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionForeignAmount\",\n  props: {\n    index: {},\n    errors: {},\n    value: {},\n    transactionType: {},\n    sourceCurrencyId: {},\n    destinationCurrencyId: {},\n    fractionDigits: {\n      type: Number,\n      default: 2\n    }\n  },\n  data() {\n    return {\n      amount: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    if ('' !== this.amount) {\n      this.emitEvent = false;\n      this.amount = this.formatNumber(this.amount);\n    }\n  },\n  methods: {\n    formatNumber(str) {\n      return parseFloat(str).toFixed(this.fractionDigits);\n    }\n  },\n  watch: {\n    amount: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'foreign_amount', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    },\n    value: function (value) {\n      this.amount = value;\n\n\n    }\n  },\n  computed: {\n    isVisible: {\n      get() {\n        return !('Transfer' === this.transactionType && this.sourceCurrencyId === this.destinationCurrencyId);\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignAmount.vue?vue&type=template&id=d13f8bea&scoped=true&\"\nimport script from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d13f8bea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('form.foreign_amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('form.foreign_amount'),\"title\":_vm.$t('form.foreign_amount'),\"autocomplete\":\"off\",\"name\":\"foreign_amount[]\",\"type\":\"number\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignCurrency.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN Currency -->\n  <div v-if=\"isVisible\" class=\"form-group\">\n    <div class=\"text-xs\">&nbsp;</div>\n    <div class=\"input-group\">\n      <select v-model=\"selectedCurrency\" class=\"form-control\" name=\"foreign_currency_id[]\">\n        <option v-for=\"currency in selectableCurrencies\" :label=\"currency.name\" :value=\"currency.id\">{{ currency.name }}</option>\n      </select>\n    </div>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: \"TransactionForeignCurrency\",\n  props: [\n    'index',\n    'transactionType',\n    'sourceCurrencyId',\n    'destinationCurrencyId',\n    'selectedCurrencyId',\n    'value'\n  ],\n  data() {\n    return {\n      selectedCurrency: this.value,\n      allCurrencies: [],\n      selectableCurrencies: [],\n      dstCurrencyId: this.destinationCurrencyId,\n      srcCurrencyId: this.sourceCurrencyId,\n      lockedCurrency: 0,\n      emitEvent: true\n    }\n  },\n  watch: {\n    value: function (value) {\n      this.selectedCurrency = value;\n    },\n    sourceCurrencyId: function (value) {\n      this.srcCurrencyId = value;\n    },\n    destinationCurrencyId: function (value) {\n      this.dstCurrencyId = value;\n    },\n    selectedCurrency: function (value) {\n      this.$emit('set-field', {field: 'foreign_currency_id', index: this.index, value: value});\n    },\n    transactionType: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === value) {\n        this.lockedCurrency = this.dstCurrencyId;\n        this.selectedCurrency = this.dstCurrencyId;\n      }\n      this.filterCurrencies();\n    },\n  },\n  created: function () {\n    this.getAllCurrencies();\n  },\n  methods: {\n    getAllCurrencies: function () {\n      axios.get('./api/v1/autocomplete/currencies')\n          .then(response => {\n                  this.allCurrencies = response.data;\n                  this.filterCurrencies();\n                }\n          );\n\n    },\n    filterCurrencies() {\n      // if a currency is locked only that currency can (and must) be selected:\n      if (0 !== this.lockedCurrency) {\n        for (let key in this.allCurrencies) {\n          if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n            let current = this.allCurrencies[key];\n            if (current.id === this.lockedCurrency) {\n              this.selectableCurrencies = [current];\n              this.selectedCurrency = current.id;\n            }\n          }\n        }\n        return;\n      }\n\n      this.selectableCurrencies = [\n        {\n          \"id\": 0,\n          \"name\": this.$t('firefly.no_currency')\n        }\n      ];\n      for (let key in this.allCurrencies) {\n        if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = this.allCurrencies[key];\n          this.selectableCurrencies.push(current);\n        }\n      }\n    }\n  },\n  computed: {\n    isVisible: function () {\n      return !('Transfer' === this.transactionType && this.srcCurrencyId === this.dstCurrencyId);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignCurrency.vue?vue&type=template&id=3ee4efa5&scoped=true&\"\nimport script from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ee4efa5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCurrency),expression:\"selectedCurrency\"}],staticClass:\"form-control\",attrs:{\"name\":\"foreign_currency_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedCurrency=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectableCurrencies),function(currency){return _c('option',{attrs:{\"label\":currency.name},domProps:{\"value\":currency.id}},[_vm._v(_vm._s(currency.name))])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionCustomDates.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div v-for=\"(enabled, name) in availableFields\" class=\"form-group\">\n      <div v-if=\"enabled && isDateField(name)\" class=\"text-xs d-none d-lg-block d-xl-block\">\n        {{ $t('form.' + name) }}\n      </div>\n      <div v-if=\"enabled && isDateField(name)\" class=\"input-group\">\n        <input\n            :ref=\"name\"\n            :name=\"name + '[]'\"\n            :placeholder=\"$t('form.' + name)\"\n            :title=\"$t('form.' + name)\"\n            :value=\"getFieldValue(name)\"\n            autocomplete=\"off\"\n            class=\"form-control\"\n            type=\"date\"\n            @change=\"setFieldValue($event, name)\"\n            v-on:submit.prevent\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionCustomDates\",\n  props: [\n    'index',\n    'errors',\n    'customFields',\n    'interestDate',\n    'bookDate',\n    'processDate',\n    'dueDate',\n    'paymentDate',\n    'invoiceDate'\n  ],\n  data() {\n    return {\n      dateFields: ['interest_date', 'book_date', 'process_date', 'due_date', 'payment_date', 'invoice_date'],\n      availableFields: this.customFields,\n      dates: {\n        interest_date: this.interestDate,\n        book_date: this.bookDate,\n        process_date: this.processDate,\n        due_date: this.dueDate,\n        payment_date: this.paymentDate,\n        invoice_date: this.invoiceDate,\n      }\n      ,\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    interestDate: function (value) {\n      this.dates.interest_date = value;\n    },\n    bookDate: function (value) {\n      this.dates.book_date = value;\n    },\n    processDate: function (value) {\n      this.dates.process_date = value;\n    },\n    dueDate: function (value) {\n      this.dates.due_date = value;\n    },\n    paymentDate: function (value) {\n      this.dates.payment_date = value;\n    },\n    invoiceDate: function (value) {\n      this.dates.invoice_date = value;\n    },\n  },\n  methods: {\n    isDateField: function (name) {\n      return this.dateFields.includes(name)\n    },\n    getFieldValue(field) {\n      return this.dates[field] ?? '';\n    },\n    setFieldValue(event, field) {\n      this.$emit('set-field', {field: field, index: this.index, value: event.target.value});\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionCustomDates.vue?vue&type=template&id=7c0f4f0c&\"\nimport script from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.availableFields),function(enabled,name){return _c('div',{staticClass:\"form-group\"},[(enabled && _vm.isDateField(name))?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('form.' + name))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(enabled && _vm.isDateField(name))?_c('div',{staticClass:\"input-group\"},[_c('input',{ref:name,refInFor:true,staticClass:\"form-control\",attrs:{\"name\":name + '[]',\"placeholder\":_vm.$t('form.' + name),\"title\":_vm.$t('form.' + name),\"autocomplete\":\"off\",\"type\":\"date\"},domProps:{\"value\":_vm.getFieldValue(name)},on:{\"change\":function($event){return _vm.setFieldValue($event, name)},\"submit\":function($event){$event.preventDefault();}}})]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionCategory.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.category') }}\n    </div>\n\n    <vue-typeahead-bootstrap\n        v-model=\"category\"\n        :data=\"categories\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.category')\"\n        :serializer=\"item => item.name\"\n        :showOnFocus=true\n        inputName=\"category[]\"\n        @hit=\"selectedCategory = $event\"\n        @input=\"lookupCategory\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearCategory\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['value', 'index', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionCategory\",\n  data() {\n    return {\n      categories: [],\n      initialSet: [],\n      category: this.value,\n      emitEvent: true\n    }\n  },\n\n  created() {\n\n    // initial list of accounts:\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.categories = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    clearCategory: function () {\n      this.category = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/categories?query=' + query;\n    },\n    lookupCategory: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.categories = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.category = value ?? '';\n    },\n    category: function (value) {\n      this.$emit('set-field', {field: 'category', index: this.index, value: value});\n    }\n  },\n  computed: {\n    selectedCategory: {\n      get() {\n        return this.categories[this.index].name;\n      },\n      set(value) {\n        this.category = value.name;\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionCategory.vue?vue&type=template&id=332d1095&\"\nimport script from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.category'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.categories,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.category'),\"serializer\":function (item) { return item.name; },\"showOnFocus\":true,\"inputName\":\"category[]\"},on:{\"hit\":function($event){_vm.selectedCategory = $event},\"input\":_vm.lookupCategory},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearCategory}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionBill.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.bill') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"bill\"\n          v-model=\"bill\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.bill')\"\n          autocomplete=\"off\"\n          name=\"bill_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"bill in this.billList\" :label=\"bill.name\" :value=\"bill.id\">{{ bill.name }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['value', 'index', 'errors'],\n  name: \"TransactionBill\",\n  data() {\n    return {\n      billList: [],\n      bill: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.billList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_bill'),\n          }\n      );\n      this.getBills();\n    },\n    getBills() {\n      axios.get('./api/v1/bills')\n          .then(response => {\n                  this.parseBills(response.data);\n                }\n          );\n    },\n    parseBills(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          this.billList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.bill = value;\n    },\n    bill: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'bill_id', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    }\n  },\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionBill.vue?vue&type=template&id=7c81d840&\"\nimport script from \"./TransactionBill.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBill.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.bill'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bill),expression:\"bill\"}],ref:\"bill\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.bill'),\"autocomplete\":\"off\",\"name\":\"bill_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.bill=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.billList),function(bill){return _c('option',{attrs:{\"label\":bill.name},domProps:{\"value\":bill.id}},[_vm._v(_vm._s(bill.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.tags'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('vue-tags-input',{attrs:{\"add-only-from-autocomplete\":false,\"autocomplete-items\":_vm.autocompleteItems,\"tags\":_vm.tags,\"title\":_vm.$t('firefly.tags'),\"placeholder\":_vm.$t('firefly.tags')},on:{\"tags-changed\":function (newTags) { return this$1.tags = newTags; }},model:{value:(_vm.currentTag),callback:function ($$v) {_vm.currentTag=$$v},expression:\"currentTag\"}})],1),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionTags.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.tags') }}\n    </div>\n    <div class=\"input-group\">\n      <vue-tags-input\n          v-model=\"currentTag\"\n          :add-only-from-autocomplete=\"false\"\n          :autocomplete-items=\"autocompleteItems\"\n          :tags=\"tags\"\n          :title=\"$t('firefly.tags')\"\n          v-bind:placeholder=\"$t('firefly.tags')\"\n          @tags-changed=\"newTags => this.tags = newTags\"\n      />\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nimport VueTagsInput from \"@johmun/vue-tags-input\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"TransactionTags\",\n  components: {\n    VueTagsInput\n  },\n  props: ['value', 'index', 'errors'],\n  data() {\n    return {\n      autocompleteItems: [],\n      debounce: null,\n      tags: [],\n      currentTag: '',\n      updateTags: true, // the idea is that this is always true, except when the tags-function sets the value.\n      tagList: this.value,\n      emitEvent: true\n    };\n  },\n  created() {\n    let tags = [];\n    for (let i in this.value) {\n      if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n        tags.push({text: this.value[i]});\n      }\n    }\n    this.updateTags = false;\n    this.tags = tags;\n  },\n  watch: {\n    'currentTag': 'initItems',\n    value: function (value) {\n      this.emitEvent = false;\n      this.tagList = value;\n    },\n    tagList: function (value) {\n      console.log('watch tagList');\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'tags', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n      this.updateTags = false;\n      this.tags = value;\n    },\n    tags: function (value) {\n      if (this.updateTags) {\n        let shortList = [];\n        for (let key in value) {\n          if (value.hasOwnProperty(key)) {\n            shortList.push({text: value[key].text});\n          }\n        }\n        this.tagList = shortList;\n      }\n      this.updateTags = true;\n    }\n  },\n  methods: {\n    initItems() {\n      if (this.currentTag.length < 2) {\n        return;\n      }\n      const url = document.getElementsByTagName('base')[0].href + `api/v1/autocomplete/tags?query=${this.currentTag}`;\n\n      clearTimeout(this.debounce);\n      this.debounce = setTimeout(() => {\n        axios.get(url).then(response => {\n          this.autocompleteItems = response.data.map(item => {\n            return {text: item.tag};\n          });\n        }).catch(() => console.warn('Oh. Something went wrong loading tags.'));\n      }, 300);\n    },\n  },\n\n\n}\n</script>\n<style>\n.vue-tags-input {\n  width: 100%;\n  max-width: 100% !important;\n  display: block;\n  border-radius: 0.25rem;\n}\n\n.ti-input {\n  border-radius: 0.25rem;\n  max-width: 100%;\n  width: 100%;\n}\n\n.ti-new-tag-input {\n  font-size: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionTags.vue?vue&type=template&id=834226ea&\"\nimport script from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransactionTags.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - TransactionPiggyBank.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.piggy_bank') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"piggy_bank_id\"\n          v-model=\"piggy_bank_id\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.piggy_bank')\"\n          autocomplete=\"off\"\n          name=\"piggy_bank_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"piggy in this.piggyList\" :label=\"piggy.name_with_balance\" :value=\"piggy.id\">{{ piggy.name_with_balance }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionPiggyBank\",\n  data() {\n    return {\n      piggyList: [],\n      piggy_bank_id: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.piggyList.push(\n          {\n            id: 0,\n            name_with_balance: this.$t('firefly.no_piggy_bank'),\n          }\n      );\n      this.getPiggies();\n    },\n    getPiggies() {\n      axios.get('./api/v1/autocomplete/piggy-banks-with-balance')\n          .then(response => {\n                  this.parsePiggies(response.data);\n                }\n          );\n    },\n    parsePiggies(data) {\n      for (let key in data) {\n        if (data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data[key];\n          this.piggyList.push(\n              {\n                id: parseInt(current.id),\n                name_with_balance: current.name_with_balance\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.piggy_bank_id = value;\n    },\n    piggy_bank_id: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'piggy_bank_id', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionPiggyBank.vue?vue&type=template&id=f88cfd4e&\"\nimport script from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.piggy_bank'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.piggy_bank_id),expression:\"piggy_bank_id\"}],ref:\"piggy_bank_id\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.piggy_bank'),\"autocomplete\":\"off\",\"name\":\"piggy_bank_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.piggy_bank_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.piggyList),function(piggy){return _c('option',{attrs:{\"label\":piggy.name_with_balance},domProps:{\"value\":piggy.id}},[_vm._v(_vm._s(piggy.name_with_balance))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.internal_reference') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"reference\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.internal_reference')\"\n          name=\"internal_reference[]\"\n          type=\"text\"\n      />\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionInternalReference\",\n  data() {\n    return {\n      reference: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('internal_reference' in this.availableFields) {\n        return this.availableFields.internal_reference;\n      }\n      return false;\n    }\n  },\n  methods: {},\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    value: function (value) {\n      this.emitEvent = false;\n      this.reference = value;\n    },\n    reference: function (value) {\n      this.$emit('set-field', {field: 'internal_reference', index: this.index, value: value});\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionInternalReference.vue?vue&type=template&id=7f1b8c1d&\"\nimport script from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.internal_reference'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reference),expression:\"reference\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.internal_reference'),\"name\":\"internal_reference[]\",\"type\":\"text\"},domProps:{\"value\":(_vm.reference)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reference=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.external_url') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"url\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.external_url')\"\n          name=\"external_url[]\"\n          type=\"url\"\n      />\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionExternalUrl\",\n  data() {\n    return {\n      url: this.value,\n      availableFields: this.customFields,\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('external_uri' in this.availableFields) {\n        return this.availableFields.external_uri;\n      }\n      return false;\n    }\n  },\n  methods: {},\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    value: function (value) {\n      this.url = value;\n    },\n    url: function (value) {\n      this.$emit('set-field', {field: 'external_url', index: this.index, value: value});\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionExternalUrl.vue?vue&type=template&id=7f6746e6&scoped=true&\"\nimport script from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f6746e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.external_url'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.external_url'),\"name\":\"external_url[]\",\"type\":\"url\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionNotes.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.notes') }}\n    </div>\n    <div class=\"input-group\">\n      <textarea\n          v-model=\"notes\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.notes')\"\n      ></textarea>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionNotes\",\n  data() {\n    return {\n      notes: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('notes' in this.availableFields) {\n        return this.availableFields.notes;\n      }\n      return false;\n    }\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.notes = value;\n    },\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    notes: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'notes', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionNotes.vue?vue&type=template&id=10b3ae7a&scoped=true&\"\nimport script from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10b3ae7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.notes'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.notes),expression:\"notes\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.notes')},domProps:{\"value\":(_vm.notes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.notes=$event.target.value}}})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.journal_links'))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.links.length === 0)?_c('p',[_c('button',{staticClass:\"btn btn-default btn-xs\",attrs:{\"data-target\":\"#linkModal\",\"data-toggle\":\"modal\"},on:{\"click\":_vm.resetModal}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add transaction link\")])]):_vm._e(),_vm._v(\" \"),(_vm.links.length > 0)?_c('ul',{staticClass:\"list-group\"},_vm._l((_vm.links),function(transaction,index){return _c('li',{key:index,staticClass:\"list-group-item\"},[_c('em',[_vm._v(_vm._s(_vm.getTextForLinkType(transaction.link_type_id)))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"./transaction/show/\" + transaction.transaction_group_id}},[_vm._v(_vm._s(transaction.description))]),_vm._v(\" \"),(transaction.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn-group btn-group-xs float-right\"},[_c('button',{staticClass:\"btn btn-xs btn-danger\",attrs:{\"tabindex\":\"-1\"},on:{\"click\":function($event){return _vm.removeLink(index)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),0):_vm._e(),_vm._v(\" \"),(_vm.links.length > 0)?_c('div',{staticClass:\"form-text\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"data-target\":\"#linkModal\",\"data-toggle\":\"modal\"},on:{\"click\":_vm.resetModal}},[_c('i',{staticClass:\"fas fa-plus\"})])]):_vm._e()])])]),_vm._v(\" \"),_c('div',{ref:\"linkModal\",staticClass:\"modal\",attrs:{\"id\":\"linkModal\",\"tabindex\":\"-1\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container-fluid\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"form-control\",attrs:{\"id\":\"query\",\"autocomplete\":\"off\",\"maxlength\":\"255\",\"name\":\"search\",\"placeholder\":\"Search query\",\"type\":\"text\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_vm._m(2)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.searching)?_c('span',[_c('i',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('h4',[_vm._v(_vm._s(_vm.$t('firefly.search_results')))]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('table',{staticClass:\"table table-sm\"},[_c('caption',{staticStyle:{\"display\":\"none\"}},[_vm._v(_vm._s(_vm.$t('firefly.search_results')))]),_vm._v(\" \"),_c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"33%\"},attrs:{\"scope\":\"col\",\"colspan\":\"2\"}},[_vm._v(_vm._s(_vm.$t('firefly.include')))]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm.$t('firefly.transaction')))])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.searchResults),function(result){return _c('tr',[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.selected),expression:\"result.selected\"}],staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(result.selected)?_vm._i(result.selected,null)>-1:(result.selected)},on:{\"change\":[function($event){var $$a=result.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(result, \"selected\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(result, \"selected\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(result, \"selected\", $$c)}},function($event){return _vm.selectTransaction($event)}]}})]),_vm._v(\" \"),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.link_type_id),expression:\"result.link_type_id\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(result, \"link_type_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.selectLinkType($event)}]}},_vm._l((_vm.linkTypes),function(linkType){return _c('option',{attrs:{\"label\":linkType.type},domProps:{\"value\":linkType.id + '-' + linkType.direction}},[_vm._v(_vm._s(linkType.type)+\"\\n                        \")])}),0)]),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"href\":'./transactions/show/' + result.transaction_group_id}},[_vm._v(_vm._s(result.description))]),_vm._v(\" \"),(result.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('em',[_c('a',{attrs:{\"href\":'./accounts/show/' + result.source_id}},[_vm._v(_vm._s(result.source_name))]),_vm._v(\"\\n                        \\n                        \"),_c('a',{attrs:{\"href\":'./accounts/show/' + result.destination_id}},[_vm._v(_vm._s(result.destination_name))])])])])}),0)]):_vm._e()])])])]),_vm._v(\" \"),_vm._m(3)])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Transaction thing dialog.\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"aria-label\":\"Close\",\"data-dismiss\":\"modal\",\"type\":\"button\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('p',[_vm._v(\"\\n                  Use this form to search for transactions you wish to link to this one. When in doubt, use \"),_c('code',[_vm._v(\"id:*\")]),_vm._v(\" where the ID is the number from\\n                  the URL.\\n                \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-search\"}),_vm._v(\" Search\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"data-dismiss\":\"modal\",\"type\":\"button\"}},[_vm._v(\"Close\")])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionLinks.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\">\n    <div class=\"form-group\">\n      <div class=\"text-xs d-none d-lg-block d-xl-block\">\n        {{ $t('firefly.journal_links') }}\n      </div>\n      <div class=\"row\">\n        <div class=\"col\">\n          <p v-if=\"links.length === 0\">\n            <button class=\"btn btn-default btn-xs\" data-target=\"#linkModal\" @click=\"resetModal\" data-toggle=\"modal\"><i class=\"fas fa-plus\"></i> Add transaction link</button>\n          </p>\n          <ul v-if=\"links.length > 0\" class=\"list-group\">\n            <li v-for=\"(transaction, index) in links\" class=\"list-group-item\" v-bind:key=\"index\">\n              <em>{{ getTextForLinkType(transaction.link_type_id) }}</em>\n              <a :href='\"./transaction/show/\" + transaction.transaction_group_id'>{{ transaction.description }}</a>\n\n              <span v-if=\"transaction.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount) * -1)\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <div class=\"btn-group btn-group-xs float-right\">\n                <button class=\"btn btn-xs btn-danger\" @click=\"removeLink(index)\" tabindex=\"-1\"><i class=\"far fa-trash-alt\"></i></button>\n              </div>\n            </li>\n          </ul>\n          <div v-if=\"links.length > 0\" class=\"form-text\">\n            <button class=\"btn btn-default\" @click=\"resetModal\" data-target=\"#linkModal\" data-toggle=\"modal\"><i class=\"fas fa-plus\"></i></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- modal -->\n    <div id=\"linkModal\" class=\"modal\" tabindex=\"-1\" ref=\"linkModal\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Transaction thing dialog.</h5>\n            <button aria-label=\"Close\" class=\"close\" data-dismiss=\"modal\" type=\"button\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"container-fluid\">\n              <div class=\"row\">\n                <div class=\"col\">\n                  <p>\n                    Use this form to search for transactions you wish to link to this one. When in doubt, use <code>id:*</code> where the ID is the number from\n                    the URL.\n                  </p>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <form v-on:submit.prevent=\"search\">\n                    <div class=\"input-group\">\n                      <input id=\"query\" v-model=\"query\" autocomplete=\"off\" class=\"form-control\" maxlength=\"255\" name=\"search\"\n                             placeholder=\"Search query\" type=\"text\">\n                      <div class=\"input-group-append\">\n                        <button class=\"btn btn-default\" type=\"submit\"><i class=\"fas fa-search\"></i> Search</button>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <span v-if=\"searching\"><i class=\"fas fa-spinner fa-spin\"></i></span>\n                  <h4 v-if=\"searchResults.length > 0\">{{ $t('firefly.search_results') }}</h4>\n                  <table v-if=\"searchResults.length > 0\" class=\"table table-sm\">\n                    <caption style=\"display:none;\">{{ $t('firefly.search_results') }}</caption>\n                    <thead>\n                    <tr>\n                      <th scope=\"col\" colspan=\"2\" style=\"width:33%\">{{ $t('firefly.include') }}</th>\n                      <th scope=\"col\">{{ $t('firefly.transaction') }}</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr v-for=\"result in searchResults\">\n                      <td>\n                        <input v-model=\"result.selected\" class=\"form-control\"\n                               type=\"checkbox\"\n                               @change=\"selectTransaction($event)\"\n                        />\n                      </td>\n                      <td>\n                        <select\n                            v-model=\"result.link_type_id\"\n                            class=\"form-control\"\n                            @change=\"selectLinkType($event)\"\n                        >\n                          <option v-for=\"linkType in linkTypes\" :label=\"linkType.type\" :value=\"linkType.id + '-' + linkType.direction\">{{\n                              linkType.type\n                            }}\n                          </option>\n                        </select>\n                      </td>\n                      <td>\n                        <a :href=\"'./transactions/show/' + result.transaction_group_id\">{{ result.description }}</a>\n                        <span v-if=\"result.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount) * -1)\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <br/>\n                        <em>\n                          <a :href=\"'./accounts/show/' + result.source_id\">{{ result.source_name }}</a>\n                          &rarr;\n                          <a :href=\"'./accounts/show/' + result.destination_id\">{{ result.destination_name }}</a>\n                        </em>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-secondary\" data-dismiss=\"modal\" type=\"button\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst lodashClonedeep = require('lodash.clonedeep');\n// TODO error handling\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionLinks\",\n  data() {\n    return {\n      searchResults: [],\n      include: [],\n      locale: 'en-US',\n      linkTypes: [],\n      query: '',\n      searching: false,\n      links: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.emitEvent = false;\n    this.links = lodashClonedeep(this.value);\n    this.getLinkTypes();\n\n  },\n  computed: {\n    showField: function () {\n      if ('links' in this.availableFields) {\n        return this.availableFields.links;\n      }\n      return false;\n    }\n  },\n  watch: {\n    value: function (value) {\n      if (null !== value) {\n        this.emitEvent = false;\n        this.links = lodashClonedeep(value);\n      }\n    },\n    links: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {index: this.index, field: 'links', value: lodashClonedeep(value)});\n      }\n      this.emitEvent = true;\n    },\n    customFields: function (value) {\n      this.availableFields = value;\n    }\n  },\n  methods: {\n    removeLink: function (index) {\n      this.links.splice(index, 1);\n    },\n    getTextForLinkType: function (linkTypeId) {\n      let parts = linkTypeId.split('-');\n      for (let i in this.linkTypes) {\n        if (this.linkTypes.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.linkTypes[i];\n          if (parts[0] === current.id && parts[1] === current.direction) {\n            return current.type;\n          }\n        }\n      }\n      return 'text for #' + linkTypeId;\n    },\n    selectTransaction: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          if (current.selected) {\n            this.addToSelected(current);\n          }\n          if (!current.selected) {\n            // remove from\n            this.removeFromSelected(current);\n          }\n        }\n      }\n    },\n    selectLinkType: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          this.updateSelected(current.transaction_journal_id, current.link_type_id);\n        }\n      }\n    },\n    updateSelected(journalId, linkTypeId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (parseInt(current.transaction_journal_id) === journalId) {\n            this.links[i].link_type_id = linkTypeId;\n          }\n        }\n      }\n    },\n    addToSelected(journal) {\n      let result = this.links.find(({transaction_journal_id}) => transaction_journal_id === journal.transaction_journal_id);\n      if (typeof result === 'undefined') {\n        this.links.push(journal);\n      }\n    },\n    removeFromSelected(journal) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journal.transaction_journal_id) {\n            this.links.splice(parseInt(i), 1);\n          }\n        }\n      }\n    },\n    getLinkTypes: function () {\n      let url = './api/v1/link_types';\n      axios.get(url)\n          .then(response => {\n                  this.parseLinkTypes(response.data);\n                }\n          );\n    },\n    resetModal: function() {\n      this.search();\n    },\n    parseLinkTypes: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = data.data[i];\n          let linkTypeInward = {\n            id: current.id,\n            type: current.attributes.inward,\n            direction: 'inward'\n          };\n          let linkTypeOutward = {\n            id: current.id,\n            type: current.attributes.outward,\n            direction: 'outward'\n          };\n          if (linkTypeInward.type === linkTypeOutward.type) {\n            linkTypeInward.type = linkTypeInward.type + ' ()';\n            linkTypeOutward.type = linkTypeOutward.type + ' ()';\n          }\n          this.linkTypes.push(linkTypeInward);\n          this.linkTypes.push(linkTypeOutward);\n        }\n      }\n    },\n    search: function () {\n      if('' === this.query) {\n        this.searchResults = [];\n        return;\n      }\n      this.searching = true;\n      this.searchResults = [];\n      let url = './api/v1/search/transactions?limit=10&query=' + this.query;\n      axios.get(url)\n          .then(response => {\n                  this.parseSearch(response.data);\n                }\n          );\n    },\n    parseSearch: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          for (let ii in data.data[i].attributes.transactions) {\n            if (data.data[i].attributes.transactions.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n              let current = data.data[i].attributes.transactions[ii];\n              current.transaction_group_id = parseInt(data.data[i].id);\n              current.selected = this.isJournalSelected(current.transaction_journal_id);\n              current.link_type_id = this.getJournalLinkType(current.transaction_journal_id);\n              current.link_type_text = '';\n              this.searchResults.push(current);\n            }\n          }\n        }\n      }\n      this.searching = false;\n    },\n    getJournalLinkType: function (journalId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journalId) {\n            return current.link_type_id;\n          }\n        }\n      }\n      return '1-inward';\n    },\n    isJournalSelected: function (journalId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journalId) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionLinks.vue?vue&type=template&id=a69356e6&\"\nimport script from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - TransactionAttachments.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.attachments') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          ref=\"att\"\n          class=\"form-control\"\n          multiple\n          @change=\"selectedFile\"\n          name=\"attachments[]\"\n          type=\"file\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionAttachments\",\n  props: ['transaction_journal_id', 'customFields'],\n  data() {\n    return {\n      availableFields: this.customFields\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    transaction_journal_id: function (value) {\n      if (!this.showField) {\n        // console.log('Field is hidden. Emit event!');\n        this.$emit('uploaded-attachments', value);\n        return;\n      }\n      // console.log('transaction_journal_id changed to ' + value);\n      // do upload!\n      if (0 !== value) {\n        this.doUpload();\n      }\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('attachments' in this.availableFields) {\n        return this.availableFields.attachments;\n      }\n      return false;\n    }\n  },\n  methods: {\n    selectedFile: function() {\n      this.$emit('selected-attachments', this.transaction_journal_id);\n    },\n    doUpload: function () {\n      // console.log('Now in doUpload() for ' + this.$refs.att.files.length + ' files.');\n      for (let i in this.$refs.att.files) {\n        if (this.$refs.att.files.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.$refs.att.files[i];\n          let fileReader = new FileReader();\n          let theParent = this; // dont ask me why i need to do this.\n          fileReader.onloadend = function (evt) {\n            if (evt.target.readyState === FileReader.DONE) {\n              // do upload here\n              const uri = './api/v1/attachments';\n              const data = {\n                filename: current.name,\n                attachable_type: 'TransactionJournal',\n                attachable_id: theParent.transaction_journal_id,\n              };\n              // create new attachment:\n              axios.post(uri, data).then(response => {\n                // upload actual file:\n                const uploadUri = './api/v1/attachments/' + response.data.data.id + '/upload';\n                axios\n                    .post(uploadUri, new Blob([evt.target.result]))\n                    .then(attachmentResponse => {\n                      // TODO feedback etc.\n                      // console.log('Uploaded a file. Emit event!');\n                      // console.log(attachmentResponse);\n                      theParent.$emit('uploaded-attachments', this.transaction_journal_id);\n                    });\n              });\n            }\n          }\n          fileReader.readAsArrayBuffer(current);\n        }\n      }\n      if (0 === this.$refs.att.files.length) {\n        // console.log('No files to upload. Emit event!');\n        this.$emit('uploaded-attachments', this.transaction_journal_id);\n      }\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAttachments.vue?vue&type=template&id=c0a65b6c&scoped=true&\"\nimport script from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c0a65b6c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.attachments'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{ref:\"att\",staticClass:\"form-control\",attrs:{\"multiple\":\"\",\"name\":\"attachments[]\",\"type\":\"file\"},on:{\"change\":_vm.selectedFile}})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionLocation.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.location') }}\n    </div>\n    <div style=\"width:100%;height:300px;\">\n      <l-map\n          ref=\"myMap\"\n          :center=\"center\"\n          :zoom=\"zoom\" style=\"width:100%;height:300px;\"\n          @ready=\"prepMap()\"\n          @update:zoom=\"zoomUpdated\"\n          @update:center=\"centerUpdated\"\n          @update:bounds=\"boundsUpdated\"\n      >\n        <l-tile-layer :url=\"url\"></l-tile-layer>\n        <l-marker :lat-lng=\"marker\" :visible=\"hasMarker\"></l-marker>\n      </l-map>\n      <span>\n        <button class=\"btn btn-default btn-xs\" @click=\"clearLocation\">{{ $t('firefly.clear_location') }}</button>\n      </span>\n    </div>\n    <p>&nbsp;</p>\n  </div>\n</template>\n\n<script>\n\n// If you need to reference 'L', such as in 'L.icon', then be sure to\n// explicitly import 'leaflet' into your component\n// import L from 'leaflet';\nimport {LMap, LMarker, LTileLayer} from 'vue2-leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n                              iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n                              iconUrl: require('leaflet/dist/images/marker-icon.png'),\n                              shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n                            });\n\nexport default {\n  name: \"TransactionLocation\",\n  props: {\n    index: {},\n    value: {\n      type: Object,\n      required: false\n    },\n    errors: {},\n    customFields: {},\n  },\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  created() {\n    if (null === this.value || typeof this.value === 'undefined') {\n      axios.get('./api/v1/configuration/firefly.default_location').then(response => {\n        this.zoom = parseInt(response.data.data.value.zoom_level);\n        this.center =\n            [\n              parseFloat(response.data.data.value.latitude),\n              parseFloat(response.data.data.value.longitude),\n            ]\n        ;\n      });\n      return;\n    }\n    if (null !== this.value.zoom_level && null !== this.value.latitude && null !== this.value.longitude) {\n      this.zoom = this.value.zoom_level;\n      this.center = [\n        parseFloat(this.value.latitude),\n        parseFloat(this.value.longitude),\n      ];\n      this.hasMarker = true;\n    }\n  },\n  data() {\n    return {\n      availableFields: this.customFields,\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      zoom: 3,\n      center: [0, 0],\n      bounds: null,\n      map: null,\n      hasMarker: false,\n      marker: [0, 0],\n    }\n  },\n  methods: {\n    prepMap: function () {\n      this.map = this.$refs.myMap.mapObject;\n      this.map.on('contextmenu', this.setObjectLocation);\n      this.map.on('zoomend', this.saveZoomLevel);\n    },\n    setObjectLocation: function (event) {\n      this.marker = [event.latlng.lat, event.latlng.lng];\n      this.hasMarker = true;\n      this.emitEvent();\n    },\n    saveZoomLevel: function () {\n      this.emitEvent();\n    },\n    clearLocation: function () {\n      this.hasMarker = false;\n      this.emitEvent();\n    },\n    emitEvent() {\n      this.$emit('set-marker-location', {\n                   index: this.index,\n                   zoomLevel: this.zoom,\n                   lat: this.marker[0],\n                   lng: this.marker[1],\n                   hasMarker: this.hasMarker\n                 }\n      );\n    },\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated(bounds) {\n      this.bounds = bounds;\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('location' in this.availableFields) {\n        return this.availableFields.location;\n      }\n      return false;\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLocation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLocation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionLocation.vue?vue&type=template&id=3bafa3c9&scoped=true&\"\nimport script from \"./TransactionLocation.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionLocation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bafa3c9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.location'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"300px\"}},[_c('l-map',{ref:\"myMap\",staticStyle:{\"width\":\"100%\",\"height\":\"300px\"},attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom},on:{\"ready\":function($event){return _vm.prepMap()},\"update:zoom\":_vm.zoomUpdated,\"update:center\":_vm.centerUpdated,\"update:bounds\":_vm.boundsUpdated}},[_c('l-tile-layer',{attrs:{\"url\":_vm.url}}),_vm._v(\" \"),_c('l-marker',{attrs:{\"lat-lng\":_vm.marker,\"visible\":_vm.hasMarker}})],1),_vm._v(\" \"),_c('span',[_c('button',{staticClass:\"btn btn-default btn-xs\",on:{\"click\":_vm.clearLocation}},[_vm._v(_vm._s(_vm.$t('firefly.clear_location')))])])],1),_vm._v(\" \"),_c('p',[_vm._v(\"\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitForm.vue?vue&type=script&lang=js&\"","<!--\n  - SplitForm.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div :id=\"'split_' + index\" :class=\"'tab-pane' + (0===index ? ' active' : '')\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.basic_journal_information') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n            <div v-if=\"count>1\" class=\"card-tools\">\n              <button class=\"btn btn-danger btn-xs\" @click=\"removeTransaction\"><i class=\"fas fa-trash-alt\"></i></button>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionDescription\n                    v-model=\"transaction.description\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.description\"\n                    :index=\"index\"\n                ></TransactionDescription>\n              </div>\n            </div>\n            <!-- source and destination -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- SOURCE -->\n                <TransactionAccount\n                    v-model=\"sourceAccount\"\n                    v-on=\"$listeners\"\n                    :allowed-opposing-types=\"allowedOpposingTypes\"\n                    :destination-allowed-types=\"destinationAllowedTypes\"\n                    :errors=\"transaction.errors.source\"\n                    :index=\"index\"\n                    :source-allowed-types=\"sourceAllowedTypes\"\n                    :transaction-type=\"transactionType\"\n                    direction=\"source\"\n                />\n              </div>\n              <!-- switcharoo! -->\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <SwitchAccount\n                    v-if=\"0 === index && allowSwitch\"\n                    v-on=\"$listeners\"\n                    :index=\"index\"\n                    :transaction-type=\"transactionType\"\n                />\n              </div>\n\n              <!-- destination -->\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <!-- DESTINATION -->\n                <TransactionAccount\n                    v-model=\"destinationAccount\"\n                    v-on=\"$listeners\"\n                    :allowed-opposing-types=\"allowedOpposingTypes\"\n                    :destination-allowed-types=\"destinationAllowedTypes\"\n                    :errors=\"transaction.errors.destination\"\n                    :index=\"index\"\n                    :transaction-type=\"transactionType\"\n                    :source-allowed-types=\"sourceAllowedTypes\"\n                    direction=\"destination\"\n                />\n              </div>\n            </div>\n\n\n            <!-- amount  -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- AMOUNT -->\n                <TransactionAmount\n                    v-on=\"$listeners\"\n                    :amount=\"transaction.amount\"\n                    :destination-currency-symbol=\"this.transaction.destination_account_currency_symbol\"\n                    :errors=\"transaction.errors.amount\"\n                    :index=\"index\"\n                    :source-currency-symbol=\"this.transaction.source_account_currency_symbol\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <TransactionForeignCurrency\n                    v-model=\"transaction.foreign_currency_id\"\n                    v-on=\"$listeners\"\n                    :destination-currency-id=\"this.transaction.destination_account_currency_id\"\n                    :index=\"index\"\n                    :selected-currency-id=\"this.transaction.foreign_currency_id\"\n                    :source-currency-id=\"this.transaction.source_account_currency_id\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <!--\n                The reason that TransactionAmount gets the symbols and\n                TransactionForeignAmount gets the ID's of the currencies is\n                because ultimately TransactionAmount doesn't decide which\n                currency id is submitted to Firefly III.\n                -->\n                <TransactionForeignAmount\n                    v-model=\"transaction.foreign_amount\"\n                    v-on=\"$listeners\"\n                    :destination-currency-id=\"this.transaction.destination_account_currency_id\"\n                    :errors=\"transaction.errors.foreign_amount\"\n                    :index=\"index\"\n                    :selected-currency-id=\"this.transaction.foreign_currency_id\"\n                    :source-currency-id=\"this.transaction.source_account_currency_id\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n            </div>\n\n            <!-- dates -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionDate\n                    v-on=\"$listeners\"\n                    :date=\"splitDate\"\n                    :errors=\"transaction.errors.date\"\n                    :index=\"index\"\n                    :time=\"splitTime\"\n                />\n              </div>\n\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\">\n                <TransactionCustomDates\n                    v-on=\"$listeners\"\n                    :book-date=\"transaction.book_date\"\n                    :custom-fields.sync=\"customFields\"\n                    :due-date=\"transaction.due_date\"\n                    :errors=\"transaction.errors.custom_dates\"\n                    :index=\"index\"\n                    :interest-date=\"transaction.interest_date\"\n                    :invoice-date=\"transaction.invoice_date\"\n                    :payment-date=\"transaction.payment_date\"\n                    :process-date=\"transaction.process_date\"\n                />\n              </div>\n            </div>\n\n            <!-- end of body -->\n          </div>\n        </div>\n      </div>\n    </div> <!-- end of basic card -->\n\n    <!-- card for meta -->\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.transaction_journal_meta') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <!-- meta -->\n            <div class=\"row\">\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionBudget\n                    v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.budget_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.budget\"\n                    :index=\"index\"\n                />\n                <TransactionCategory\n                    v-model=\"transaction.category\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.category\"\n                    :index=\"index\"\n                />\n              </div>\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionBill\n                    v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.bill_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.bill\"\n                    :index=\"index\"\n                />\n                <TransactionTags\n                    v-model=\"transaction.tags\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.tags\"\n                    :index=\"index\"\n                />\n                <TransactionPiggyBank\n                    v-if=\"!('Withdrawal' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.piggy_bank_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.piggy_bank\"\n                    :index=\"index\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end card for meta -->\n    <!-- card for extra -->\n    <div v-if=\"hasMetaFields\" class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.transaction_journal_extra') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <div class=\"row\">\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                <TransactionInternalReference\n                    v-model=\"transaction.internal_reference\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.internal_reference\"\n                    :index=\"index\"\n                />\n\n                <TransactionExternalUrl\n                    v-model=\"transaction.external_url\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.external_url\"\n                    :index=\"index\"\n                />\n                <TransactionNotes\n                    v-model=\"transaction.notes\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.notes\"\n                    :index=\"index\"\n                />\n              </div>\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                <TransactionAttachments\n                    ref=\"attachments\"\n                    v-model=\"transaction.attachments\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :index=\"index\"\n                    :submitted_transaction=\"submittedTransaction\"\n                    :transaction_journal_id=\"transaction.transaction_journal_id\"\n                />\n                <TransactionLocation\n                    v-model=\"transaction.location\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.location\"\n                    :index=\"index\"\n                />\n\n                <TransactionLinks\n                    v-model=\"transaction.links\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :index=\"index\"\n                />\n              </div>\n\n            </div>\n            <!-- end of body -->\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end card for extra -->\n    <!-- end of card -->\n  </div>\n</template>\n\n<script>\n\nimport TransactionDescription from \"./TransactionDescription\";\nimport TransactionDate from \"./TransactionDate\";\nimport TransactionBudget from \"./TransactionBudget\";\nimport TransactionAccount from \"./TransactionAccount\";\nimport SwitchAccount from \"./SwitchAccount\";\nimport TransactionAmount from \"./TransactionAmount\";\nimport TransactionForeignAmount from \"./TransactionForeignAmount\";\nimport TransactionForeignCurrency from \"./TransactionForeignCurrency\";\nimport TransactionCustomDates from \"./TransactionCustomDates\";\nimport TransactionCategory from \"./TransactionCategory\";\nimport TransactionBill from \"./TransactionBill\";\nimport TransactionTags from \"./TransactionTags\";\nimport TransactionPiggyBank from \"./TransactionPiggyBank\";\nimport TransactionInternalReference from \"./TransactionInternalReference\";\nimport TransactionExternalUrl from \"./TransactionExternalUrl\";\nimport TransactionNotes from \"./TransactionNotes\";\nimport TransactionLinks from \"./TransactionLinks\";\nimport TransactionAttachments from \"./TransactionAttachments\";\nimport SplitPills from \"./SplitPills\";\nimport TransactionLocation from \"./TransactionLocation\";\n\nexport default {\n  name: \"SplitForm\",\n  props: {\n    transaction: {\n      type: Object,\n      required: true\n    },\n    count: {\n      type: Number,\n      required: false\n    },\n    customFields: {\n      type: Object,\n      required: false\n    },\n    index: {\n      type: Number,\n      required: true\n    },\n    date: {\n      type: Date,\n      required: true\n    },\n    time: {\n      type: Date,\n      required: true\n    },\n    transactionType: {\n      type: String,\n      required: true\n    },\n    submittedTransaction: {\n      type: Boolean,\n      required: false,\n      default: false\n    }, // need to know if transaction is submitted.\n    sourceAllowedTypes: {\n      type: Array,\n      required: false,\n      default: []\n    }, // allowed source account types.\n    destinationAllowedTypes: {\n      type: Array,\n      required: false,\n      default: []\n    },\n    allowedOpposingTypes: {\n      type: Object,\n      required: false,\n      default: {}\n    },\n    // allow switch?\n    allowSwitch: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n\n  },\n  // watch: {\n  //   allowedOpposingTypes: function() {\n  //     console.log('SplitForm noticed change in allowedOpposingTypes');\n  //   }\n  // },\n  methods: {\n    removeTransaction: function () {\n      // console.log('Will remove transaction ' + this.index);\n      this.$emit('remove-transaction', {index: this.index});\n    },\n  },\n  computed: {\n    splitDate: function () {\n      return this.date;\n    },\n    splitTime: function () {\n      return this.time;\n    },\n    sourceAccount: function () {\n      return {\n        id: this.transaction.source_account_id,\n        name: this.transaction.source_account_name,\n        type: this.transaction.source_account_type,\n      };\n    },\n    destinationAccount: function () {\n      return {\n        id: this.transaction.destination_account_id,\n        name: this.transaction.destination_account_name,\n        type: this.transaction.destination_account_type,\n      };\n    },\n    hasMetaFields: function () {\n      let requiredFields = [\n        'internal_reference',\n        'notes',\n        'attachments',\n        'external_uri',\n        'location',\n        'links',\n      ];\n      for (let field in this.customFields) {\n        if (this.customFields.hasOwnProperty(field)) {\n          if (requiredFields.includes(field)) {\n            if (true === this.customFields[field]) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  },\n  components: {\n    TransactionLocation,\n    SplitPills,\n    TransactionAttachments,\n    TransactionNotes,\n    TransactionExternalUrl,\n    TransactionInternalReference,\n    TransactionPiggyBank,\n    TransactionTags,\n    TransactionLinks,\n    TransactionBill,\n    TransactionCategory,\n    TransactionCustomDates,\n    TransactionForeignCurrency,\n    TransactionForeignAmount,\n    TransactionAmount,\n    SwitchAccount,\n    TransactionAccount,\n    TransactionBudget,\n    TransactionDescription,\n    TransactionDate\n  },\n}\n</script>\n","import { render, staticRenderFns } from \"./SplitForm.vue?vue&type=template&id=5433c0d4&\"\nimport script from \"./SplitForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SplitForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SplitPills.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"transactions.length > 1\" class=\"row\">\n    <div class=\"col\">\n      <!-- tabs -->\n      <ul class=\"nav nav-pills ml-auto p-2\">\n        <li v-for=\"(transaction, index) in this.transactions\" class=\"nav-item\"><a :class=\"'nav-link' + (0===index ? ' active' : '')\" :href=\"'#split_' + index\"\n                                                                                  data-toggle=\"tab\">\n          <span v-if=\"'' !== transaction.description\">{{ transaction.description }}</span>\n          <span v-if=\"'' === transaction.description\">Split {{ index + 1 }}</span>\n        </a></li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SplitPills\",\n  props: ['transactions']\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitPills.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitPills.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SplitPills.vue?vue&type=template&id=0e910ecf&\"\nimport script from \"./SplitPills.vue?vue&type=script&lang=js&\"\nexport * from \"./SplitPills.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.transactions.length > 1)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('ul',{staticClass:\"nav nav-pills ml-auto p-2\"},_vm._l((this.transactions),function(transaction,index){return _c('li',{staticClass:\"nav-item\"},[_c('a',{class:'nav-link' + (0===index ? ' active' : ''),attrs:{\"href\":'#split_' + index,\"data-toggle\":\"tab\"}},[('' !== transaction.description)?_c('span',[_vm._v(_vm._s(transaction.description))]):_vm._e(),_vm._v(\" \"),('' === transaction.description)?_c('span',[_vm._v(\"Split \"+_vm._s(index + 1))]):_vm._e()])])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.split_transaction_title'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.descriptions,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.split_transaction_title'),\"serializer\":function (item) { return item.description; },\"showOnFocus\":true,\"inputName\":\"group_title\"},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionGroupTitle.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.split_transaction_title') }}\n    </div>\n    <vue-typeahead-bootstrap\n        v-model=\"title\"\n        :data=\"descriptions\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.split_transaction_title')\"\n        :serializer=\"item => item.description\"\n        :showOnFocus=true\n        inputName=\"group_title\"\n        @input=\"lookupDescription\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearDescription\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n\n  </div>\n</template>\n\n<script>\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['value', 'errors'],\n  name: \"TransactionGroupTitle\",\n  components: {VueTypeaheadBootstrap},\n  data() {\n    return {\n      descriptions: [],\n      initialSet: [],\n      title: this.value,\n      emitEvent: true\n    }\n  },\n\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n  watch: {\n    value: function (value) {\n      this.title = value;\n    },\n    title: function (value) {\n      this.$emit('set-group-title', value);\n    }\n  },\n  methods: {\n    clearDescription: function () {\n      this.title = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.title))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionGroupTitle.vue?vue&type=template&id=273271bf&scoped=true&\"\nimport script from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"273271bf\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"bf9ab7ac\", content, true, {});"],"sourceRoot":""}