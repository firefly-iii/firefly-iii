{"version":3,"sources":["webpack:///./src/components/transactions/TransactionTags.vue?f6be","webpack:///./src/components/transactions/TransactionTags.vue?7125","webpack:///./src/components/transactions/TransactionTags.vue?9c61","webpack:///src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?e9b4","webpack:///./src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?6944","webpack:///src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?cd54","webpack:///./src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?691c","webpack:///src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?582a","webpack:///./src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?87f3","webpack:///src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?99df","webpack:///./src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?89aa","webpack:///src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?76a5","webpack:///./src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?a5fd","webpack:///src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?2029","webpack:///./src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?f9ee","webpack:///src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?a3d5","webpack:///./src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?f406","webpack:///src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?7457","webpack:///./src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?5374","webpack:///src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?a208","webpack:///./src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?e034","webpack:///src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue?7292","webpack:///./src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue?4236","webpack:///src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue?5529","webpack:///./src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue?ec7f","webpack:///src/components/transactions/TransactionTags.vue","webpack:///./src/components/transactions/TransactionTags.vue?0617","webpack:///./src/components/transactions/TransactionTags.vue","webpack:///./src/components/transactions/TransactionTags.vue?bf89","webpack:///src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue?183b","webpack:///./src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue?72cc","webpack:///src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue?111c","webpack:///./src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue?d771","webpack:///src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue?1580","webpack:///./src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue?b5ae","webpack:///src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue?2e0f","webpack:///./src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue?430e","webpack:///./src/components/transactions/TransactionLinks.vue?48a5","webpack:///src/components/transactions/TransactionLinks.vue","webpack:///./src/components/transactions/TransactionLinks.vue","webpack:///./src/components/transactions/TransactionLinks.vue?2444","webpack:///./src/components/transactions/TransactionAttachments.vue?11dd","webpack:///src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue?a544","webpack:///src/components/transactions/TransactionGroupTitle.vue","webpack:///./src/components/transactions/TransactionGroupTitle.vue?816f","webpack:///./src/components/transactions/TransactionGroupTitle.vue","webpack:///./src/components/transactions/TransactionGroupTitle.vue?02f2","webpack:///src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?0a62","webpack:///./src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?152c","webpack:///./src/pages/transactions/create.js"],"names":["content","module","i","options","transform","undefined","locals","exports","push","props","components","name","data","descriptions","initialSet","created","axios","get","this","getACURL","methods","clearDescription","value","document","getElementsByTagName","href","query","lookupDescription","watch","updateField","computed","_vm","_h","$createElement","_c","_self","staticClass","attrs","$t","errors","length","item","description","on","model","callback","$$v","expression","slot","_v","_l","error","_s","_e","localDate","date","Date","isNaN","toISOString","split","set","current","setFullYear","newDate","getFullYear","setMonth","getMonth","setDate","getDate","localTime","getHours","slice","getMinutes","getSeconds","setHours","setMinutes","setSeconds","parseInt","parts","directives","rawName","ref","class","index","domProps","$event","target","composing","budgetList","collectData","getBudgets","parseBudgets","hasOwnProperty","key","test","preventDefault","$$selectedVal","Array","prototype","filter","call","o","selected","map","_value","multiple","budget","id","accounts","accountTypes","selectedAccount","createInitialSet","types","join","clearAccount","lookupAccount","direction","sourceAllowedTypes","destinationAllowedTypes","name_with_balance","allowedOpposingTypes","type","opposingAccounts","setDestinationAllowedTypes","setSourceAllowedTypes","calcTransactionType","accountKey","visible","transactionType","$set","switchAccounts","currencySymbol","currencyId","transactions","source_account","currency_id","currency_symbol","destination_account","indexOf","updateCurrency","currencyPreference","symbol","$store","state","amount","selectedTransactionType","allCurrencies","selectableCurrencies","foreign_amount","foreign_currency_id","lockedCurrency","selectIsVisible","filterCurrencies","checkVisibility","getAllCurrencies","sourceId","destId","normalCurrencyId","currency","getFieldValue","setFieldValue","enabled","refInFor","categories","clearCategory","lookupCategory","selectedCategory","billList","getBills","parseBills","bill","VueTagsInput","autocompleteItems","debounce","tags","currentTag","updateTags","shortList","initItems","clearTimeout","setTimeout","this$1","newTags","piggyList","getPiggies","parsePiggies","piggy","_m","searchResults","include","locale","linkTypes","searching","getLinkTypes","getTextForLinkType","linkTypeId","selectTransaction","addToSelected","removeFromSelected","selectLinkType","updateSelected","transaction_journal_id","link_type_id","journalId","journal","splice","parseLinkTypes","attributes","inward","outward","linkTypeInward","linkTypeOutward","search","url","parseSearch","ii","transaction_group_id","isJournalSelected","getJournalLinkType","link_type_text","transaction","Intl","NumberFormat","style","currency_code","format","parseFloat","result","isArray","_i","$$a","$$el","$$c","checked","$$i","concat","linkType","source_id","source_name","destination_id","destination_name","staticStyle","doUpload","$refs","att","files","$emit","setGroupTitle","TransactionAttachments","TransactionNotes","TransactionExternalUrl","TransactionGroupTitle","TransactionInternalReference","TransactionPiggyBank","TransactionTags","TransactionLinks","TransactionBill","TransactionCategory","TransactionCustomDates","TransactionForeignCurrency","TransactionForeignAmount","storeAllowedOpposingTypes","storeAccountToTransaction","storeCustomDateFields","addTransaction","errorMessage","successMessage","enableSubmit","createAnother","resetFormAfter","submittedTransaction","submittedLinks","submittedAttachments","inError","submittedAttCount","groupTitleErrors","groupId","groupTitle","finalizeSubmit","removeTransaction","commit","then","interest_date","book_date","process_date","due_date","payment_date","invoice_date","fields","allDateFields","selectedDateFields","window","location","resetTransactions","submitTransaction","post","submitAttachments","uploadedAttachment","submitTransactionLinks","submitted","links","total","currentLink","outward_id","received","inward_id","promises","Promise","all","parseErrors","resetErrors","message","transactionIndex","fieldName","payload","setTransactionError","convertData","group_title","convertSplit","synchronizeAccounts","dateStr","toW3CString","array","budget_id","category_name","category","internal_reference","external_url","notes","external_id","order","reconciled","piggy_bank_id","currentSplit","bill_id","toLowerCase","firstSource","firstDestination","includes","linkTypeParts","inwardId","outwardId","newLink","month","day","hours","minutes","seconds","offsetHours","offsetMinutes","offset","offsetSign","year","setAllowedOpposingTypes","setAccountToTransaction","accountToTransaction","source","destination","customDateFields","custom_dates","piggy_bank","require","Vue","config","productionTip","i18n","store","render","createElement","Create","beforeCreate","dispatch","$mount"],"mappings":"6EACA,IAAIA,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACC,EAAOC,EAAIF,EAAS,MAOhE,IAAIG,EAAU,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBC,GAER,EAAQ,GAAR,CAAgEL,EAASG,GAEnFH,EAAQM,SAAQL,EAAOM,QAAUP,EAAQM,S,uECjB5C,Q,qBCAUL,EAAOM,QAAU,EAAQ,GAAR,EAA4D,IAK/EC,KAAK,CAACP,EAAOC,EAAI,8KAA+K,M,wwBC+CxM,sC,EAAA,S,EAAA,e,EAAA,W,EAAA,cCpDsN,EDsDtN,CACEO,MAAO,CAAC,QAAS,QAAS,UAC1BC,WAAY,CAAd,2BACEC,KAAM,yBACNC,KAJF,WAKI,MAAO,CACLC,aAAc,GACdC,WAAY,KAGhBC,QAVF,WAUA,WACIC,MAAMC,IAAIC,KAAKC,SAAS,KAC5B,kBACM,EAAN,oBACM,EAAN,sBAIEC,QAAS,EAAX,KACA,EACA,CACA,iBAHA,IAMIC,iBAAkB,WAChBH,KAAKI,MAAQ,IAEfH,SAAU,SAAd,GAEM,OAAOI,SAASC,qBAAqB,QAAQ,GAAGC,KAAO,0CAA4CC,GAErGC,kBAAmB,OAAvB,WAAuB,EAAvB,sBAEMX,MAAMC,IAAIC,KAAKC,SAASD,KAAKI,QACnC,kBACQ,EAAR,yBAEA,OAEEM,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,iDAGEC,SAAU,EAAZ,GACA,EACA,CACA,kBACA,mB,OEpFe,EAXC,YACd,GCRW,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,0BAA0B,CAACG,MAAM,CAAC,UAAY,gBAAgB,KAAON,EAAIlB,aAAa,YAAckB,EAAIO,GAAG,uBAAuB,aAAc,EAAK,UAAY,GAAG,WAAaP,EAAIQ,OAAOC,OAAS,EAAI,aAAe,GAAG,iBAAmB,EAAE,WAAa,SAAUC,GAAQ,OAAOA,EAAKC,cAAgBC,GAAG,CAAC,MAAQZ,EAAIJ,mBAAmBiB,MAAM,CAACtB,MAAOS,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAIT,MAAMwB,GAAKC,WAAW,UAAU,CAACb,EAAG,WAAW,CAACc,KAAK,UAAU,CAACd,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,SAAW,KAAK,KAAO,UAAUM,GAAG,CAAC,MAAQZ,EAAIV,mBAAmB,CAACa,EAAG,IAAI,CAACE,YAAY,4BAA4B,GAAGL,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,MAAM,KAC78B,IDUpB,EACA,KACA,KACA,M,qsBE6CF,sC,EAAA,S,EAAA,YC3D+M,G,ED2D/M,WAEA,CACE5C,MAAO,CAAC,QAAS,UACjBE,KAAM,kBACNS,QAAS,EAAX,IACA,E,EANA,cAOA,CACA,cACA,aAIEU,SAAU,EAAZ,KACA,EACA,CACA,kBACA,OACA,kBALA,IAQIwB,UAAW,CACTrC,IADN,WAEQ,OAAIC,KAAKqC,gBAAgBC,OAASC,MAAMvC,KAAKqC,MACpCrC,KAAKqC,KAAKG,cAAcC,MAAM,KAAK,GAErC,IAETC,IAPN,SAOA,GAKQ,IAAR,cACA,gCACQC,EAAQC,YAAYC,EAAQC,eAC5BH,EAAQI,SAASF,EAAQG,YACzBL,EAAQM,QAAQJ,EAAQK,WACxBlD,KAAKiD,QAAQ,CAArB,WAGIE,UAAW,CACTpD,IADN,WAEQ,OAAIC,KAAKqC,gBAAgBC,OAASC,MAAMvC,KAAKqC,OACnC,IAAMrC,KAAKqC,KAAKe,YAAYC,OAAO,GAAK,KAAO,IAAMrD,KAAKqC,KAAKiB,cAAcD,OAAO,GAAK,KAAO,IAAMrD,KAAKqC,KAAKkB,cAAcF,OAAO,GAExI,IAETX,IAPN,SAOA,GACQ,GAAR,OAKU,OAJA1C,KAAKqC,KAAKmB,SAAS,GACnBxD,KAAKqC,KAAKoB,WAAW,GACrBzD,KAAKqC,KAAKqB,WAAW,QACrB1D,KAAKiD,QAAQ,CAAvB,iBAIQ,IAAR,gCACA,eACQN,EAAQa,SAASG,SAASC,EAAM,KAChCjB,EAAQc,WAAWE,SAASC,EAAM,KAClCjB,EAAQe,WAAWC,SAASC,EAAM,KAClC5D,KAAKiD,QAAQ,CAArB,eEvGe,EAXC,YACd,GCRW,WAAa,IAAIpC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,0BAA0B,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAa,UAAEgB,WAAW,cAAckC,IAAI,OAAOC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,KAAO,OAAO,MAAQN,EAAIO,GAAG,gBAAgB,SAAWP,EAAIoD,MAAQ,EAAE,aAAe,MAAM,KAAO,SAAS,YAAcpD,EAAIuB,WAAW8B,SAAS,CAAC,MAASrD,EAAa,WAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIuB,UAAU+B,EAAOC,OAAOhE,WAAUS,EAAIkB,GAAG,KAAKf,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAa,UAAEgB,WAAW,cAAckC,IAAI,OAAOC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,KAAO,OAAO,MAAQN,EAAIO,GAAG,gBAAgB,SAAWP,EAAIoD,MAAQ,EAAE,aAAe,MAAM,KAAO,SAAS,YAAcpD,EAAIsC,WAAWe,SAAS,CAAC,MAASrD,EAAa,WAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIsC,UAAUgB,EAAOC,OAAOhE,aAAYS,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,SAC54C,IDUpB,EACA,KACA,KACA,M,qsBEkCF,sC,EAAA,S,EAAA,YChDiN,G,EDgDjN,WAEA,CACE5C,MAAO,CAAC,QAAS,QAAS,UAC1BE,KAAM,oBACNC,KAHF,WAII,MAAO,CACL4E,WAAY,KAGhBzE,QARF,WASIG,KAAKuE,eAEPrE,QAAS,EAAX,MACA,E,EAdA,cAeA,CACA,iBAHA,IAMIqE,YANJ,WAOMvE,KAAKsE,WAAWhF,KACtB,CACQ,GAAR,EACQ,KAAR,+BAGMU,KAAKwE,cAEPA,WAfJ,WAeA,WACM1E,MAAMC,IAAI,oBAChB,kBACQ,EAAR,yBAII0E,aAtBJ,SAsBA,GACM,IAAK,IAAX,YACQ,GAAI/E,EAAKA,KAAKgF,eAAeC,IAAQ,iBAAiBC,KAAKD,IAAQA,GAAO,WAAY,CACpF,IAAV,YACU3E,KAAKsE,WAAWhF,KAC1B,CACY,GAAZ,eACY,KAAZ,wBAOEoB,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,+CAGEC,SAAU,EAAZ,GACA,EACA,CACA,kBACA,oBExFe,EAXC,YACd,GCRW,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,mBAAmB,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAS,MAAEgB,WAAW,UAAUkC,IAAI,SAASC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,MAAQN,EAAIO,GAAG,kBAAkB,aAAe,MAAM,KAAO,eAAeK,GAAG,CAAC,OAAS,SAAS0C,GAAQA,EAAOU,kBAAmB,OAAS,SAASV,GAAQ,IAAIW,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKf,EAAOC,OAAOnF,SAAQ,SAASkG,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAE/E,SAAoBS,EAAIT,MAAM+D,EAAOC,OAAOmB,SAAWT,EAAgBA,EAAc,MAAMjE,EAAImB,GAAIhC,KAAe,YAAE,SAASwF,GAAQ,OAAOxE,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQqE,EAAO/F,MAAMyE,SAAS,CAAC,MAAQsB,EAAOC,KAAK,CAAC5E,EAAIkB,GAAGlB,EAAIqB,GAAGsD,EAAO/F,YAAW,KAAKoB,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,SAC5rC,IDUpB,EACA,KACA,KACA,M,qsBEiDF,sC,EAAA,S,EAAA,c,EAAA,a,EAAA,aC/DkN,EDiElN,CACE1C,KAAM,qBACND,WAAY,CAAd,2BACED,MAAO,CAAC,QAAS,YAAa,QAAS,UACvCG,KAJF,WAKI,MAAO,CACLc,MAAO,GACPkF,SAAU,GACVC,aAAc,GACd/F,WAAY,GACZgG,gBAAiB,KAGrB/F,QAbF,WAcIG,KAAK6F,oBAEP3F,QAAS,EAAX,OACA,EACA,CACA,cACA,6BACA,2BAGA,EACA,CACA,yBAVA,IAaID,SAAU,SAAd,KACM,OAAOI,SAASC,qBAAqB,QAAQ,GAAGC,KAAO,sCAAwCuF,EAAMC,KAAK,KAAO,UAAYvF,GAE/HwF,aAAc,WACZhG,KAAK0F,SAAW1F,KAAKJ,WACrBI,KAAKI,MAAQ,CAAnB,UAEI6F,cAAe,OAAnB,WAAmB,EAAnB,sBACU,IAAMjG,KAAK2F,aAAarE,SAE1BtB,KAAK2F,aAAe,WAAa3F,KAAKkG,UAAYlG,KAAKmG,mBAAqBnG,KAAKoG,yBAInFtG,MAAMC,IAAIC,KAAKC,SAASD,KAAK2F,aAAc3F,KAAKI,MAAMX,OAC5D,kBACQ,EAAR,qBAEA,KACIoG,iBAAkB,WAAtB,WACA,0BACU,gBAAkB7F,KAAKkG,YACzBJ,EAAQ9F,KAAKoG,yBAGftG,MAAMC,IAAIC,KAAKC,SAAS6F,EAAO,KACrC,kBAEQ,EAAR,gBACQ,EAAR,wBAIEpF,MAAO,CACLkF,gBAAiB,SAArB,GACM5F,KAAKI,MAAQA,EACbJ,KAAKI,MAAMX,KAAOO,KAAKI,MAAMiG,mBAE/BjG,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,iDAEM,IAAN,KACA,+BACU,IAAuBX,KAAKsG,qBAAqBtG,KAAKkG,iBACpD,IAAuBlG,KAAKsG,qBAAqBtG,KAAKkG,WAAWK,KACnEC,EAAmBxG,KAAKsG,qBAAqBtG,KAAKkG,WAAWK,IAI7D,WAAavG,KAAKkG,WACpBlG,KAAKyG,2BAA2BD,GAE9B,gBAAkBxG,KAAKkG,WACzBlG,KAAK0G,sBAAsBF,GAG7BxG,KAAK2G,wBAmDT/F,SAAU,EAAZ,KACA,GACA,kBACA,eACA,qBACA,qBACA,0BACA,0BAPA,IASIgG,WAAY,CACV7G,IADN,WAEQ,MAAO,WAAaC,KAAKkG,UAAY,iBAAmB,wBAG5DW,QAAS,CACP9G,IADN,WAGQ,OAAI,IAAMC,KAAKiE,QAGX,WAAajE,KAAKkG,UACb,QAAUlG,KAAK8G,iBAAmB,YAAc9G,KAAK8G,gBAE1D,gBAAkB9G,KAAKkG,YAClB,QAAUlG,KAAK8G,iBAAmB,eAAiB9G,KAAK8G,uBE/M1D,EAXC,YACd,GCRW,WAAa,IAAIjG,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAAEL,EAAW,QAAEG,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAAE,IAAMlB,KAAKiE,MAAOjD,EAAG,OAAO,CAACH,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIO,GAAG,WAAapB,KAAKkG,UAAY,gBAAgBrF,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAM/B,KAAKiE,MAAQ,EAAGjD,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIO,GAAG,iCAAmCpB,KAAKkG,eAAerF,EAAIsB,OAAOtB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAOlB,EAAIgG,QAAgGhG,EAAIsB,KAA3FnB,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,iBAA0BlB,EAAIkB,GAAG,KAAMlB,EAAW,QAAEG,EAAG,0BAA0B,CAACG,MAAM,CAAC,KAAON,EAAI6E,SAAS,aAAc,EAAK,WAAa7E,EAAIQ,OAAOC,OAAS,EAAI,aAAe,GAAG,UAAYT,EAAIqF,UAAY,KAAK,WAAa,SAAU3E,GAAQ,OAAOA,EAAK8E,mBAAqB,iBAAmB,EAAE,YAAcxF,EAAIO,GAAG,WAAaP,EAAIqF,UAAY,aAAazE,GAAG,CAAC,MAAQZ,EAAIoF,cAAc,IAAM,SAAS9B,GAAQtD,EAAI+E,gBAAkBzB,IAASzC,MAAM,CAACtB,MAAOS,EAAIT,MAAU,KAAEuB,SAAS,SAAUC,GAAMf,EAAIkG,KAAKlG,EAAIT,MAAO,OAAQwB,IAAMC,WAAW,eAAe,CAACb,EAAG,WAAW,CAACc,KAAK,UAAU,CAACd,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,SAAW,KAAK,KAAO,UAAUM,GAAG,CAAC,MAAQZ,EAAImF,eAAe,CAAChF,EAAG,IAAI,CAACE,YAAY,4BAA4B,GAAGL,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAOlB,EAAIgG,QAAwKhG,EAAIsB,KAAnKnB,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACH,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIO,GAAG,uCAAgDP,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,MAAM,KAC9tD,IDUpB,EACA,KACA,WACA,M,qsBEwBF,sC,EAAA,S,EAAA,YCtC6M,G,EDsC7M,WAEA,CACE1C,KAAM,gBACNF,MAAO,CAAC,SACRW,QAAS,EAAX,MACA,E,EANA,cAOA,CACA,iBAHA,IAOI8G,eAPJ,WAQM,IAAN,+CACA,oDAEMhH,KAAKW,YAAY,CAAvB,kDACMX,KAAKW,YAAY,CAAvB,0DAMEC,SAAU,EAAZ,GACA,yCE5Ce,EAXC,YACd,GCRW,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAAE,QAAUlB,KAAK8G,gBAAiB9F,EAAG,OAAO,CAACE,YAAY,cAAc,CAACL,EAAIkB,GAAG,WAAWlB,EAAIqB,GAAGrB,EAAIO,GAAG,WAAapB,KAAK8G,kBAAkB,YAAYjG,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAM,QAAU/B,KAAK8G,gBAAiB9F,EAAG,OAAO,CAACE,YAAY,cAAc,CAACL,EAAIkB,GAAG,OAAOlB,EAAIsB,OAAOtB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,SAAS,CAACE,YAAY,gBAAgBO,GAAG,CAAC,MAAQZ,EAAImG,iBAAiB,CAACnG,EAAIkB,GAAG,aACnkB,IDUpB,EACA,KACA,WACA,M,qsBEkCF,sC,EAAA,S,EAAA,YChDiN,G,EDgDjN,WAIA,CACEtC,KAAM,oBACNF,MAAO,CAAC,QAAS,UACjBG,KAHF,WAII,MAAO,CACLuH,eAAgB,KAGpBvG,MAAO,CACLoG,gBAAiB,SAArB,GACM,OAAQ1G,GACN,IAAK,WACL,IAAK,aAIH,OAFAJ,KAAKkH,WAAalH,KAAKmH,aAAanH,KAAKiE,OAAOmD,eAAeC,iBAC/DrH,KAAKiH,eAAiBjH,KAAKmH,aAAanH,KAAKiE,OAAOmD,eAAeE,iBAErE,IAAK,UAIH,OAFAtH,KAAKkH,WAAalH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBF,iBACpErH,KAAKiH,eAAiBjH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBD,mBAI9ElB,wBAAyB,SAA7B,QAEU,IAAuBpG,KAAKmH,aAAanH,KAAKiE,OAAOmD,eAAeb,OAC4C,IAA9G,CAAC,gBAAiB,OAAQ,OAAQ,YAAYiB,QAAQxH,KAAKmH,aAAanH,KAAKiE,OAAOmD,eAAeb,QAErGvG,KAAKkH,WAAalH,KAAKmH,aAAanH,KAAKiE,OAAOmD,eAAeC,YAC/DrH,KAAKiH,eAAiBjH,KAAKmH,aAAanH,KAAKiE,OAAOmD,eAAeE,kBAIzEnB,mBAAoB,SAAxB,QAGU,IAAuBnG,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBhB,MAAQ,aAAevG,KAAK8G,kBACgB,IAAnH,CAAC,gBAAiB,OAAQ,OAAQ,YAAYU,QAAQxH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBhB,QAE1GvG,KAAKkH,WAAalH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBF,YACpErH,KAAKiH,eAAiBjH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBD,mBAMhFzH,QAAS,WACPG,KAAKyH,kBAEPvH,QAAS,EAAX,MACA,E,EAvDA,cAwDA,CACA,iBAHA,IAMIuH,eAAgB,WACV,IAAMzH,KAAKkH,aAEblH,KAAKiH,eAAiBjH,KAAK0H,mBAAmBC,OAC9C3H,KAAKkH,WAAalH,KAAK0H,mBAAmBjC,OAIhD7E,SAAU,EAAZ,GACI8G,mBAAoB,CAClB3H,IADN,WAEQ,OAAOC,KAAK4H,OAAOC,MAAMH,sBAGjC,GACA,kBACA,eACA,0BACA,wBAVA,IAYII,OAAQ,CACN/H,IADN,WAEQ,OAAOC,KAAKmH,aAAanH,KAAKiE,OAAO6D,QAEvCpF,IAJN,SAIA,GACQ1C,KAAKW,YAAY,CAAzB,4CAGIuG,WAAY,CACVnH,IADN,WAEQ,OAAOC,KAAKmH,aAAanH,KAAKiE,OAAOoD,aAEvC3E,IAJN,SAIA,GACQ1C,KAAKW,YAAY,CAAzB,iDAGIoH,wBAAyB,CACvBhI,IADN,WAEQ,OAAOC,KAAK8G,iBAEdpE,IAJN,SAIA,UElIe,EAXC,YACd,GCRW,WAAa,IAAI7B,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIO,GAAG,sBAAsBP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIoG,qBAAqBpG,EAAIkB,GAAG,KAAKf,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB+C,SAAS,CAAC,MAAQrD,EAAIqG,cAAcrG,EAAIkB,GAAG,KAAKf,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAU,OAAEgB,WAAW,WAAWmC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,MAAQN,EAAIO,GAAG,kBAAkB,aAAe,MAAM,KAAO,WAAW,KAAO,SAAS,YAAcP,EAAIO,GAAG,mBAAmB8C,SAAS,CAAC,MAASrD,EAAU,QAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIiH,OAAO3D,EAAOC,OAAOhE,aAAYS,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,SAC9kC,IDUpB,EACA,KACA,WACA,M,ysBEiCF,uC,GAAA,S,GAAA,YC/CwN,I,GD+CxN,WAIA,CACE1C,KAAM,2BACNF,MAAO,CAAC,QAAV,UACEG,KAHF,WAII,MAAO,CACLuH,eAAgB,GAChBe,cAAe,GACfC,qBAAsB,KAG1BvH,MAAO,CACLoG,gBAAiB,SAArB,KAeIV,wBAAyB,SAA7B,KAUID,mBAAoB,SAAxB,MAaEtG,QAAS,aAETK,QAAS,GAAX,IACA,E,GAxDA,cAyDA,CACA,iBAYEU,SAAU,GAAZ,IACI8G,mBAAoB,CAClB3H,IADN,WAEQ,OAAOC,KAAK4H,OAAOC,MAAMH,sBAGjC,IACA,kBACA,eACA,0BACA,wBAVA,IAYII,OAAQ,CACN/H,IADN,WAEQ,OAAOC,KAAKmH,aAAanH,KAAKiE,OAAOiE,gBAEvCxF,IAJN,SAIA,GACQ1C,KAAKW,YAAY,CAAzB,oDAGIuG,WAAY,CACVnH,IADN,WAEQ,OAAOC,KAAKmH,aAAanH,KAAKiE,OAAOkE,qBAEvCzF,IAJN,SAIA,GACQ1C,KAAKW,YAAY,CAAzB,yDAGIoH,wBAAyB,CACvBhI,IADN,WAEQ,OAAOC,KAAK8G,iBAEdpE,IAJN,SAIA,UEnIe,GAXC,YACd,ICRW,WAAa,IAAI7B,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,yBAAyB+C,SAAS,CAAC,MAAQrD,EAAIqG,cAAcrG,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIO,GAAG,2BAA2BP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAU,OAAEgB,WAAW,WAAWmC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,MAAQN,EAAIO,GAAG,uBAAuB,aAAe,MAAM,SAAW,IAAIP,EAAIqG,WAAW,KAAO,mBAAmB,KAAO,SAAS,YAAcrG,EAAIO,GAAG,wBAAwB8C,SAAS,CAAC,MAASrD,EAAU,QAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIiH,OAAO3D,EAAOC,OAAOhE,aAAYS,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,SAC//B,IDUpB,EACA,KACA,WACA,M,4sBEqBF,uC,GAAA,S,GAAA,YCnC0N,I,GDmC1N,WAEA,CACE1C,KAAM,6BACNF,MAAO,CAAC,SACRG,KAHF,WAII,MAAO,CACLsI,cAAe,GACfC,qBAAsB,GACtBG,eAAgB,EAChBC,iBAAiB,IAGrB3H,MAAO,CACLoG,gBAAiB,SAArB,GACM9G,KAAKoI,eAAiB,EAClB,aAAehI,IAEjBJ,KAAKkH,WAAalH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBF,YACpErH,KAAKiH,eAAiBjH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBD,gBACxEtH,KAAKoI,eAAiBpI,KAAKkH,YAE7BlH,KAAKsI,mBACLtI,KAAKuI,mBAEPnC,wBAAyB,SAA7B,GACMpG,KAAKoI,eAAiB,EAClB,aAAepI,KAAK8G,kBAEtB9G,KAAKkH,WAAalH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBF,YACpErH,KAAKiH,eAAiBjH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBD,gBACxEtH,KAAKoI,eAAiBpI,KAAKkH,YAE7BlH,KAAKsI,mBACLtI,KAAKuI,mBAEPpC,mBAAoB,SAAxB,GACMnG,KAAKoI,eAAiB,EAClB,aAAepI,KAAK8G,kBAEtB9G,KAAKkH,WAAalH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBF,YACpErH,KAAKiH,eAAiBjH,KAAKmH,aAAanH,KAAKiE,OAAOsD,oBAAoBD,gBACxEtH,KAAKoI,eAAiBpI,KAAKkH,YAE7BlH,KAAKsI,mBACLtI,KAAKuI,oBAIT1I,QAAS,WACPG,KAAKwI,oBAEPtI,QAAS,GAAX,OACA,E,GArDA,cAsDA,CACA,iBAHA,IAMIqI,gBAAiB,WAEf,IAAN,2DACA,gEACMvI,KAAKqI,iBAAkB,EACnBI,IAAaC,GAAU,IAAMD,GAAY,aAAezI,KAAK8G,kBAC/D9G,KAAKqI,iBAAkB,EACvBrI,KAAKkH,WAAa,IAItBsB,iBAAkB,WAAtB,WACM1I,MAAMC,IAAI,oCAChB,kBACQ,EAAR,qBACQ,EAAR,uBAKIuI,iBA1BJ,WA4BM,GAAI,IAAMtI,KAAKoI,gBAoBf,IAAK,IAAX,KANMpI,KAAKiI,qBAAuB,CAClC,CACQ,GAAR,EACQ,KAAR,iCAGA,mBACQ,GAAIjI,KAAKgI,cAActD,eAAe,IAA9C,yCACU,IAAV,wBAEc1E,KAAKmH,aAAanH,KAAKiE,OAAOoD,cAAgB,EAA5D,IACYrH,KAAKiI,qBAAqB3I,KAAK,GAG7BU,KAAKmH,aAAanH,KAAKiE,OAAOoD,cAAgB,EAA5D,6BACYrH,KAAKkH,WAAa,SA5BtB,IAAK,IAAb,wBACU,GAAIlH,KAAKgI,cAActD,eAAeC,IAAQ,iBAAiBC,KAAKD,IAAQA,GAAO,WAAY,CAC7F,IAAZ,wBACgBhC,EAAQ8C,KAAOzF,KAAKoI,iBACtBpI,KAAKiI,qBAAuB,CAACtF,GAC7B3C,KAAKkH,WAAavE,EAAQ8C,QAgDtC7E,SAAU,GAAZ,IACI8G,mBAAoB,CAClB3H,IADN,WAEQ,OAAOC,KAAK4H,OAAOC,MAAMH,sBAGjC,IACA,kBACA,eACA,0BACA,wBAVA,IAYIR,WAAY,CACVnH,IADN,WAEQ,OAAOC,KAAKmH,aAAanH,KAAKiE,OAAOkE,qBAEvCzF,IAJN,SAIA,GACQ1C,KAAKW,YAAY,CAAzB,yDAGIgI,iBAAkB,CAChB5I,IADN,WAEQ,OAAOC,KAAKmH,aAAanH,KAAKiE,OAAOoD,kBE7K9B,GAXC,YACd,ICRW,WAAa,IAAIxG,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAmB,gBAAEG,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACL,EAAIkB,GAAG,OAAOlB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAc,WAAEgB,WAAW,eAAeX,YAAY,eAAeC,MAAM,CAAC,KAAO,yBAAyBM,GAAG,CAAC,OAAS,SAAS0C,GAAQ,IAAIW,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKf,EAAOC,OAAOnF,SAAQ,SAASkG,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAE/E,SAAoBS,EAAIqG,WAAW/C,EAAOC,OAAOmB,SAAWT,EAAgBA,EAAc,MAAMjE,EAAImB,GAAInB,EAAwB,sBAAE,SAAS+H,GAAU,OAAO5H,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQyH,EAASnJ,MAAMyE,SAAS,CAAC,MAAQ0E,EAASnD,KAAK,CAAC5E,EAAIkB,GAAGlB,EAAIqB,GAAG0G,EAASnJ,YAAW,OAAOoB,EAAIsB,OACn2B,IDUpB,EACA,KACA,WACA,M,4sBEkCF,uC,GAAA,S,GAAA,gB,GAAA,W,GAAA,cChDsN,GDiDtN,CACE1C,KAAM,yBACNF,MAAO,CAAC,eAAgB,QAAS,UACjCW,QAAS,GAAX,SACA,GACA,CACA,kBAGA,GACA,CACA,iBARA,IAWI2I,cAXJ,SAWA,SACM,OAAN,0EAEIC,cAdJ,SAcA,KACM9I,KAAKW,YAAY,CAAvB,oDEjDe,GAXC,YACd,ICRW,WAAa,IAAIE,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAMH,EAAImB,GAAInB,EAAgB,cAAE,SAASkI,EAAQtJ,GAAM,OAAOuB,EAAG,MAAM,CAACE,YAAY,cAAc,CAAC,EAAUF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,WAAWlB,EAAIqB,GAAGrB,EAAIO,GAAG,QAAU3B,IAAO,YAAYoB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAK,EAAUf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAAC+C,IAAItE,EAAKuJ,UAAS,EAAK9H,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,MAAQN,EAAIO,GAAG,QAAU3B,GAAM,aAAe,MAAM,KAAOA,EAAO,KAAK,YAAcoB,EAAIO,GAAG,QAAU3B,IAAOyE,SAAS,CAAC,MAAQrD,EAAIgI,cAAcpJ,IAAOgC,GAAG,CAAC,OAAS,SAAS0C,GAAQ,OAAOtD,EAAIiI,cAAc3E,EAAQ1E,IAAO,OAAS,SAAS0E,GAAQA,EAAOU,uBAAwBhE,EAAIsB,UAAS,KAClvB,IDUpB,EACA,KACA,WACA,M,4sBE0CF,uC,GAAA,S,GAAA,gB,GAAA,W,GAAA,cCxDmN,GD0DnN,CACE5C,MAAO,CAAC,QAAS,QAAS,UAC1BC,WAAY,CAAd,2BACEC,KAAM,sBACNC,KAJF,WAKI,MAAO,CACLuJ,WAAY,GACZrJ,WAAY,KAIhBC,QAXF,WAWA,WAGIC,MAAMC,IAAIC,KAAKC,SAAS,KAC5B,kBACM,EAAN,kBACM,EAAN,sBAIEC,QAAS,GAAX,MACA,GACA,CACA,iBAHA,IAMIgJ,cAAe,WACblJ,KAAKI,MAAQ,MAEfH,SAAU,SAAd,GAEM,OAAOI,SAASC,qBAAqB,QAAQ,GAAGC,KAAO,wCAA0CC,GAEnG2I,eAAgB,OAApB,WAAoB,EAApB,sBAEMrJ,MAAMC,IAAIC,KAAKC,SAASD,KAAKI,QACnC,kBACQ,EAAR,uBAEA,OAEEM,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,8CAGEC,SAAU,GAAZ,MACA,GACA,CACA,kBACA,kBAJA,IAOIwI,iBAAkB,CAChBrJ,IADN,WAEQ,OAAOC,KAAKiJ,WAAWjJ,KAAKiE,OAAOxE,MAErCiD,IAJN,SAIA,GACQ1C,KAAKI,MAAQA,EAAMX,UEnGZ,GAXC,YACd,ICRW,WAAa,IAAIoB,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,qBAAqB,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,0BAA0B,CAACG,MAAM,CAAC,UAAY,aAAa,KAAON,EAAIoI,WAAW,YAAcpI,EAAIO,GAAG,oBAAoB,aAAc,EAAK,WAAaP,EAAIQ,OAAOC,OAAS,EAAI,aAAe,GAAG,iBAAmB,EAAE,WAAa,SAAUC,GAAQ,OAAOA,EAAK9B,OAASgC,GAAG,CAAC,IAAM,SAAS0C,GAAQtD,EAAIuI,iBAAmBjF,GAAQ,MAAQtD,EAAIsI,gBAAgBzH,MAAM,CAACtB,MAAOS,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAIT,MAAMwB,GAAKC,WAAW,UAAU,CAACb,EAAG,WAAW,CAACc,KAAK,UAAU,CAACd,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,SAAW,KAAK,KAAO,UAAUM,GAAG,CAAC,MAAQZ,EAAIqI,gBAAgB,CAAClI,EAAG,IAAI,CAACE,YAAY,4BAA4B,GAAGL,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,MAAM,KACvmC,IDUpB,EACA,KACA,KACA,M,4sBEmCF,uC,GAAA,S,GAAA,YCjD+M,I,GDiD/M,WAEA,CACE5C,MAAO,CAAC,QAAS,QAAS,UAC1BE,KAAM,kBACNC,KAHF,WAII,MAAO,CACL2J,SAAU,KAGdxJ,QARF,WASIG,KAAKuE,eAEPrE,QAAS,GAAX,OACA,E,GAdA,cAeA,CACA,iBAHA,IAMIqE,YANJ,WAOMvE,KAAKqJ,SAAS/J,KACpB,CACQ,GAAR,EACQ,KAAR,6BAGMU,KAAKsJ,YAEPA,SAfJ,WAeA,WACMxJ,MAAMC,IAAI,kBAChB,kBACQ,EAAR,uBAIIwJ,WAtBJ,SAsBA,GACM,IAAK,IAAX,YACQ,GAAI7J,EAAKA,KAAKgF,eAAeC,IAAQ,iBAAiBC,KAAKD,IAAQA,GAAO,WAAY,CACpF,IAAV,YACU3E,KAAKqJ,SAAS/J,KACxB,CACY,GAAZ,eACY,KAAZ,wBAOEoB,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,6CAGEC,SAAU,GAAZ,GACA,GACA,CACA,kBACA,oBEzFe,GAXC,YACd,ICRW,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,iBAAiB,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAS,MAAEgB,WAAW,UAAUkC,IAAI,OAAOC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,MAAQN,EAAIO,GAAG,gBAAgB,aAAe,MAAM,KAAO,aAAaK,GAAG,CAAC,OAAS,SAAS0C,GAAQA,EAAOU,kBAAmB,OAAS,SAASV,GAAQ,IAAIW,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKf,EAAOC,OAAOnF,SAAQ,SAASkG,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAE/E,SAAoBS,EAAIT,MAAM+D,EAAOC,OAAOmB,SAAWT,EAAgBA,EAAc,MAAMjE,EAAImB,GAAIhC,KAAa,UAAE,SAASwJ,GAAM,OAAOxI,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQqI,EAAK/J,MAAMyE,SAAS,CAAC,MAAQsF,EAAK/D,KAAK,CAAC5E,EAAIkB,GAAGlB,EAAIqB,GAAGsH,EAAK/J,YAAW,KAAKoB,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,SAC1qC,IDUpB,EACA,KACA,KACA,M,qvBEiCF,uC,GAAA,S,GAAA,W,GAAA,W,GAAA,cC/C+M,GDiD/M,CACE1C,KAAM,kBACND,WAAY,CACViK,aAAJ,MAEElK,MAAO,CAAC,QAAS,QAAS,UAC1BG,KANF,WAOI,MAAO,CACLgK,kBAAmB,GACnBC,SAAU,KACVC,KAAM,GACNC,WAAY,GACZC,YAAY,IAGhBpJ,MAAO,CACL,WAAc,YACdN,MAAO,SAAX,GAGMJ,KAAKW,YAAY,CAAvB,wCACMX,KAAK8J,YAAa,EAClB9J,KAAK4J,KAAO,GAEdA,KAAM,SAAV,GACM,GAAI5J,KAAK8J,WAAY,CAGnB,IAAR,KACQ,IAAK,IAAb,OACc1J,EAAMsE,eAAeC,IACvBoF,EAAUzK,KAAK,CAA3B,iBAGQU,KAAKI,MAAQ2J,EAEf/J,KAAK8J,YAAa,IAGtB5J,QAAS,GAAX,MACA,GACA,CACA,iBAHA,IAMI8J,UANJ,WAMA,WACM,KAAIhK,KAAK6J,WAAWvI,OAAS,GAA7B,CAGA,IAAN,0GAEM2I,aAAajK,KAAK2J,UAClB3J,KAAK2J,SAAWO,YAAW,WACzB,GAAR,2BACU,EAAV,0CACY,MAAO,CAAnB,kBAFA,OAIA,8EACA,UExFe,I,OAXC,YACd,ICTW,WACb,IAAIC,EAASnK,KACTa,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,iBAAiB,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,8BAA6B,EAAM,qBAAqBN,EAAI6I,kBAAkB,KAAO7I,EAAI+I,KAAK,MAAQ/I,EAAIO,GAAG,gBAAgB,YAAcP,EAAIO,GAAG,iBAAiBK,GAAG,CAAC,eAAe,SAAU2I,GAAW,OAAOD,EAAOP,KAAOQ,IAAY1I,MAAM,CAACtB,MAAOS,EAAc,WAAEc,SAAS,SAAUC,GAAMf,EAAIgJ,WAAWjI,GAAKC,WAAW,iBAAiB,GAAGhB,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,SACjyB,IDSpB,EACA,KACA,KACA,M,6sBEkCF,uC,GAAA,S,GAAA,YCjDoN,I,GDiDpN,WAEA,CACE5C,MAAO,CAAC,QAAS,QAAS,UAC1BE,KAAM,uBACNC,KAHF,WAII,MAAO,CACL2K,UAAW,KAGfxK,QARF,WASIG,KAAKuE,eAEPrE,QAAS,GAAX,OACA,E,GAdA,cAeA,CACA,iBAHA,IAMIqE,YANJ,WAOMvE,KAAKqK,UAAU/K,KACrB,CACQ,GAAR,EACQ,kBAAR,mCAGMU,KAAKsK,cAEPA,WAfJ,WAeA,WACMxK,MAAMC,IAAI,kDAChB,kBACQ,EAAR,yBAIIwK,aAtBJ,SAsBA,GACM,IAAK,IAAX,OACQ,GAAI7K,EAAKgF,eAAeC,IAAQ,iBAAiBC,KAAKD,IAAQA,GAAO,WAAY,CAC/E,IAAV,OACU3E,KAAKqK,UAAU/K,KACzB,CACY,GAAZ,eACY,kBAAZ,0BAOEoB,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,mDAGEC,SAAU,GAAZ,GACA,IACA,kBACA,oBExFe,GAXC,YACd,ICRW,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,uBAAuB,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAS,MAAEgB,WAAW,UAAUkC,IAAI,gBAAgBC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,MAAQN,EAAIO,GAAG,sBAAsB,aAAe,MAAM,KAAO,mBAAmBK,GAAG,CAAC,OAAS,SAAS0C,GAAQA,EAAOU,kBAAmB,OAAS,SAASV,GAAQ,IAAIW,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKf,EAAOC,OAAOnF,SAAQ,SAASkG,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAE/E,SAAoBS,EAAIT,MAAM+D,EAAOC,OAAOmB,SAAWT,EAAgBA,EAAc,MAAMjE,EAAImB,GAAIhC,KAAc,WAAE,SAASwK,GAAO,OAAOxJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQqJ,EAAMnE,mBAAmBnC,SAAS,CAAC,MAAQsG,EAAM/E,KAAK,CAAC5E,EAAIkB,GAAGlB,EAAIqB,GAAGsI,EAAMnE,yBAAwB,KAAKxF,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,SACpuC,IDUpB,EACA,KACA,KACA,M,uWE6BF,mCC3C4N,I,GD2C5N,S,GAAA,W,GAAA,WAEA,CACE5C,MAAO,CAAC,QAAS,QAAS,UAC1BE,KAAM,+BACNS,Q,kWAAS,CAAX,IACA,E,GANA,cAOA,CACA,iBAIEQ,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,0DEvCe,GAXC,YACd,ICRW,WAAa,IAAIE,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,+BAA+B,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAS,MAAEgB,WAAW,UAAUmC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,KAAO,OAAO,KAAO,uBAAuB,YAAcN,EAAIO,GAAG,+BAA+B8C,SAAS,CAAC,MAASrD,EAAS,OAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIT,MAAM+D,EAAOC,OAAOhE,WAAUS,EAAIkB,GAAG,KAAKlB,EAAI4J,GAAG,SAC7sB,CAAC,WAAa,IAAiB3J,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,IAAI,CAACE,YAAY,4BDUxQ,EACA,KACA,WACA,M,uWE6BF,mCC3CsN,I,GD2CtN,S,GAAA,W,GAAA,WAEA,CACE3B,MAAO,CAAC,QAAS,QAAS,UAC1BE,KAAM,yBACNS,Q,kWAAS,CAAX,IACA,E,GANA,cAOA,CACA,iBAIEQ,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,oDEvCe,GAXC,YACd,ICRW,WAAa,IAAIE,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,yBAAyB,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAS,MAAEgB,WAAW,UAAUmC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,KAAO,MAAM,KAAO,iBAAiB,YAAcN,EAAIO,GAAG,yBAAyB8C,SAAS,CAAC,MAASrD,EAAS,OAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIT,MAAM+D,EAAOC,OAAOhE,WAAUS,EAAIkB,GAAG,KAAKlB,EAAI4J,GAAG,SAC1rB,CAAC,WAAa,IAAiB3J,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,IAAI,CAACE,YAAY,4BDUxQ,EACA,KACA,WACA,M,uWE0BF,mCCxCgN,I,GDwChN,S,GAAA,W,GAAA,WAEA,CACE3B,MAAO,CAAC,QAAS,QAAS,UAC1BE,KAAM,mBACNS,Q,kWAAS,CAAX,IACA,E,GANA,cAOA,CACA,iBAIEQ,MAAO,CACLN,MAAO,SAAX,GACMJ,KAAKW,YAAY,CAAvB,6CEpCe,GAXC,YACd,ICRW,WAAa,IAAIE,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,kBAAkB,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAS,MAAEgB,WAAW,UAAUmC,MAAMnD,EAAIQ,OAAOC,OAAS,EAAI,0BAA4B,eAAeH,MAAM,CAAC,YAAcN,EAAIO,GAAG,kBAAkB8C,SAAS,CAAC,MAASrD,EAAS,OAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIT,MAAM+D,EAAOC,OAAOhE,iBAC7mB,IDUpB,EACA,KACA,WACA,M,QEd8M,GC2LhN,CACEb,MAAO,CAAC,QAAS,QAAS,UAC1BE,KAAM,mBACNC,KAHF,WAII,MAAO,CACLgL,cAAe,GACfC,QAAS,GACTC,OAAQ,QACRC,UAAW,GACXrK,MAAO,GACPsK,WAAW,IAGfjL,QAbF,WAaA,MACIG,KAAK4K,OAAT,qDACI5K,KAAK+K,gBAEPrK,MAAO,CACLN,MAAO,SAAX,MAKEF,QAAS,CACP8K,mBAAoB,SAAxB,GACM,IAAN,eACM,IAAK,IAAX,oBACQ,GAAIhL,KAAK6K,UAAUnG,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CACnF,IAAV,oBAGU,GAAI4E,EAAM,KAAOjB,EAAQ8C,IAAM7B,EAAM,KAAOjB,EAAQuD,UAClD,OAAOvD,EAAQ4D,KAIrB,MAAO,aAAe0E,GAExBC,kBAAmB,SAAvB,GACM,IAAK,IAAX,wBACQ,GAAIlL,KAAK0K,cAAchG,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CACvF,IAAV,wBACc2D,EAAQyC,UACVpF,KAAKmL,cAAcxI,GAEhBA,EAAQyC,UAEXpF,KAAKoL,mBAAmBzI,KAKhC0I,eAAgB,SAApB,GACM,IAAK,IAAX,wBACQ,GAAIrL,KAAK0K,cAAchG,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CACvF,IAAV,wBACUgB,KAAKsL,eAAe3I,EAAQ4I,uBAAwB5I,EAAQ6I,gBAIlEF,eArCJ,SAqCA,KACM,IAAK,IAAX,gBACQ,GAAItL,KAAKI,MAAMsE,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CAC/E,IAAV,gBACc2E,SAAShB,EAAQ4I,0BAA4BE,IAC/CzL,KAAKI,MAAMpB,GAAGwM,aAAeP,KAKrCE,cA/CJ,SA+CA,QAE4B,IAD5B,4FAEQnL,KAAKI,MAAMd,KAAKoM,IAGpBN,mBArDJ,SAqDA,GACM,IAAK,IAAX,iBACQ,GAAIpL,KAAKI,MAAMsE,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAC7E,cACsBuM,yBAA2BG,EAAQH,wBAC7CvL,KAAKI,MAAMuL,OAAOhI,SAAS3E,GAAI,KAKvC+L,aAAc,WAAlB,WAEMjL,MAAMC,IADZ,uBAEA,kBACQ,EAAR,2BAII6L,eAAgB,SAApB,GACM,IAAK,IAAX,YACQ,GAAIlM,EAAKA,KAAKgF,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CAC9E,IAAV,YACA,GACYyG,GAAI9C,EAAQ8C,GACZc,KAAM5D,EAAQkJ,WAAWC,OACzB5F,UAAW,UAEvB,GACYT,GAAI9C,EAAQ8C,GACZc,KAAM5D,EAAQkJ,WAAWE,QACzB7F,UAAW,WAET8F,EAAezF,OAAS0F,EAAgB1F,OAC1CyF,EAAezF,KAAOyF,EAAezF,KAAO,OAC5C0F,EAAgB1F,KAAO0F,EAAgB1F,KAAO,QAEhDvG,KAAK6K,UAAUvL,KAAK0M,GACpBhM,KAAK6K,UAAUvL,KAAK2M,KAI1BC,OAAQ,WAAZ,WACMlM,KAAK8K,WAAY,EACjB9K,KAAK0K,cAAgB,GACrB,IAAN,4DACM5K,MAAMC,IAAIoM,GAChB,kBACQ,EAAR,wBAIIC,YAAa,SAAjB,GACM,IAAK,IAAX,YACQ,GAAI1M,EAAKA,KAAKgF,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAClE,IAAK,IAAf,uCACY,GAAIU,EAAKA,KAAKV,GAAG6M,WAAW1E,aAAazC,eAAe2H,IAAO,iBAAiBzH,KAAKyH,IAAOA,GAAM,WAAY,CAC5G,IAAd,uCACc1J,EAAQ2J,qBAAuB3I,SAASjE,EAAKA,KAAKV,GAAGyG,IACrD9C,EAAQyC,SAAWpF,KAAKuM,kBAAkB5J,EAAQ4I,wBAClD5I,EAAQ6I,aAAexL,KAAKwM,mBAAmB7J,EAAQ4I,wBACvD5I,EAAQ8J,eAAiB,GACzBzM,KAAK0K,cAAcpL,KAAKqD,GAKhC3C,KAAK8K,WAAY,GAEnB0B,mBAAoB,SAAxB,GACM,IAAK,IAAX,gBACQ,GAAIxM,KAAKI,MAAMsE,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CAC/E,IAAV,gBACU,GAAI2D,EAAQ4I,yBAA2BE,EACrC,OAAO9I,EAAQ6I,aAIrB,MAAO,YAETe,kBAAmB,SAAvB,GACM,IAAK,IAAX,iBACQ,GAAIvM,KAAKI,MAAMsE,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAEnE,GADV,cACsBuM,yBAA2BE,EACrC,OAAO,EAIb,OAAO,KC7UE,GAXC,YACd,ICRW,WAAa,IAAI5K,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,WAAWlB,EAAIqB,GAAGrB,EAAIO,GAAG,0BAA0B,YAAYP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAAuB,IAArBL,EAAIT,MAAMkB,OAAcN,EAAG,IAAI,CAACH,EAAI4J,GAAG,KAAK5J,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAMlB,EAAIT,MAAMkB,OAAS,EAAGN,EAAG,KAAK,CAACE,YAAY,cAAcL,EAAImB,GAAInB,EAAS,OAAE,SAAS6L,GAAa,OAAO1L,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACF,EAAG,KAAK,CAACH,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAImK,mBAAmB0B,EAAYlB,kBAAkB3K,EAAIkB,GAAG,KAAKf,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,sBAAwBuL,EAAYJ,uBAAuB,CAACzL,EAAIkB,GAAGlB,EAAIqB,GAAGwK,EAAYlL,gBAAgBX,EAAIkB,GAAG,KAA2B,eAArB2K,EAAYnG,KAAuBvF,EAAG,OAAO,CAACH,EAAIkB,GAAG,+BAA+Bf,EAAG,OAAO,CAACE,YAAY,eAAe,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGyK,KAAKC,aAAa/L,EAAI+J,OAAQ,CACv6BiC,MAAO,WACPjE,SAAU8D,EAAYI,gBACrBC,QAAyC,EAAlCC,WAAWN,EAAY5E,aAAkBjH,EAAIkB,GAAG,+BAA+BlB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAA2B,YAArB2K,EAAYnG,KAAoBvF,EAAG,OAAO,CAACH,EAAIkB,GAAG,+BAA+Bf,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGyK,KAAKC,aAAa/L,EAAI+J,OAAQ,CAClRiC,MAAO,WACPjE,SAAU8D,EAAYI,gBACrBC,OAAOC,WAAWN,EAAY5E,aAAajH,EAAIkB,GAAG,+BAA+BlB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAA2B,aAArB2K,EAAYnG,KAAqBvF,EAAG,OAAO,CAACH,EAAIkB,GAAG,+BAA+Bf,EAAG,OAAO,CAACE,YAAY,aAAa,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGyK,KAAKC,aAAa/L,EAAI+J,OAAQ,CAC3QiC,MAAO,WACPjE,SAAU8D,EAAYI,gBACrBC,OAAOC,WAAWN,EAAY5E,aAAajH,EAAIkB,GAAG,+BAA+BlB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAKlB,EAAI4J,GAAG,GAAE,QAAU,GAAG5J,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAMlB,EAAIT,MAAMkB,OAAS,EAAGN,EAAG,MAAM,CAACE,YAAY,aAAa,CAACL,EAAI4J,GAAG,KAAK5J,EAAIsB,WAAWtB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,QAAQC,MAAM,CAAC,SAAW,KAAK,GAAK,cAAc,CAACH,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAI4J,GAAG,GAAG5J,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACL,EAAI4J,GAAG,GAAG5J,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAACS,GAAG,CAAC,OAAS,SAAS0C,GAAgC,OAAxBA,EAAOU,iBAAwBhE,EAAIqL,OAAO/H,MAAW,CAACnD,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAS,MAAEgB,WAAW,UAAUX,YAAY,eAAeC,MAAM,CAAC,aAAe,MAAM,UAAY,MAAM,KAAO,OAAO,KAAO,SAAS,GAAK,QAAQ,YAAc,gBAAgB+C,SAAS,CAAC,MAASrD,EAAS,OAAGY,GAAG,CAAC,MAAQ,SAAS0C,GAAWA,EAAOC,OAAOC,YAAqBxD,EAAIL,MAAM2D,EAAOC,OAAOhE,WAAUS,EAAIkB,GAAG,KAAKlB,EAAI4J,GAAG,WAAW5J,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAAEL,EAAa,UAAEG,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,6BAA6BL,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAMlB,EAAI6J,cAAcpJ,OAAS,EAAGN,EAAG,KAAK,CAACH,EAAIkB,GAAG,oBAAoBlB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAMlB,EAAI6J,cAAcpJ,OAAS,EAAGN,EAAG,QAAQ,CAACE,YAAY,kBAAkB,CAACL,EAAI4J,GAAG,GAAG5J,EAAIkB,GAAG,KAAKf,EAAG,QAAQH,EAAImB,GAAInB,EAAiB,eAAE,SAASoM,GAAQ,OAAOjM,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAO6M,EAAe,SAAEpL,WAAW,oBAAoBX,YAAY,eAAeC,MAAM,CAAC,KAAO,YAAY+C,SAAS,CAAC,QAAUa,MAAMmI,QAAQD,EAAO7H,UAAUvE,EAAIsM,GAAGF,EAAO7H,SAAS,OAAO,EAAG6H,EAAe,UAAGxL,GAAG,CAAC,OAAS,CAAC,SAAS0C,GAAQ,IAAIiJ,EAAIH,EAAO7H,SAASiI,EAAKlJ,EAAOC,OAAOkJ,IAAID,EAAKE,QAAuB,GAAGxI,MAAMmI,QAAQE,GAAK,CAAC,IAAaI,EAAI3M,EAAIsM,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,GAAI3M,EAAIkG,KAAKkG,EAAQ,WAAYG,EAAIK,OAAO,CAA1F,QAAwGD,GAAK,GAAI3M,EAAIkG,KAAKkG,EAAQ,WAAYG,EAAI/J,MAAM,EAAEmK,GAAKC,OAAOL,EAAI/J,MAAMmK,EAAI,UAAY3M,EAAIkG,KAAKkG,EAAQ,WAAYK,IAAO,SAASnJ,GAAQ,OAAOtD,EAAIqK,kBAAkB/G,UAAetD,EAAIkB,GAAG,KAAKf,EAAG,KAAK,CAACA,EAAG,SAAS,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAO6M,EAAmB,aAAEpL,WAAW,wBAAwBX,YAAY,eAAeO,GAAG,CAAC,OAAS,CAAC,SAAS0C,GAAQ,IAAIW,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKf,EAAOC,OAAOnF,SAAQ,SAASkG,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAE/E,SAAoBS,EAAIkG,KAAKkG,EAAQ,eAAgB9I,EAAOC,OAAOmB,SAAWT,EAAgBA,EAAc,KAAK,SAASX,GAAQ,OAAOtD,EAAIwK,eAAelH,OAAYtD,EAAImB,GAAInB,EAAa,WAAE,SAAS6M,GAAU,OAAO1M,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQuM,EAASnH,MAAMrC,SAAS,CAAC,MAAQwJ,EAASjI,GAAK,IAAMiI,EAASxH,YAAY,CAACrF,EAAIkB,GAAGlB,EAAIqB,GAAGwL,EAASnH,MAAM,mCAAkC,KAAK1F,EAAIkB,GAAG,KAAKf,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,uBAAyB8L,EAAOX,uBAAuB,CAACzL,EAAIkB,GAAGlB,EAAIqB,GAAG+K,EAAOzL,gBAAgBX,EAAIkB,GAAG,KAAsB,eAAhBkL,EAAO1G,KAAuBvF,EAAG,OAAO,CAACH,EAAIkB,GAAG,+BAA+Bf,EAAG,OAAO,CAACE,YAAY,eAAe,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGyK,KAAKC,aAAa/L,EAAI+J,OAAQ,CAC9tGiC,MAAO,WACPjE,SAAUqE,EAAOH,gBAChBC,QAAoC,EAA7BC,WAAWC,EAAOnF,aAAkBjH,EAAIkB,GAAG,+BAA+BlB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAsB,YAAhBkL,EAAO1G,KAAoBvF,EAAG,OAAO,CAACH,EAAIkB,GAAG,+BAA+Bf,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGyK,KAAKC,aAAa/L,EAAI+J,OAAQ,CACxQiC,MAAO,WACPjE,SAAUqE,EAAOH,gBAChBC,OAAOC,WAAWC,EAAOnF,aAAajH,EAAIkB,GAAG,+BAA+BlB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAsB,aAAhBkL,EAAO1G,KAAqBvF,EAAG,OAAO,CAACH,EAAIkB,GAAG,+BAA+Bf,EAAG,OAAO,CAACE,YAAY,aAAa,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGyK,KAAKC,aAAa/L,EAAI+J,OAAQ,CACjQiC,MAAO,WACPjE,SAAUqE,EAAOH,gBAChBC,OAAOC,WAAWC,EAAOnF,aAAajH,EAAIkB,GAAG,+BAA+BlB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAKf,EAAG,MAAMH,EAAIkB,GAAG,KAAKf,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,mBAAqB8L,EAAOU,YAAY,CAAC9M,EAAIkB,GAAGlB,EAAIqB,GAAG+K,EAAOW,gBAAgB/M,EAAIkB,GAAG,yDAAyDf,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,mBAAqB8L,EAAOY,iBAAiB,CAAChN,EAAIkB,GAAGlB,EAAIqB,GAAG+K,EAAOa,8BAA6B,KAAKjN,EAAIsB,aAAatB,EAAIkB,GAAG,KAAKlB,EAAI4J,GAAG,aACzc,CAAC,WAAa,IAAiB3J,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,yBAAyBC,MAAM,CAAC,cAAc,QAAQ,cAAc,eAAe,CAACH,EAAG,IAAI,CAACE,YAAY,gBAA/LlB,KAAmN+B,GAAG,4BAA4B,WAAa,IAAiBjB,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,IAAI,CAACE,YAAY,yBAAyBC,MAAM,CAAC,SAAW,KAAK,KAAO,MAAM,CAACH,EAAG,IAAI,CAACE,YAAY,kBAAjOlB,KAAuP+B,GAAG,KAAKf,EAAG,IAAI,CAACE,YAAY,wBAAwBC,MAAM,CAAC,SAAW,KAAK,KAAO,MAAM,CAACH,EAAG,IAAI,CAACE,YAAY,0BAA0B,WAAa,IAAiBJ,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,cAAc,QAAQ,cAAc,eAAe,CAACH,EAAG,IAAI,CAACE,YAAY,mBAAmB,WAAa,IAAiBJ,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAAzIlB,KAA8I+B,GAAG,+BAAjJ/B,KAAoL+B,GAAG,KAAKf,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAA5UnB,KAAiV+B,GAAG,YAAY,WAAa,IAAiBjB,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,IAAI,CAAjIhB,KAAsI+B,GAAG,kHAAkHf,EAAG,OAAO,CAArQhB,KAA0Q+B,GAAG,UAA7Q/B,KAA2R+B,GAAG,yFAAyF,WAAa,IAAiBjB,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,WAAW,CAACH,EAAG,IAAI,CAACE,YAAY,kBAApMlB,KAA0N+B,GAAG,gBAAgB,WAAa,IAAiBjB,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAAC+M,YAAY,CAAC,MAAQ,OAAO5M,MAAM,CAAC,QAAU,MAAM,CAA/InB,KAAoJ+B,GAAG,cAAvJ/B,KAAyK+B,GAAG,KAAKf,EAAG,KAAK,CAAzLhB,KAA8L+B,GAAG,sBAAsB,WAAa,IAAiBjB,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAAS,eAAe,UAAU,CAAlMnB,KAAuM+B,GAAG,gBDR71E,EACA,KACA,KACA,M,QEdoN,GCsCtN,CACEtC,KAAM,yBACNF,MAAO,CAAC,0BACRmB,MAAO,CACL6K,uBAAwB,SAA5B,GAGU,IAAMnL,GACRJ,KAAKgO,aAIX9N,QAAS,CACP8N,SAAU,WAAd,WAEM,IAAK,IAAX,0BACYhO,KAAKiO,MAAMC,IAAIC,MAAMzJ,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,YAAvF,WACA,2BACA,iBACA,IACA,mCACA,0CAEA,IACA,GACA,gBACA,qCACA,wCAGA,WAPA,uBAOA,qBAEA,uDACA,MACA,oCACA,kBAIoB,EAApB,+DAKA,uBA5BA,GA+BU,IAAMgB,KAAKiO,MAAMC,IAAIC,MAAM7M,QAE7BtB,KAAKoO,MAAM,uBAAwBpO,KAAKuL,2BCrEjC,GAXC,YACd,ICRW,WAAa,IAAiBzK,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAAjKlB,KAAsK+B,GAAG,SAAzK/B,KAAsLkC,GAAtLlC,KAA6LoB,GAAG,wBAAwB,UAAxNpB,KAAsO+B,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAAC+C,IAAI,MAAM7C,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,KAAO,yBAC3X,IDUpB,EACA,KACA,WACA,M,4sBEyCF,uC,GAAA,S,GAAA,gB,GAAA,W,GAAA,cCvDqN,GDwDrN,CACE5B,MAAO,CAAC,QAAS,UACjBE,KAAM,wBACND,WAAY,CAAd,2BACEE,KAJF,WAKI,MAAO,CACLC,aAAc,GACdC,WAAY,KAIhBC,QAXF,WAWA,WACIC,MAAMC,IAAIC,KAAKC,SAAS,KAC5B,kBACM,EAAN,oBACM,EAAN,sBAGES,MAAO,CACLN,MAAO,SAAX,GAEMJ,KAAKqO,cAAc,CAAzB,iBAGEnO,QAAS,GAAX,SACA,GACA,CACA,mBAGA,GACA,CACA,gBARA,IAWIC,iBAAkB,WAChBH,KAAKqO,cAAc,CAAzB,gBACMrO,KAAKI,MAAQ,IAEfH,SAAU,SAAd,GAEM,OAAOI,SAASC,qBAAqB,QAAQ,GAAGC,KAAO,0CAA4CC,GAErGC,kBAAmB,OAAvB,WAAuB,EAAvB,sBAEMX,MAAMC,IAAIC,KAAKC,SAASD,KAAKI,QACnC,kBACQ,EAAR,yBAEA,QEvFe,GAXC,YACd,ICRW,WAAa,IAAIS,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAIO,GAAG,oCAAoC,UAAUP,EAAIkB,GAAG,KAAKf,EAAG,0BAA0B,CAACG,MAAM,CAAC,UAAY,cAAc,KAAON,EAAIlB,aAAa,YAAckB,EAAIO,GAAG,mCAAmC,aAAc,EAAK,iBAAmB,EAAE,WAAa,SAAUG,GAAQ,OAAOA,EAAKC,aAAe,WAAaX,EAAIQ,OAAOC,OAAS,EAAI,aAAe,IAAIG,GAAG,CAAC,MAAQZ,EAAIJ,mBAAmBiB,MAAM,CAACtB,MAAOS,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAIT,MAAMwB,GAAKC,WAAW,UAAU,CAACb,EAAG,WAAW,CAACc,KAAK,UAAU,CAACd,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,SAAW,KAAK,KAAO,UAAUM,GAAG,CAAC,MAAQZ,EAAIV,mBAAmB,CAACa,EAAG,IAAI,CAACE,YAAY,4BAA4B,GAAGL,EAAIkB,GAAG,KAAMlB,EAAIQ,OAAOC,OAAS,EAAGN,EAAG,OAAOH,EAAImB,GAAInB,EAAU,QAAE,SAASoB,GAAO,OAAOjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGD,IAAQjB,EAAG,WAAU,GAAGH,EAAIsB,MAAM,KAC/lC,IDUpB,EACA,KACA,WACA,M,4sBE2TF,uC,GAAA,S,GAAA,gB,GAAA,W,GAAA,cCzUsM,GD2UtM,CACE1C,KAAM,SACND,WAAY,CACV8O,uBAAJ,GACIC,iBAAJ,GACIC,uBAAJ,GACIC,sBAAJ,GACIC,6BAAJ,GACIC,qBAAJ,GACIC,gBAAJ,GACIC,iBAAJ,GACIC,gBAAJ,GACIC,oBAAJ,GACIC,uBAAJ,GACIC,2BAAJ,GACIC,yBAAJ,GAAI,kBAAJ,EAAI,cAAJ,EAAI,mBAAJ,EAAI,kBAAJ,EAAI,uBAAJ,EAAI,gBAAJ,GAEErP,QAjBF,WAkBIG,KAAKmP,4BACLnP,KAAKoP,4BACLpP,KAAKqP,wBACLrP,KAAKsP,kBAEP5P,KAvBF,WAwBI,MAAO,CAEL6P,aAAc,GACdC,eAAgB,GAGhBC,cAAc,EACdC,eAAe,EACfC,gBAAgB,EAGhBC,sBAAsB,EACtBC,gBAAgB,EAChBC,sBAAsB,EAGtBC,SAAS,EAKTC,kBAAmB,GAGnBC,iBAAkB,GAGlBC,QAAS,EACTC,WAAY,KAGhBvP,SAAU,GAAZ,GACA,IACA,kBACE,eACA,mBACF,OACA,gBAGEF,MAAO,CACLkP,qBAAsB,WAEpB5P,KAAKoQ,kBAEPP,eAAgB,WAEd7P,KAAKoQ,kBAEPN,qBAAsB,WAEpB9P,KAAKoQ,mBAGTlQ,QAAS,GAAX,MAIA,GACA,CACA,iBACA,oBACA,0BACA,0BACA,sBACA,cACA,cACA,uBAbA,IAmBImQ,kBAAmB,SAAvB,GACMrQ,KAAK4H,OAAO0I,OAAO,wCAAyC,CAAlE,WASIjB,sBAAuB,WAA3B,WACMvP,MAAMC,IAAI,4DAA4DwQ,MAAK,SAAjF,GACQ,IAAR,8BACA,wFACA,GACUC,eAAe,EACfC,WAAW,EACXC,cAAc,EACdC,UAAU,EACVC,cAAc,EACdC,cAAc,GAEhB,IAAK,IAAb,OACcC,EAAOpM,eAAeC,KACnB,IAAMoM,EAAcvJ,QAAQ7C,KAC/BqM,EAAmBrM,GAAOmM,EAAOnM,IAKvC,EAAR,+DAQIyL,eAzDJ,WAyDA,WAEM,GAAIpQ,KAAK4P,sBAAwB5P,KAAK8P,sBAAwB9P,KAAK6P,eAAgB,CACzF,MAAQ,IAAI,IAAU7P,KAAK0P,gBAAiB,IAAU1P,KAAK+P,QAEjD,YADAkB,OAAOC,SAAS3Q,MAA1B,2GAeQ,IAAK,IAAb,KAXQP,KAAKyP,cAAe,EACpBzP,KAAK4P,sBAAuB,EAC5B5P,KAAK6P,gBAAiB,EACtB7P,KAAK8P,sBAAuB,EAC5B9P,KAAK+P,SAAU,EAGf/P,KAAKuP,aAAe,GACpBvP,KAAKwP,eAAiBxP,KAAKoB,GAAG,kCAAmC,CAAzE,wCAGA,kBACcpB,KAAKmH,aAAazC,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,YACtEgB,KAAKmH,aAAazC,eAAe1F,IAEnCgB,KAAKW,YAAY,CAA/B,iDAIQX,KAAKgQ,kBAAoB,GAGrBhQ,KAAK2P,iBACP3P,KAAKmR,oBAELjH,YAAW,WAArB,mCAWIkH,kBAAmB,WAAvB,WAEMpR,KAAKyP,cAAe,EAIpB,IACN,qBAGM3P,MAAMuR,KAJZ,wBAIsB3R,GACtB,kBAEQ,EAAR,wBAGQ,EAAR,4BACQ,EAAR,uBAGQ,EAAR,iCACQ,EAAR,8IAXA,OAcA,YAEQ,EAAR,gBAGQ,EAAR,wBAEQ,EAAR,wBACQ,EAAR,kBAGQ,EAAR,WACQ,EAAR,iCAYI4R,kBAAmB,SAAvB,KAEM,IAAN,sCACM,IAAK,IAAX,oBACY5R,EAAKyH,aAAazC,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,YACtEiO,EAAOvI,eAAe1F,IACxBgB,KAAKW,YAAY,CAA7B,4EAYI4Q,mBAAoB,SAAxB,GAEM,IAAN,UACMvR,KAAKgQ,kBAAkBrL,GAAO,EACpC,6CACoB3E,KAAKmH,aAAa7F,SAE9BtB,KAAK8P,sBAAuB,IAIhC0B,uBAlLJ,SAkLA,KACM,IAAN,KACA,sCACA,IACM,IAAK,IAAX,oBACQ,GAAI9R,EAAKyH,aAAazC,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CACtF,IAAV,oBACU,GAAIiO,EAAOvI,eAAe1F,GAAI,CAE5B,IAAZ,OAEY,IAAK,IAAjB,aACc,GAAIyS,EAAUC,MAAMhN,eAAe2H,IAAO,iBAAiBzH,KAAKyH,IAAOA,GAAM,WAAY,CACvF,IAAhB,aACgBsF,IACI,IAAMC,EAAYC,aACpBD,EAAYC,WAAaC,EAASvG,wBAEhC,IAAMqG,EAAYG,YACpBH,EAAYG,UAAYD,EAASvG,wBAGnCyG,EAAS1S,KAAKQ,MAAMuR,KAAK,6BAA8BO,GAAarB,MAAK,SAAzF,UAQU,IAAMoB,EAIVM,QAAQC,IAAIF,GAAUzB,MAAK,WACzBvQ,KAAK6P,gBAAiB,KAJtB7P,KAAK6P,gBAAiB,GAQ1BsC,YAAa,SAAjB,GACM,IAAK,IAAX,uBACQnS,KAAKoS,YAAY,CAAzB,UASM,IAAN,EAOA,EACA,EAGM,IAAK,IAAX,KAlBMpS,KAAKwP,eAAiB,GACtBxP,KAAKuP,aAAevP,KAAKoB,GAAG,kCACC,IAAlBC,EAAOA,SAChBrB,KAAKwP,eAAiB,GACtBxP,KAAKuP,aAAelO,EAAOgR,SAcnC,SAEQ,GAAIhR,EAAOA,OAAOqD,eAAeC,GAAM,CACrC,GAAY,gBAARA,EAAuB,CACzB3E,KAAKiQ,iBAAmB5O,EAAOA,OAAOsD,GACtC,SAEF,GAAY,gBAARA,EASF,OAPA2N,EAAmB3O,SAASgB,EAAIlC,MAAM,KAAK,IAE3C8P,EAAY5N,EAAIlC,MAAM,KAAK,IAMzB,IAAK,SACL,IAAK,cACL,IAAK,OACL,IAAK,OACH+P,EAAU,CAA1B,oCACgBxS,KAAKyS,oBAAoBD,GACzB,MACF,IAAK,YACHA,EAAU,CAA1B,2CACgBxS,KAAKyS,oBAAoBD,GACzB,MACF,IAAK,UACHA,EAAU,CAA1B,yCACgBxS,KAAKyS,oBAAoBD,GACzB,MACF,IAAK,gBACHA,EAAU,CAA1B,+CACgBxS,KAAKyS,oBAAoBD,GACzB,MACF,IAAK,gBACHA,EAAU,CAA1B,6CACgBxS,KAAKyS,oBAAoBD,GACzB,MACF,IAAK,cACL,IAAK,YACHA,EAAU,CAA1B,2CACgBxS,KAAKyS,oBAAoBD,GACzB,MACF,IAAK,mBACL,IAAK,iBACHA,EAAU,CAA1B,gDACgBxS,KAAKyS,oBAAoBD,GACzB,MACF,IAAK,iBACL,IAAK,mBACHA,EAAU,CAA1B,mDACgBxS,KAAKyS,oBAAoBD,GAKpBxS,KAAKmH,aAAamL,KAYnCI,YAAa,WAEX,IAAN,GACQ,aAAgB,IAMlB,IAAK,IAAX,KAJU1S,KAAKmQ,WAAW7O,OAAS,IAC3B5B,EAAKiT,YAAc3S,KAAKmQ,YAGhC,kBACYnQ,KAAKmH,aAAazC,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,YAC1EU,EAAKyH,aAAa7H,KAAKU,KAAK4S,aAAa5T,EAAGgB,KAAKmH,aAAanI,KAclE,OAXIU,EAAKyH,aAAa7F,OAAS,IAC7B5B,EAAKiT,YAAcjT,EAAKyH,aAAa,GAAG3F,aAKtC9B,EAAKyH,aAAa7F,OAAS,IAE7B5B,EAAOM,KAAK6S,oBAAoBnT,IAG3BA,GAETmT,oBAAqB,SAAzB,GAIM,IAAK,IAAX,oBACYnT,EAAKyH,aAAazC,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,aAItE,aAAegB,KAAK8G,kBACtBpH,EAAKyH,aAAanI,GAAG4O,YAAc,KACnClO,EAAKyH,aAAanI,GAAG8O,iBAAmB,KACpC9O,EAAI,IACNU,EAAKyH,aAAanI,GAAG2O,UAAYjO,EAAKyH,aAAa,GAAGwG,UACtDjO,EAAKyH,aAAanI,GAAG6O,eAAiBnO,EAAKyH,aAAa,GAAG0G,iBAI3D,YAAc7N,KAAK8G,kBACrBpH,EAAKyH,aAAanI,GAAG8O,iBAAmB,KACpC9O,EAAI,IACNU,EAAKyH,aAAanI,GAAG6O,eAAiBnO,EAAKyH,aAAa,GAAG0G,iBAK3D,eAAiB7N,KAAK8G,kBACxBpH,EAAKyH,aAAanI,GAAG4O,YAAc,KAC/B5O,EAAI,IACNU,EAAKyH,aAAanI,GAAG2O,UAAYjO,EAAKyH,aAAa,GAAGwG,aAK9D,OAAOjO,GAUTkT,aAAc,SAAlB,iBACA,YACU5S,KAAKqC,gBAAgBC,OAASC,MAAMvC,KAAKqC,QAC3CyQ,EAAU9S,KAAK+S,YAAY/S,KAAKqC,OAElC,IAwDN,EACA,EACA,EA1DA,GAEQb,YAAawR,EAAMxR,YACnBa,KAAMyQ,EACNvM,KAAMvG,KAAK8G,gBAGX6G,UAAR,kDACQC,YAAR,oDACQC,eAAR,uDACQC,iBAAR,yDAGQzG,YAAa2L,EAAM3L,YACnBS,OAAQkL,EAAMlL,OAGdmL,UAAWD,EAAMC,UACjBC,cAAeF,EAAMG,SACrBvJ,KAAMoJ,EAAMpJ,KAGZ4G,cAAewC,EAAMxC,cACrBC,UAAWuC,EAAMvC,UACjBC,aAAcsC,EAAMtC,aACpBC,SAAUqC,EAAMrC,SAChBC,aAAcoC,EAAMpC,aACpBC,aAAcmC,EAAMnC,aAGpBuC,mBAAoBJ,EAAMI,mBAC1BC,aAAcL,EAAMK,aACpBC,MAAON,EAAMM,MACbC,YAAaP,EAAMO,YAGnBC,MAAO,EACPC,YAAY,GAGV,IAAMT,EAAMU,gBACdC,EAAaD,cAAgBV,EAAMU,eAEjC,IAAMV,EAAMY,UACdD,EAAaC,QAAUZ,EAAMY,SAI3B,IAAMZ,EAAM7K,sBACdwL,EAAaxL,oBAAsB6K,EAAM7K,qBAEvC,KAAO6K,EAAM9K,iBACfyL,EAAazL,eAAiB8K,EAAM9K,gBAStCpB,EAAkB9G,KAAK8G,gBAAkB9G,KAAK8G,gBAAgB+M,cAAgB,MAI9EC,EAAc9T,KAAKmH,aAAa,GAAGC,eAAeb,KAClDwN,EAAmB/T,KAAKmH,aAAa,GAAGI,oBAAoBhB,KAMxD,QAAUO,GAAmB,CAAC,QAAS,gBAAiB,OAAQ,OAAQ,YAAYkN,SAASF,KAC/FhN,EAAkB,cAGhB,QAAUA,GAAmB,CAAC,QAAS,gBAAiB,OAAQ,OAAQ,YAAYkN,SAASD,KAC/FjN,EAAkB,WAEpB6M,EAAapN,KAAOO,EAGpB,IAAN,KACM,IAAK,IAAX,aACQ,GAAIkM,EAAMtB,MAAMhN,eAAe1F,IAAM,iBAAiB4F,KAAK5F,IAAMA,GAAK,WAAY,CAChF,IAAV,aACA,4BACA,wDACA,uDACA,GACYwM,aAAc7H,SAASsQ,EAAc,IACrClC,UAAWmC,EACXrC,WAAYsC,GAEdzC,EAAMpS,KAAK8U,GAMf,OAHAT,EAAajC,MAAQA,EAGdiC,GAETZ,YAAa,SAAjB,GAEM,IAAN,kBACA,iBACMsB,EACY,KACVA,EAAQ,IAAMA,GAEhB,IAAN,cACUC,EAAM,KACRA,EAAM,IAAMA,GAEd,IAAN,eACUC,EAAQ,KACVA,EAAQ,IAAMA,GAEhB,IAAN,iBACUC,EAAU,KACZA,EAAU,IAAMA,GAElB,IAAN,iBACUC,EAAU,KACZA,EAAU,IAAMA,GAElB,IAAN,yBACA,6BACA,mBACUC,EAAc,KAChBA,EAAc,IAAMA,GAElBC,EAAgB,KAClBA,EAAgB,IAAMA,GAExB,IAAN,MAIM,OAHIC,EAAS,IACXC,EAAa,KAERC,EAAO,IAAMT,EAAQ,IAAMC,EACxC,kBACA,WAEInF,0BAA2B,WACzBnP,KAAK+U,wBAAwB9D,OAAO3K,uBAEtC8I,0BAA2B,WACzBpP,KAAKgV,wBAAwB/D,OAAOgE,0BE35B3B,GAXC,YACd,ICRW,WAAa,IAAIpU,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEH,EAAI0O,aAAajO,OAAS,EAAGN,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,cAAc,SAAS,CAACN,EAAIkB,GAAG,OAAOlB,EAAIkB,GAAG,KAAKf,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,YAAY,oBAAoBL,EAAIkB,GAAG,IAAIlB,EAAIqB,GAAGrB,EAAIO,GAAG,2BAA2BP,EAAIkB,GAAG,SAASlB,EAAIqB,GAAGrB,EAAI0O,cAAc,UAAU1O,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAMlB,EAAI2O,eAAelO,OAAS,EAAGN,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAACF,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,cAAc,SAAS,CAACN,EAAIkB,GAAG,OAAOlB,EAAIkB,GAAG,KAAKf,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,YAAY,0BAA0BL,EAAIkB,GAAG,IAAIlB,EAAIqB,GAAGrB,EAAIO,GAAG,6BAA6BP,EAAIkB,GAAG,KAAKf,EAAG,OAAO,CAACkD,SAAS,CAAC,UAAYrD,EAAIqB,GAAGrB,EAAI2O,qBAAqB3O,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAMlB,EAAIsG,aAAa7F,OAAS,EAAGN,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACE,YAAY,6BAA6BL,EAAImB,GAAIhC,KAAiB,cAAE,SAAS0M,EAAYzI,GAAO,OAAOjD,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACgD,MAAM,YAAc,IAAIC,EAAQ,UAAY,IAAI9C,MAAM,CAAC,KAAO,UAAY8C,EAAM,cAAc,QAAQ,CAAE,KAAOyI,EAAYlL,YAAaR,EAAG,OAAO,CAACH,EAAIkB,GAAGlB,EAAIqB,GAAGwK,EAAYlL,gBAAgBX,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAM,KAAO2K,EAAYlL,YAAaR,EAAG,OAAO,CAACH,EAAIkB,GAAG,SAASlB,EAAIqB,GAAG+B,EAAQ,MAAMpD,EAAIsB,YAAW,OAAOtB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAeL,EAAImB,GAAIhC,KAAiB,cAAE,SAAS0M,EAAYzI,GAAO,OAAOjD,EAAG,MAAM,CAACgD,MAAM,YAAc,IAAIC,EAAQ,UAAY,IAAI9C,MAAM,CAAC,GAAK,SAAW8C,IAAQ,CAACjD,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACL,EAAIkB,GAAG,qBAAqBlB,EAAIqB,GAAGrB,EAAIO,GAAG,sCAAsC,sBAAuBP,EAAIsG,aAAa7F,OAAS,EAAGN,EAAG,OAAO,CAACH,EAAIkB,GAAG,IAAIlB,EAAIqB,GAAG+B,EAAQ,GAAG,MAAMpD,EAAIqB,GAAGrB,EAAIsG,aAAa7F,QAAQ,QAAQT,EAAIsB,SAAStB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,yBAAyB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOG,aAAaE,MAAM,CAACtB,MAAOsM,EAAuB,YAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,cAAe9K,IAAMC,WAAW,8BAA8B,KAAKhB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,qBAAqB,CAACG,MAAM,CAAC,UAAY,SAAS,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAO6T,QAAQxT,MAAM,CAACtB,MAAOsM,EAA0B,eAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,iBAAkB9K,IAAMC,WAAW,iCAAiC,GAAGhB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,sEAAsE,CAAE,IAAM+C,EAAOjD,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ8C,KAASpD,EAAIsB,MAAM,GAAGtB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,qBAAqB,CAACG,MAAM,CAAC,UAAY,cAAc,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAO8T,aAAazT,MAAM,CAACtB,MAAOsM,EAA+B,oBAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,sBAAuB9K,IAAMC,WAAW,sCAAsC,KAAKhB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOyG,WAAW,GAAGjH,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,sEAAsE,CAACF,EAAG,6BAA6B,CAACG,MAAM,CAAC,MAAQ8C,MAAU,GAAGpD,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,2BAA2B,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAO6G,mBAAmB,KAAKrH,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOgB,SAAS,GAAGxB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,2EAA2E,CAACF,EAAG,yBAAyB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,gBAAgBpD,EAAIuU,iBAAiB,OAAS1I,EAAYrL,OAAOgU,iBAAiB,aAAaxU,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACL,EAAIkB,GAAG,qBAAqBlB,EAAIqB,GAAGrB,EAAIO,GAAG,qCAAqC,sBAAuBP,EAAIsG,aAAa7F,OAAS,EAAGN,EAAG,OAAO,CAACH,EAAIkB,GAAG,IAAIlB,EAAIqB,GAAG+B,EAAQ,GAAG,MAAMpD,EAAIqB,GAAGrB,EAAIsG,aAAa7F,QAAQ,QAAQT,EAAIsB,SAAStB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAAI,aAAeL,EAAIiG,iBAAmB,YAAcjG,EAAIiG,gBAAkB9F,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOmE,QAAQ9D,MAAM,CAACtB,MAAOsM,EAAqB,UAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,YAAa9K,IAAMC,WAAW,2BAA2BhB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAKf,EAAG,sBAAsB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAO8R,UAAUzR,MAAM,CAACtB,MAAOsM,EAAoB,SAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,WAAY9K,IAAMC,WAAW,2BAA2B,GAAGhB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAAI,aAAeL,EAAIiG,iBAAmB,YAAcjG,EAAIiG,gBAAkB9F,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOmI,MAAM9H,MAAM,CAACtB,MAAOsM,EAAmB,QAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,UAAW9K,IAAMC,WAAW,yBAAyBhB,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAKf,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOuI,MAAMlI,MAAM,CAACtB,MAAOsM,EAAgB,KAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,OAAQ9K,IAAMC,WAAW,sBAAsBhB,EAAIkB,GAAG,KAAQ,eAAiBlB,EAAIiG,iBAAmB,YAAcjG,EAAIiG,gBAAkB9F,EAAG,uBAAuB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOiU,YAAY5T,MAAM,CAACtB,MAAOsM,EAAyB,cAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,gBAAiB9K,IAAMC,WAAW,+BAA+BhB,EAAIsB,MAAM,aAAatB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACL,EAAIkB,GAAG,qBAAqBlB,EAAIqB,GAAGrB,EAAIO,GAAG,qCAAqC,sBAAuBP,EAAIsG,aAAa7F,OAAS,EAAGN,EAAG,OAAO,CAACH,EAAIkB,GAAG,IAAIlB,EAAIqB,GAAG+B,EAAQ,GAAG,MAAMpD,EAAIqB,GAAGrB,EAAIsG,aAAa7F,QAAQ,QAAQT,EAAIsB,SAAStB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,+BAA+B,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAO+R,oBAAoB1R,MAAM,CAACtB,MAAOsM,EAA8B,mBAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,qBAAsB9K,IAAMC,WAAW,oCAAoChB,EAAIkB,GAAG,KAAKf,EAAG,yBAAyB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOgS,cAAc3R,MAAM,CAACtB,MAAOsM,EAAwB,aAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,eAAgB9K,IAAMC,WAAW,8BAA8BhB,EAAIkB,GAAG,KAAKf,EAAG,mBAAmB,CAACG,MAAM,CAAC,MAAQ8C,EAAM,OAASyI,EAAYrL,OAAOiS,OAAO5R,MAAM,CAACtB,MAAOsM,EAAiB,MAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,QAAS9K,IAAMC,WAAW,wBAAwB,GAAGhB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,yBAAyB,CAAC+C,IAAI,cAAciF,UAAS,EAAK7H,MAAM,CAAC,MAAQ8C,EAAM,uBAAyByI,EAAYnB,uBAAuB,sBAAwB1K,EAAI+O,sBAAsBnO,GAAG,CAAC,uBAAuB,SAAS0C,GAAQ,OAAOtD,EAAI0Q,mBAAmBpN,KAAUzC,MAAM,CAACtB,MAAOsM,EAAuB,YAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,cAAe9K,IAAMC,WAAW,6BAA6BhB,EAAIkB,GAAG,KAAKf,EAAG,mBAAmB,CAACG,MAAM,CAAC,MAAQ8C,GAAOvC,MAAM,CAACtB,MAAOsM,EAAiB,MAAE/K,SAAS,SAAUC,GAAMf,EAAIkG,KAAK2F,EAAa,QAAS9K,IAAMC,WAAW,wBAAwB,kBAAiB,GAAGhB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAAEL,EAAIsG,aAAa7F,OAAS,EAAGN,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,wBAAwB,CAACG,MAAM,CAAC,OAASnB,KAAKiQ,kBAAkBvO,MAAM,CAACtB,MAAOJ,KAAe,WAAE2B,SAAS,SAAUC,GAAMf,EAAIkG,KAAK/G,KAAM,aAAc4B,IAAMC,WAAW,sBAAsB,SAAShB,EAAIsB,OAAOtB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,yCAAyClB,EAAIkB,GAAG,KAAKf,EAAG,SAAS,CAACE,YAAY,oCAAoCO,GAAG,CAAC,MAAQZ,EAAIyO,iBAAiB,CAACtO,EAAG,IAAI,CAACE,YAAY,iBAAiBL,EAAIkB,GAAG,IAAIlB,EAAIqB,GAAGrB,EAAIO,GAAG,8BAA8B,wBAAwBP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACL,EAAIkB,GAAG,yCAAyClB,EAAIkB,GAAG,KAAKf,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,UAAYN,EAAI4O,cAAchO,GAAG,CAAC,MAAQZ,EAAIuQ,oBAAoB,CAAEvQ,EAAgB,aAAEG,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,gBAAgBL,EAAIkB,GAAG,IAAIlB,EAAIqB,GAAGrB,EAAIO,GAAG,iCAAiCP,EAAIsB,KAAKtB,EAAIkB,GAAG,KAAOlB,EAAI4O,aAA0E5O,EAAIsB,KAAhEnB,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,mCAA4CL,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACL,EAAIkB,GAAG,qCAAqClB,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAiB,cAAEgB,WAAW,kBAAkBX,YAAY,mBAAmBC,MAAM,CAAC,KAAO,WAAW,GAAK,iBAAiB+C,SAAS,CAAC,QAAUa,MAAMmI,QAAQrM,EAAI6O,eAAe7O,EAAIsM,GAAGtM,EAAI6O,cAAc,OAAO,EAAG7O,EAAiB,eAAGY,GAAG,CAAC,OAAS,SAAS0C,GAAQ,IAAIiJ,EAAIvM,EAAI6O,cAAcrC,EAAKlJ,EAAOC,OAAOkJ,IAAID,EAAKE,QAAuB,GAAGxI,MAAMmI,QAAQE,GAAK,CAAC,IAAaI,EAAI3M,EAAIsM,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAI3M,EAAI6O,cAActC,EAAIK,OAAO,CAA/E,QAA4FD,GAAK,IAAI3M,EAAI6O,cAActC,EAAI/J,MAAM,EAAEmK,GAAKC,OAAOL,EAAI/J,MAAMmK,EAAI,UAAW3M,EAAI6O,cAAcpC,MAASzM,EAAIkB,GAAG,KAAKf,EAAG,QAAQ,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,kBAAkB,CAACH,EAAG,OAAO,CAACE,YAAY,SAAS,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIO,GAAG,kCAAkCP,EAAIkB,GAAG,KAAKf,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAAC6C,WAAW,CAAC,CAACpE,KAAK,QAAQqE,QAAQ,UAAU1D,MAAOS,EAAkB,eAAEgB,WAAW,mBAAmBX,YAAY,mBAAmBC,MAAM,CAAC,KAAO,WAAW,GAAK,iBAAiB,UAAYN,EAAI6O,eAAexL,SAAS,CAAC,QAAUa,MAAMmI,QAAQrM,EAAI8O,gBAAgB9O,EAAIsM,GAAGtM,EAAI8O,eAAe,OAAO,EAAG9O,EAAkB,gBAAGY,GAAG,CAAC,OAAS,SAAS0C,GAAQ,IAAIiJ,EAAIvM,EAAI8O,eAAetC,EAAKlJ,EAAOC,OAAOkJ,IAAID,EAAKE,QAAuB,GAAGxI,MAAMmI,QAAQE,GAAK,CAAC,IAAaI,EAAI3M,EAAIsM,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAI3M,EAAI8O,eAAevC,EAAIK,OAAO,CAAhF,QAA6FD,GAAK,IAAI3M,EAAI8O,eAAevC,EAAI/J,MAAM,EAAEmK,GAAKC,OAAOL,EAAI/J,MAAMmK,EAAI,UAAW3M,EAAI8O,eAAerC,MAASzM,EAAIkB,GAAG,KAAKf,EAAG,QAAQ,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,mBAAmB,CAACH,EAAG,OAAO,CAACE,YAAY,SAAS,CAACL,EAAIkB,GAAGlB,EAAIqB,GAAGrB,EAAIO,GAAG,+CACvmX,IDUpB,EACA,KACA,WACA,M,2BEUFmU,EAAQ,IAERC,KAAIC,OAAOC,eAAgB,EAE3B,IAAIC,GAAOJ,EAAQ,IAEfhW,GAAQ,GACZ,IAAIiW,KAAI,CACIG,QACAC,UACAC,OAHJ,SAGWC,GACH,OAAOA,EAAcC,GAAQ,CAACxW,MAAOA,MAEzCyW,aANJ,WAOQhW,KAAK4H,OAAO0I,OAAO,mBACnBtQ,KAAK4H,OAAOqO,SAAS,+BAE1BC,OAAO,0B","file":"/public/js/transactions/create.js","sourcesContent":["\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","export * from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\"","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".vue-tags-input{max-width:100%!important;display:block}.ti-input,.vue-tags-input{width:100%;border-radius:.25rem}.ti-input{max-width:100%}.ti-new-tag-input{font-size:1rem}\", \"\"]);\n\n// exports\n","<!--\n  - TransactionDescription.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <vue-typeahead-bootstrap\n        inputName=\"description[]\"\n        v-model=\"value\"\n        :data=\"descriptions\"\n        :placeholder=\"$t('firefly.description')\"\n        :showOnFocus=true\n        autofocus\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :serializer=\"item => item.description\"\n        @input=\"lookupDescription\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button tabindex=\"-1\" v-on:click=\"clearDescription\" class=\"btn btn-outline-secondary\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionDescription\",\n  data() {\n    return {\n      descriptions: [],\n      initialSet: []\n    }\n  },\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    clearDescription: function () {\n      this.value = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'description', index: this.index, value: value});\n    }\n  },\n  computed: {\n    ...mapGetters(\n        [\n          'transactionType',\n          'transactions',\n        ]\n    )\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDescription.vue?vue&type=template&id=729655fe&\"\nimport script from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('vue-typeahead-bootstrap',{attrs:{\"inputName\":\"description[]\",\"data\":_vm.descriptions,\"placeholder\":_vm.$t('firefly.description'),\"showOnFocus\":true,\"autofocus\":\"\",\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"serializer\":function (item) { return item.description; }},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionDate.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.date_and_time') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          type=\"date\"\n          ref=\"date\"\n          :title=\"$t('firefly.date')\"\n          v-model=\"localDate\"\n          :disabled=\"index > 0\"\n          autocomplete=\"off\"\n          name=\"date[]\"\n          :placeholder=\"localDate\"\n      >\n      <input\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          type=\"time\"\n          ref=\"time\"\n          :title=\"$t('firefly.time')\"\n          v-model=\"localTime\"\n          :disabled=\"index > 0\"\n          autocomplete=\"off\"\n          name=\"time[]\"\n          :placeholder=\"localTime\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index', 'errors'],\n  name: \"TransactionDate\",\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n          'setDate'\n        ],\n    ),\n  },\n  computed: {\n    ...mapGetters(\n        [\n          'transactionType',\n          'date',\n          'transactions'\n        ]\n    ),\n    localDate: {\n      get() {\n        if (this.date instanceof Date && !isNaN(this.date)) {\n          return this.date.toISOString().split('T')[0];\n        }\n        return '';\n      },\n      set(value) {\n        // bit of a hack but meh.\n        if('' === value) {\n\n        }\n        let newDate = new Date(value);\n        let current = new Date(this.date.getTime());\n        current.setFullYear(newDate.getFullYear());\n        current.setMonth(newDate.getMonth());\n        current.setDate(newDate.getDate());\n        this.setDate({date: current});\n      }\n    },\n    localTime: {\n      get() {\n        if (this.date instanceof Date && !isNaN(this.date)) {\n          return ('0' + this.date.getHours()).slice(-2) + ':' + ('0' + this.date.getMinutes()).slice(-2) + ':' + ('0' + this.date.getSeconds()).slice(-2);\n        }\n        return '';\n      },\n      set(value) {\n        if('' === value) {\n          this.date.setHours(0);\n          this.date.setMinutes(0);\n          this.date.setSeconds(0);\n          this.setDate({date: this.date});\n          return;\n        }\n        // bit of a hack but meh.\n        let current = new Date(this.date.getTime());\n        let parts = value.split(':');\n        current.setHours(parseInt(parts[0]));\n        current.setMinutes(parseInt(parts[1]));\n        current.setSeconds(parseInt(parts[2]));\n        this.setDate({date: current});\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionDate.vue?vue&type=template&id=5427b32e&\"\nimport script from \"./TransactionDate.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.date_and_time'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localDate),expression:\"localDate\"}],ref:\"date\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"type\":\"date\",\"title\":_vm.$t('firefly.date'),\"disabled\":_vm.index > 0,\"autocomplete\":\"off\",\"name\":\"date[]\",\"placeholder\":_vm.localDate},domProps:{\"value\":(_vm.localDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.localDate=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localTime),expression:\"localTime\"}],ref:\"time\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"type\":\"time\",\"title\":_vm.$t('firefly.time'),\"disabled\":_vm.index > 0,\"autocomplete\":\"off\",\"name\":\"time[]\",\"placeholder\":_vm.localTime},domProps:{\"value\":(_vm.localTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.localTime=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionBudget.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.budget') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"budget\"\n          :title=\"$t('firefly.budget')\"\n          v-model=\"value\"\n          autocomplete=\"off\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          name=\"budget_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"budget in this.budgetList\" :value=\"budget.id\" :label=\"budget.name\">{{ budget.name }}</option>\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionBudget\",\n  data() {\n    return {\n      budgetList: []\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    collectData() {\n      this.budgetList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_budget'),\n          }\n      );\n      this.getBudgets();\n    },\n    getBudgets() {\n      axios.get('./api/v1/budgets')\n          .then(response => {\n                  this.parseBudgets(response.data);\n                }\n          );\n    },\n    parseBudgets(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          this.budgetList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'budget_id', index: this.index, value: value});\n    }\n  },\n  computed: {\n    ...mapGetters(\n        [\n          'transactionType',\n          'transactions',\n        ]\n    )\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionBudget.vue?vue&type=template&id=5544dff3&\"\nimport script from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.budget'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"budget\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.budget'),\"autocomplete\":\"off\",\"name\":\"budget_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.value=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.budgetList),function(budget){return _c('option',{attrs:{\"label\":budget.name},domProps:{\"value\":budget.id}},[_vm._v(_vm._s(budget.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\" v-if=\"visible\">\n      <span v-if=\"0 === this.index\">{{ $t('firefly.' + this.direction + '_account') }}</span>\n      <span class=\"text-warning\" v-if=\"this.index > 0\">{{ $t('firefly.first_split_overrules_' + this.direction) }}</span>\n    </div>\n    <div class=\"text-xs d-none d-lg-block d-xl-block\" v-if=\"!visible\">\n      &nbsp;\n    </div>\n    <vue-typeahead-bootstrap\n        v-if=\"visible\"\n        v-model=\"value.name\"\n        :data=\"accounts\"\n        :showOnFocus=true\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :inputName=\"direction + '[]'\"\n        :serializer=\"item => item.name_with_balance\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.' + direction + '_account')\"\n        @input=\"lookupAccount\"\n        @hit=\"selectedAccount = $event\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button tabindex=\"-1\" class=\"btn btn-outline-secondary\" v-on:click=\"clearAccount\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <div class=\"form-control-static\" v-if=\"!visible\">\n      <span class=\"small text-muted\"><em>{{ $t('firefly.first_split_decides') }}</em></span>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n      </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from 'lodash';\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"TransactionAccount\",\n  components: {VueTypeaheadBootstrap},\n  props: ['index', 'direction', 'value', 'errors'],\n  data() {\n    return {\n      query: '',\n      accounts: [],\n      accountTypes: [],\n      initialSet: [],\n      selectedAccount: {}\n    }\n  },\n  created() {\n    this.createInitialSet();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n          'setDestinationAllowedTypes',\n          'setSourceAllowedTypes'\n        ],\n    ),\n    ...mapActions(\n        [\n          'calcTransactionType'\n        ]\n    ),\n    getACURL: function (types, query) {\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/accounts?types=' + types.join(',') + '&query=' + query;\n    },\n    clearAccount: function () {\n      this.accounts = this.initialSet;\n      this.value = {name: ''};\n    },\n    lookupAccount: debounce(function () {\n      if (0 === this.accountTypes.length) {\n        // set the types from the default types for this direction:\n        this.accountTypes = 'source' === this.direction ? this.sourceAllowedTypes : this.destinationAllowedTypes;\n      }\n\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.accountTypes, this.value.name))\n          .then(response => {\n            this.accounts = response.data;\n          })\n    }, 300),\n    createInitialSet: function () {\n      let types = this.sourceAllowedTypes;\n      if ('destination' === this.direction) {\n        types = this.destinationAllowedTypes;\n      }\n\n      axios.get(this.getACURL(types, ''))\n          .then(response => {\n            // console.log('initial set of accounts. ' + this.direction);\n            this.accounts = response.data;\n            this.initialSet = response.data;\n          });\n    }\n  },\n  watch: {\n    selectedAccount: function (value) {\n      this.value = value;\n      this.value.name = this.value.name_with_balance;\n    },\n    value: function (value) {\n      this.updateField({field: this.accountKey, index: this.index, value: value});\n      // set the opposing account allowed set.\n      let opposingAccounts = [];\n      let type = value.type ? value.type : 'no_type';\n      if ('undefined' !== typeof this.allowedOpposingTypes[this.direction]) {\n        if ('undefined' !== typeof this.allowedOpposingTypes[this.direction][type]) {\n          opposingAccounts = this.allowedOpposingTypes[this.direction][type];\n        }\n      }\n\n      if ('source' === this.direction) {\n        this.setDestinationAllowedTypes(opposingAccounts);\n      }\n      if ('destination' === this.direction) {\n        this.setSourceAllowedTypes(opposingAccounts);\n      }\n\n      this.calcTransactionType();\n    },\n    // account: function (value) {\n    //   //this.value.name = value;\n    //   //console.log('watch account in direction ' + this.direction + ' change to \"' + value + '\"');\n    //   //   this.account = value ? value.name_with_balance : null;\n    //   //   // console.log('this.account (' + this.direction + ') = \"' + this.account + '\"');\n    //   //\n    //   //\n    //   //   // set the opposing account allowed set.\n    //   //   // console.log('opposing:');\n    //   //   let opposingAccounts = [];\n    //   //   let type = value.type ? value.type : 'no_type';\n    //   //   if ('undefined' !== typeof this.allowedOpposingTypes[this.direction]) {\n    //   //     if ('undefined' !== typeof this.allowedOpposingTypes[this.direction][type]) {\n    //   //       opposingAccounts = this.allowedOpposingTypes[this.direction][type];\n    //   //     }\n    //   //   }\n    //   //\n    //   //   if ('source' === this.direction) {\n    //   //     this.setDestinationAllowedTypes(opposingAccounts);\n    //   //   }\n    //   //   if ('destination' === this.direction) {\n    //   //     this.setSourceAllowedTypes(opposingAccounts);\n    //   //   }\n    //\n    //\n    //   //\n    //   // this.calcTransactionType();\n    //\n    //\n    // }\n\n    // selectedAccount: function (value) {\n\n    // },\n    // sourceAllowedTypes: function (value) {\n    //   if ('source' === this.direction) {\n    //     // console.log('do update initial set in direction ' + this.direction + ' because allowed types changed');\n    //     // update initial set:\n    //     this.createInitialSet();\n    //   }\n    // },\n    // destinationAllowedTypes: function (value) {\n    //   if ('destination' === this.direction) {\n    //     // console.log('do update initial set in direction ' + this.direction + ' because allowed types changed');\n    //     // update initial set:\n    //     this.createInitialSet();\n    //   }\n    // }\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'defaultTransaction',\n                    'sourceAllowedTypes',\n                    'destinationAllowedTypes',\n                    'allowedOpposingTypes'\n                  ]),\n    accountKey: {\n      get() {\n        return 'source' === this.direction ? 'source_account' : 'destination_account';\n      }\n    },\n    visible: {\n      get() {\n        // index  0 is always visible:\n        if (0 === this.index) {\n          return true;\n        }\n        if ('source' === this.direction) {\n          return 'any' === this.transactionType || 'Deposit' === this.transactionType\n        }\n        if ('destination' === this.direction) {\n          return 'any' === this.transactionType || 'Withdrawal' === this.transactionType;\n        }\n        return false;\n      }\n    }\n    // selectedAccount: {\n    //   get() {\n    //     return this.transactions[this.index][this.accountKey];\n    //   },\n    //   set(value) {\n    //     // console.log('set selectedAccount for ' + this.direction);\n    //     // console.log(value);\n    //     this.updateField({field: this.accountKey, index: this.index, value: value});\n    //   }\n    // }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAccount.vue?vue&type=template&id=c0a2ebc6&scoped=true&\"\nimport script from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c0a2ebc6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[(_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[(0 === this.index)?_c('span',[_vm._v(_vm._s(_vm.$t('firefly.' + this.direction + '_account')))]):_vm._e(),_vm._v(\" \"),(this.index > 0)?_c('span',{staticClass:\"text-warning\"},[_vm._v(_vm._s(_vm.$t('firefly.first_split_overrules_' + this.direction)))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.visible)?_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.accounts,\"showOnFocus\":true,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"inputName\":_vm.direction + '[]',\"serializer\":function (item) { return item.name_with_balance; },\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.' + _vm.direction + '_account')},on:{\"input\":_vm.lookupAccount,\"hit\":function($event){_vm.selectedAccount = $event}},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearAccount}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"form-control-static\"},[_c('span',{staticClass:\"small text-muted\"},[_c('em',[_vm._v(_vm._s(_vm.$t('firefly.first_split_decides')))])])]):_vm._e(),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SwitchAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span class=\"text-muted\" v-if=\"'any' !== this.transactionType\">\n        {{ $t('firefly.' + this.transactionType) }}\n      </span>\n      <span class=\"text-muted\" v-if=\"'any' === this.transactionType\">&nbsp;</span>\n    </div>\n    <div class=\"btn-group d-flex\">\n      <button class=\"btn btn-light\" @click=\"switchAccounts\">&harr;</button>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"SwitchAccount\",\n  props: ['index'],\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n\n    switchAccounts() {\n      let source = this.transactions[this.index].source_account;\n      let dest = this.transactions[this.index].destination_account;\n\n      this.updateField({field: 'source_account', index: this.index, value: dest});\n      this.updateField({field: 'destination_account', index: this.index, value: source});\n\n      // trigger other components.\n\n    }\n  },\n  computed: {\n    ...mapGetters(['transactions', 'transactionType']),\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwitchAccount.vue?vue&type=template&id=7fc33f88&scoped=true&\"\nimport script from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fc33f88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[('any' !== this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.' + this.transactionType))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),('any' === this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group d-flex\"},[_c('button',{staticClass:\"btn btn-light\",on:{\"click\":_vm.switchAccounts}},[_vm._v(\"\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('firefly.amount') }}</div>\n    <div class=\"input-group\">\n      <div class=\"input-group-prepend\">\n        <div class=\"input-group-text\">{{ currencySymbol }}</div>\n      </div>\n      <input type=\"hidden\" name=\"currency_id[]\" :value=\"currencyId\"/>\n      <input\n          :title=\"$t('firefly.amount')\"\n          autocomplete=\"off\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          name=\"amount[]\"\n          type=\"number\"\n          v-model=\"amount\"\n          :placeholder=\"$t('firefly.amount')\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n//const {mapRootState, mapRootGetters, mapRootActions, mapRootMutations} = createHelpers('');\n\n\nexport default {\n  name: \"TransactionAmount\",\n  props: ['index', 'errors'],\n  data() {\n    return {\n      currencySymbol: ''\n    }\n  },\n  watch: {\n    transactionType: function (value) {\n      switch (value) {\n        case 'Transfer':\n        case 'Withdrawal':\n          // take currency from source:\n          this.currencyId = this.transactions[this.index].source_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n          return;\n        case 'Deposit':\n          // take currency from destination:\n          this.currencyId = this.transactions[this.index].destination_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n          return;\n      }\n    },\n    destinationAllowedTypes: function (value) {\n      // aka source was updated. if source is asset/loan/debt/mortgage use it to set the currency:\n      if ('undefined' !== typeof this.transactions[this.index].source_account.type) {\n        if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].source_account.type) !== -1) {\n          // get currency pref from source account\n          this.currencyId = this.transactions[this.index].source_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n        }\n      }\n    },\n    sourceAllowedTypes: function (value) {\n      // aka destination was updated. if destination is asset/loan/debt/mortgage use it to set the currency:\n      // unless its already known to be a transfer\n      if ('undefined' !== typeof this.transactions[this.index].destination_account.type && 'Transfer' !== this.transactionType) {\n        if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].destination_account.type) !== -1) {\n          // get currency pref from destination account\n          this.currencyId = this.transactions[this.index].destination_account.currency_id;\n          this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        }\n      }\n    },\n\n  },\n  created: function () {\n    this.updateCurrency();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    updateCurrency: function () {\n      if (0 === this.currencyId) {\n        // use default currency from store.\n        this.currencySymbol = this.currencyPreference.symbol;\n        this.currencyId = this.currencyPreference.id;\n      }\n    }\n  },\n  computed: {\n    currencyPreference: {\n      get() {\n        return this.$store.state.currencyPreference;\n      }\n    },\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'destinationAllowedTypes',\n                    'sourceAllowedTypes',\n                  ]),\n    amount: {\n      get() {\n        return this.transactions[this.index].amount;\n      },\n      set(value) {\n        this.updateField({field: 'amount', index: this.index, value: value});\n      }\n    },\n    currencyId: {\n      get() {\n        return this.transactions[this.index].currency_id;\n      },\n      set(value) {\n        this.updateField({field: 'currency_id', index: this.index, value: value});\n      }\n    },\n    selectedTransactionType: {\n      get() {\n        return this.transactionType;\n      },\n      set(value) {\n        // console.log('set selectedAccount for ' + this.direction);\n        // console.log(value);\n        // this.updateField({field: this.accountKey, index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionAmount.vue?vue&type=template&id=4003e1ea&scoped=true&\"\nimport script from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4003e1ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('firefly.amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.currencySymbol))])]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"currency_id[]\"},domProps:{\"value\":_vm.currencyId}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.amount'),\"autocomplete\":\"off\",\"name\":\"amount[]\",\"type\":\"number\",\"placeholder\":_vm.$t('firefly.amount')},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN AMOUNT -->\n  <div class=\"form-group\">\n    <input type=\"hidden\" name=\"foreign_currency_id[]\" :value=\"currencyId\"/>\n    <div class=\"text-xs\">{{ $t('form.foreign_amount') }}</div>\n    <div class=\"input-group\">\n      <input\n          :title=\"$t('form.foreign_amount')\"\n          autocomplete=\"off\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :disabled=\"0===currencyId\"\n          name=\"foreign_amount[]\"\n          type=\"number\"\n          v-model=\"amount\"\n          :placeholder=\"$t('form.foreign_amount')\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n//const {mapRootState, mapRootGetters, mapRootActions, mapRootMutations} = createHelpers('');\n\n\nexport default {\n  name: \"TransactionForeignAmount\",\n  props: ['index','errors'],\n  data() {\n    return {\n      currencySymbol: '',\n      allCurrencies: [],\n      selectableCurrencies: [],\n    }\n  },\n  watch: {\n    transactionType: function (value) {\n      // switch (value) {\n      //   case 'Transfer':\n      //   case 'Withdrawal':\n      //     // take currency from source:\n      //     //this.currencyId = this.transactions[this.index].source_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n      //     return;\n      //   case 'Deposit':\n      //     // take currency from destination:\n      //     this.currencyId = this.transactions[this.index].destination_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n      //     return;\n      // }\n    },\n    destinationAllowedTypes: function (value) {\n      // // aka source was updated. if source is asset/loan/debt/mortgage use it to set the currency:\n      // if ('undefined' !== typeof this.transactions[this.index].source_account.type) {\n      //   if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].source_account.type) !== -1) {\n      //     // get currency pref from source account\n      //     this.currencyId = this.transactions[this.index].source_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].source_account.currency_symbol;\n      //   }\n      // }\n    },\n    sourceAllowedTypes: function (value) {\n      // // aka destination was updated. if destination is asset/loan/debt/mortgage use it to set the currency:\n      // // unless its already known to be a transfer\n      // if ('undefined' !== typeof this.transactions[this.index].destination_account.type && 'Transfer' !== this.transactionType) {\n      //   if (['Asset account', 'Loan', 'Debt', 'Mortgage'].indexOf(this.transactions[this.index].destination_account.type) !== -1) {\n      //     // get currency pref from destination account\n      //     this.currencyId = this.transactions[this.index].destination_account.currency_id;\n      //     this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n      //   }\n      // }\n    },\n\n  },\n  created: function () {\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n\n    // updateCurrency: function () {\n    //   if (0 === this.currencyId) {\n    //     // use default currency from store.\n    //     this.currencySymbol = this.currencyPreference.symbol;\n    //     this.currencyId = this.currencyPreference.id;\n    //   }\n    // }\n  },\n  computed: {\n    currencyPreference: {\n      get() {\n        return this.$store.state.currencyPreference;\n      }\n    },\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'destinationAllowedTypes',\n                    'sourceAllowedTypes',\n                  ]),\n    amount: {\n      get() {\n        return this.transactions[this.index].foreign_amount;\n      },\n      set(value) {\n        this.updateField({field: 'foreign_amount', index: this.index, value: value});\n      }\n    },\n    currencyId: {\n      get() {\n        return this.transactions[this.index].foreign_currency_id;\n      },\n      set(value) {\n        this.updateField({field: 'foreign_currency_id', index: this.index, value: value});\n      }\n    },\n    selectedTransactionType: {\n      get() {\n        return this.transactionType;\n      },\n      set(value) {\n        // console.log('set selectedAccount for ' + this.direction);\n        // console.log(value);\n        // this.updateField({field: this.accountKey, index: this.index, value: value});\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignAmount.vue?vue&type=template&id=39931bed&scoped=true&\"\nimport script from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39931bed\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"foreign_currency_id[]\"},domProps:{\"value\":_vm.currencyId}}),_vm._v(\" \"),_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('form.foreign_amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('form.foreign_amount'),\"autocomplete\":\"off\",\"disabled\":0===_vm.currencyId,\"name\":\"foreign_amount[]\",\"type\":\"number\",\"placeholder\":_vm.$t('form.foreign_amount')},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionForeignCurrency.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN Currency -->\n  <div class=\"form-group\" v-if=\"selectIsVisible\">\n    <div class=\"text-xs\">&nbsp;</div>\n    <div class=\"input-group\">\n      <select name=\"foreign_currency_id[]\" v-model=\"currencyId\" class=\"form-control\">\n        <option v-for=\"currency in selectableCurrencies\" :label=\"currency.name\" :value=\"currency.id\">{{ currency.name }}</option>\n      </select>\n    </div>\n  </div>\n</template>\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"TransactionForeignCurrency\",\n  props: ['index'],\n  data() {\n    return {\n      allCurrencies: [],\n      selectableCurrencies: [],\n      lockedCurrency: 0,\n      selectIsVisible: true\n    }\n  },\n  watch: {\n    transactionType: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === value) {\n        // take currency from destination:\n        this.currencyId = this.transactions[this.index].destination_account.currency_id;\n        this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        this.lockedCurrency = this.currencyId;\n      }\n      this.filterCurrencies();\n      this.checkVisibility();\n    },\n    destinationAllowedTypes: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === this.transactionType) {\n        // take currency from destination:\n        this.currencyId = this.transactions[this.index].destination_account.currency_id;\n        this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        this.lockedCurrency = this.currencyId;\n      }\n      this.filterCurrencies();\n      this.checkVisibility();\n    },\n    sourceAllowedTypes: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === this.transactionType) {\n        // take currency from destination:\n        this.currencyId = this.transactions[this.index].destination_account.currency_id;\n        this.currencySymbol = this.transactions[this.index].destination_account.currency_symbol;\n        this.lockedCurrency = this.currencyId;\n      }\n      this.filterCurrencies();\n      this.checkVisibility();\n    },\n\n  },\n  created: function () {\n    this.getAllCurrencies();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    checkVisibility: function () {\n      // have the same currency ID, but not zero, and is a transfer\n      let sourceId = this.transactions[this.index].source_account.currency_id;\n      let destId = this.transactions[this.index].destination_account.currency_id;\n      this.selectIsVisible = true;\n      if (sourceId === destId && 0 !== sourceId && 'Transfer' === this.transactionType) {\n        this.selectIsVisible = false;\n        this.currencyId = 0;\n      }\n    },\n\n    getAllCurrencies: function () {\n      axios.get('./api/v1/autocomplete/currencies')\n          .then(response => {\n                  this.allCurrencies = response.data;\n                  this.filterCurrencies();\n                }\n          );\n\n    },\n    filterCurrencies() {\n      // if a currency is locked only that currency can (and must) be selected:\n      if (0 !== this.lockedCurrency) {\n        for (let key in this.allCurrencies) {\n          if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n            let current = this.allCurrencies[key];\n            if (current.id === this.lockedCurrency) {\n              this.selectableCurrencies = [current];\n              this.currencyId = current.id;\n            }\n          }\n        }\n        return;\n      }\n\n\n      this.selectableCurrencies = [\n        {\n          \"id\": 0,\n          \"name\": this.$t('firefly.no_currency')\n        }\n      ];\n      for (let key in this.allCurrencies) {\n        if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = this.allCurrencies[key];\n          // add to array if not \"locked\" in place:\n          if (this.transactions[this.index].currency_id !== current.id) {\n            this.selectableCurrencies.push(current);\n          }\n          // deselect impossible currency.\n          if (this.transactions[this.index].currency_id === current.id && this.currencyId === current.id) {\n            this.currencyId = 0;\n          }\n        }\n      }\n      //currency_id\n\n      // always add empty currency:\n      // this.selectableCurrencies = this.allCurrencies;\n      // this.selectableCurrencies.reverse();\n      // this.selectableCurrencies.push(\n      //   ;\n      // this.selectableCurrencies.reverse();\n\n      // remove\n\n    }\n\n    // updateCurrency: function () {\n    //   if (0 === this.currencyId) {\n    //     // use default currency from store.\n    //     this.currencySymbol = this.currencyPreference.symbol;\n    //     this.currencyId = this.currencyPreference.id;\n    //   }\n    // }\n  },\n  computed: {\n    currencyPreference: {\n      get() {\n        return this.$store.state.currencyPreference;\n      }\n    },\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'destinationAllowedTypes',\n                    'sourceAllowedTypes',\n                  ]),\n    currencyId: {\n      get() {\n        return this.transactions[this.index].foreign_currency_id;\n      },\n      set(value) {\n        this.updateField({field: 'foreign_currency_id', index: this.index, value: value});\n      }\n    },\n    normalCurrencyId: {\n      get() {\n        return this.transactions[this.index].currency_id;\n      },\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionForeignCurrency.vue?vue&type=template&id=7008e22e&scoped=true&\"\nimport script from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7008e22e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selectIsVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currencyId),expression:\"currencyId\"}],staticClass:\"form-control\",attrs:{\"name\":\"foreign_currency_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currencyId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectableCurrencies),function(currency){return _c('option',{attrs:{\"label\":currency.name},domProps:{\"value\":currency.id}},[_vm._v(_vm._s(currency.name))])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionCustomDates.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"form-group\" v-for=\"(enabled, name) in enabledDates\">\n      <div class=\"text-xs d-none d-lg-block d-xl-block\" v-if=\"enabled\">\n        {{ $t('form.' + name) }}\n      </div>\n      <div class=\"input-group\" v-if=\"enabled\">\n        <input\n            class=\"form-control\"\n            type=\"date\"\n            :ref=\"name\"\n            :title=\"$t('form.' + name)\"\n            :value=\"getFieldValue(name)\"\n            @change=\"setFieldValue($event, name)\"\n            autocomplete=\"off\"\n            :name=\"name + '[]'\"\n            :placeholder=\"$t('form.' + name)\"\n            v-on:submit.prevent\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// TODO: error handling\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\nexport default {\n  name: \"TransactionCustomDates\",\n  props: ['enabledDates', 'index', 'errors'],\n  methods: {\n    ...mapGetters(\n        [\n            'transactions'\n        ]\n    ),\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    getFieldValue(field) {\n      return this.transactions()[parseInt(this.index)][field] ?? '';\n    },\n    setFieldValue(event, field) {\n      this.updateField({index: this.index, field: field, value: event.target.value});\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionCustomDates.vue?vue&type=template&id=4d30715b&scoped=true&\"\nimport script from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d30715b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.enabledDates),function(enabled,name){return _c('div',{staticClass:\"form-group\"},[(enabled)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('form.' + name))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(enabled)?_c('div',{staticClass:\"input-group\"},[_c('input',{ref:name,refInFor:true,staticClass:\"form-control\",attrs:{\"type\":\"date\",\"title\":_vm.$t('form.' + name),\"autocomplete\":\"off\",\"name\":name + '[]',\"placeholder\":_vm.$t('form.' + name)},domProps:{\"value\":_vm.getFieldValue(name)},on:{\"change\":function($event){return _vm.setFieldValue($event, name)},\"submit\":function($event){$event.preventDefault();}}})]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionCategory.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.category') }}\n    </div>\n\n    <vue-typeahead-bootstrap\n        inputName=\"category[]\"\n        v-model=\"value\"\n        :data=\"categories\"\n        :placeholder=\"$t('firefly.category')\"\n        :showOnFocus=true\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :serializer=\"item => item.name\"\n        @hit=\"selectedCategory = $event\"\n        @input=\"lookupCategory\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button tabindex=\"-1\" v-on:click=\"clearCategory\" class=\"btn btn-outline-secondary\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['value', 'index', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionCategory\",\n  data() {\n    return {\n      categories: [],\n      initialSet: []\n    }\n  },\n\n  created() {\n\n    // initial list of accounts:\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.categories = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    clearCategory: function () {\n      this.value = null;\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/categories?query=' + query;\n    },\n    lookupCategory: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.categories = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'category', index: this.index, value: value});\n    }\n  },\n  computed: {\n    ...mapGetters(\n        [\n                    'transactionType',\n                    'transactions',\n                  ]\n    ),\n    selectedCategory: {\n      get() {\n        return this.categories[this.index].name;\n      },\n      set(value) {\n        this.value = value.name;\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionCategory.vue?vue&type=template&id=3f7b5bcc&\"\nimport script from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.category'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"inputName\":\"category[]\",\"data\":_vm.categories,\"placeholder\":_vm.$t('firefly.category'),\"showOnFocus\":true,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"serializer\":function (item) { return item.name; }},on:{\"hit\":function($event){_vm.selectedCategory = $event},\"input\":_vm.lookupCategory},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearCategory}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionBill.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.bill') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"bill\"\n          :title=\"$t('firefly.bill')\"\n          v-model=\"value\"\n          autocomplete=\"off\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          name=\"bill_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"bill in this.billList\" :value=\"bill.id\" :label=\"bill.name\">{{ bill.name }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['value', 'index', 'errors'],\n  name: \"TransactionBill\",\n  data() {\n    return {\n      billList: []\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    collectData() {\n      this.billList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_bill'),\n          }\n      );\n      this.getBills();\n    },\n    getBills() {\n      axios.get('./api/v1/bills')\n          .then(response => {\n                  this.parseBills(response.data);\n                }\n          );\n    },\n    parseBills(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          this.billList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'bill_id', index: this.index, value: value});\n    }\n  },\n  computed: {\n    ...mapGetters(\n        [\n          'transactionType',\n          'transactions',\n        ]\n    )\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionBill.vue?vue&type=template&id=f94af89c&\"\nimport script from \"./TransactionBill.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBill.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.bill'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"bill\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.bill'),\"autocomplete\":\"off\",\"name\":\"bill_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.value=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.billList),function(bill){return _c('option',{attrs:{\"label\":bill.name},domProps:{\"value\":bill.id}},[_vm._v(_vm._s(bill.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionTags.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.tags') }}\n    </div>\n    <div class=\"input-group\">\n      <vue-tags-input\n          v-model=\"currentTag\"\n          :add-only-from-autocomplete=\"false\"\n          :autocomplete-items=\"autocompleteItems\"\n          :tags=\"tags\"\n          :title=\"$t('firefly.tags')\"\n          v-bind:placeholder=\"$t('firefly.tags')\"\n          @tags-changed=\"newTags => this.tags = newTags\"\n      />\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\nimport VueTagsInput from \"@johmun/vue-tags-input\";\nimport axios from \"axios\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"TransactionTags\",\n  components: {\n    VueTagsInput\n  },\n  props: ['value', 'index', 'errors'],\n  data() {\n    return {\n      autocompleteItems: [],\n      debounce: null,\n      tags: [],\n      currentTag: '',\n      updateTags: true // the idea is that this is always true, except when the tags-function sets the value.\n    };\n  },\n  watch: {\n    'currentTag': 'initItems',\n    value: function (value) {\n      //console.log('watch: value');\n      //console.log(value);\n      this.updateField({field: 'tags', index: this.index, value: value});\n      this.updateTags = false;\n      this.tags = value;\n    },\n    tags: function (value) {\n      if (this.updateTags) {\n        //console.log('watch: tags');\n\n        let shortList = [];\n        for (let key in value) {\n          if (value.hasOwnProperty(key)) {\n            shortList.push({text: value[key].text});\n          }\n        }\n        this.value = shortList;\n      }\n      this.updateTags = true;\n    }\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    initItems() {\n      if (this.currentTag.length < 2) {\n        return;\n      }\n      const url = document.getElementsByTagName('base')[0].href + `api/v1/autocomplete/tags?query=${this.currentTag}`;\n\n      clearTimeout(this.debounce);\n      this.debounce = setTimeout(() => {\n        axios.get(url).then(response => {\n          this.autocompleteItems = response.data.map(item => {\n            return {text: item.tag};\n          });\n        }).catch(() => console.warn('Oh. Something went wrong loading tags.'));\n      }, 300);\n    },\n  },\n\n\n}\n</script>\n<style>\n.vue-tags-input {\n  width: 100%;\n  max-width: 100% !important;\n  display: block;\n  border-radius: 0.25rem;\n}\n\n.ti-input {\n  border-radius: 0.25rem;\n  max-width: 100%;\n  width: 100%;\n}\n\n.ti-new-tag-input {\n  font-size: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionTags.vue?vue&type=template&id=ec497e92&\"\nimport script from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransactionTags.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.tags'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('vue-tags-input',{attrs:{\"add-only-from-autocomplete\":false,\"autocomplete-items\":_vm.autocompleteItems,\"tags\":_vm.tags,\"title\":_vm.$t('firefly.tags'),\"placeholder\":_vm.$t('firefly.tags')},on:{\"tags-changed\":function (newTags) { return this$1.tags = newTags; }},model:{value:(_vm.currentTag),callback:function ($$v) {_vm.currentTag=$$v},expression:\"currentTag\"}})],1),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionPiggyBank.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.piggy_bank') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"piggy_bank_id\"\n          :title=\"$t('firefly.piggy_bank')\"\n          v-model=\"value\"\n          autocomplete=\"off\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          name=\"piggy_bank_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"piggy in this.piggyList\" :value=\"piggy.id\" :label=\"piggy.name_with_balance\">{{ piggy.name_with_balance }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionPiggyBank\",\n  data() {\n    return {\n      piggyList: []\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n    collectData() {\n      this.piggyList.push(\n          {\n            id: 0,\n            name_with_balance: this.$t('firefly.no_piggy_bank'),\n          }\n      );\n      this.getPiggies();\n    },\n    getPiggies() {\n      axios.get('./api/v1/autocomplete/piggy-banks-with-balance')\n          .then(response => {\n                  this.parsePiggies(response.data);\n                }\n          );\n    },\n    parsePiggies(data) {\n      for (let key in data) {\n        if (data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data[key];\n          this.piggyList.push(\n              {\n                id: parseInt(current.id),\n                name_with_balance: current.name_with_balance\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'piggy_bank_id', index: this.index, value: value});\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                  ])\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionPiggyBank.vue?vue&type=template&id=0646debe&\"\nimport script from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.piggy_bank'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"piggy_bank_id\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.piggy_bank'),\"autocomplete\":\"off\",\"name\":\"piggy_bank_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.value=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.piggyList),function(piggy){return _c('option',{attrs:{\"label\":piggy.name_with_balance},domProps:{\"value\":piggy.id}},[_vm._v(_vm._s(piggy.name_with_balance))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.internal_reference') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          type=\"text\"\n          name=\"internal_reference[]\"\n          v-model=\"value\"\n          :placeholder=\"$t('firefly.internal_reference')\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n      />\n      <div class=\"input-group-append\">\n        <button tabindex=\"-1\" type=\"button\" class=\"btn btn-outline-secondary\"><i class=\"far fa-trash-alt\"></i></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionInternalReference\",\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'internal_reference', index: this.index, value: value});\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionInternalReference.vue?vue&type=template&id=017145fb&scoped=true&\"\nimport script from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"017145fb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.internal_reference'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"type\":\"text\",\"name\":\"internal_reference[]\",\"placeholder\":_vm.$t('firefly.internal_reference')},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.external_url') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          type=\"url\"\n          name=\"external_url[]\"\n          :placeholder=\"$t('firefly.external_url')\"\n          v-model=\"value\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n      />\n      <div class=\"input-group-append\">\n        <button tabindex=\"-1\" type=\"button\" class=\"btn btn-outline-secondary\"><i class=\"far fa-trash-alt\"></i></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionExternalUrl\",\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'external_url', index: this.index, value: value});\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionExternalUrl.vue?vue&type=template&id=542ac893&scoped=true&\"\nimport script from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"542ac893\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.external_url'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"type\":\"url\",\"name\":\"external_url[]\",\"placeholder\":_vm.$t('firefly.external_url')},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","<!--\n  - TransactionNotes.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.notes') }}\n    </div>\n    <div class=\"input-group\">\n      <textarea\n          v-model=\"value\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.notes')\"\n      ></textarea>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionNotes\",\n  methods: {\n    ...mapMutations(\n        [\n          'updateField',\n        ],\n    ),\n  },\n  watch: {\n    value: function (value) {\n      this.updateField({field: 'notes', index: this.index, value: value});\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionNotes.vue?vue&type=template&id=5f8039da&scoped=true&\"\nimport script from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f8039da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.notes'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.notes')},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionLinks.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"form-group\">\n      <div class=\"text-xs d-none d-lg-block d-xl-block\">\n        {{ $t('firefly.journal_links') }}\n      </div>\n      <div class=\"row\">\n        <div class=\"col\">\n          <p v-if=\"value.length === 0\">\n            <button data-toggle=\"modal\" data-target=\"#linkModal\" class=\"btn btn-default btn-xs\"><i class=\"fas fa-plus\"></i> Add transaction link</button>\n          </p>\n          <ul class=\"list-group\" v-if=\"value.length > 0\">\n            <li class=\"list-group-item\" v-for=\"transaction in value\">\n              <em>{{ getTextForLinkType(transaction.link_type_id) }}</em>\n              <a :href='\"./transaction/show/\" + transaction.transaction_group_id'>{{ transaction.description }}</a>\n\n              <span v-if=\"transaction.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount) * -1)\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <div class=\"btn-group btn-group-xs float-right\">\n                <a tabindex=\"-1\" href=\"#\" class=\"btn btn-xs btn-default\"><i class=\"far fa-edit\"></i></a>\n                <a tabindex=\"-1\" href=\"#\" class=\"btn btn-xs btn-danger\"><i class=\"far fa-trash-alt\"></i></a>\n              </div>\n            </li>\n          </ul>\n          <div class=\"form-text\" v-if=\"value.length > 0\">\n            <button data-toggle=\"modal\" data-target=\"#linkModal\" class=\"btn btn-default\"><i class=\"fas fa-plus\"></i></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- modal -->\n    <div class=\"modal\" tabindex=\"-1\" id=\"linkModal\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Transaction thing dialog.</h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"container-fluid\">\n              <div class=\"row\">\n                <div class=\"col\">\n                  <p>\n                    Use this form to search for transactions you wish to link to this one. When in doubt, use <code>id:*</code> where the ID is the number from\n                    the URL.\n                  </p>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <form v-on:submit.prevent=\"search\">\n                    <div class=\"input-group\">\n                      <input autocomplete=\"off\" maxlength=\"255\" type=\"text\" name=\"search\" v-model=\"query\" id=\"query\"\n                             class=\"form-control\" placeholder=\"Search query\">\n                      <div class=\"input-group-append\">\n                        <button type=\"submit\" class=\"btn btn-default\"><i class=\"fas fa-search\"></i> Search</button>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <span v-if=\"searching\"><i class=\"fas fa-spinner fa-spin\"></i></span>\n                  <h4 v-if=\"searchResults.length > 0\">Search results</h4>\n                  <table class=\"table table-sm\" v-if=\"searchResults.length > 0\">\n                    <thead>\n                    <tr>\n                      <th style=\"width:33%\" colspan=\"2\">Include?</th>\n                      <th>Transaction</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr v-for=\"result in searchResults\">\n                      <td>\n                        <input type=\"checkbox\" class=\"form-control\"\n                               @change=\"selectTransaction($event)\"\n                               v-model=\"result.selected\"\n                        />\n                      </td>\n                      <td>\n                        <select\n                            @change=\"selectLinkType($event)\"\n                            class=\"form-control\"\n                            v-model=\"result.link_type_id\"\n                        >\n                          <option v-for=\"linkType in linkTypes\" :value=\"linkType.id + '-' + linkType.direction\" :label=\"linkType.type\">{{\n                              linkType.type\n                            }}\n                          </option>\n                        </select>\n                      </td>\n                      <td>\n                        <a :href=\"'./transactions/show/' + result.transaction_group_id\">{{ result.description }}</a>\n                        <span v-if=\"result.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount) * -1)\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <br/>\n                        <em>\n                          <a :href=\"'./accounts/show/' + result.source_id\">{{ result.source_name }}</a>\n                          &rarr;\n                          <a :href=\"'./accounts/show/' + result.destination_id\">{{ result.destination_name }}</a>\n                        </em>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// TODO error handling\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionLinks\",\n  data() {\n    return {\n      searchResults: [],\n      include: [],\n      locale: 'en-US',\n      linkTypes: [],\n      query: '',\n      searching: false\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.getLinkTypes();\n  },\n  watch: {\n    value: function (value) {\n      //console.log('Selected transactions is now:');\n      //console.log(value);\n    }\n  },\n  methods: {\n    getTextForLinkType: function (linkTypeId) {\n      let parts = linkTypeId.split('-');\n      for (let i in this.linkTypes) {\n        if (this.linkTypes.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.linkTypes[i];\n          //console.log(parts);\n          //console.log(current);\n          if (parts[0] === current.id && parts[1] === current.direction) {\n            return current.type;\n          }\n        }\n      }\n      return 'text for #' + linkTypeId;\n    },\n    selectTransaction: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          if (current.selected) {\n            this.addToSelected(current);\n          }\n          if (!current.selected) {\n            // remove from\n            this.removeFromSelected(current);\n          }\n        }\n      }\n    },\n    selectLinkType: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          this.updateSelected(current.transaction_journal_id, current.link_type_id);\n        }\n      }\n    },\n    updateSelected(journalId, linkTypeId) {\n      for (let i in this.value) {\n        if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.value[i];\n          if (parseInt(current.transaction_journal_id) === journalId) {\n            this.value[i].link_type_id = linkTypeId;\n          }\n        }\n      }\n    },\n    addToSelected(journal) {\n      const result = this.value.find(({transaction_journal_id}) => transaction_journal_id === journal.transaction_journal_id);\n      if (typeof result === 'undefined') {\n        this.value.push(journal);\n      }\n    },\n    removeFromSelected(journal) {\n      for (let i in this.value) {\n        if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.value[i];\n          if (current.transaction_journal_id === journal.transaction_journal_id) {\n            this.value.splice(parseInt(i), 1);\n          }\n        }\n      }\n    },\n    getLinkTypes: function () {\n      let url = './api/v1/link_types';\n      axios.get(url)\n          .then(response => {\n                  this.parseLinkTypes(response.data);\n                }\n          );\n    },\n    parseLinkTypes: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = data.data[i];\n          let linkTypeInward = {\n            id: current.id,\n            type: current.attributes.inward,\n            direction: 'inward'\n          };\n          let linkTypeOutward = {\n            id: current.id,\n            type: current.attributes.outward,\n            direction: 'outward'\n          };\n          if (linkTypeInward.type === linkTypeOutward.type) {\n            linkTypeInward.type = linkTypeInward.type + ' ()';\n            linkTypeOutward.type = linkTypeOutward.type + ' ()';\n          }\n          this.linkTypes.push(linkTypeInward);\n          this.linkTypes.push(linkTypeOutward);\n        }\n      }\n    },\n    search: function () {\n      this.searching = true;\n      this.searchResults = [];\n      let url = './api/v1/search/transactions?limit=10&query=' + this.query;\n      axios.get(url)\n          .then(response => {\n                  this.parseSearch(response.data);\n                }\n          );\n    },\n    parseSearch: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          for (let ii in data.data[i].attributes.transactions) {\n            if (data.data[i].attributes.transactions.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n              let current = data.data[i].attributes.transactions[ii];\n              current.transaction_group_id = parseInt(data.data[i].id);\n              current.selected = this.isJournalSelected(current.transaction_journal_id);\n              current.link_type_id = this.getJournalLinkType(current.transaction_journal_id);\n              current.link_type_text = '';\n              this.searchResults.push(current);\n            }\n          }\n        }\n      }\n      this.searching = false;\n    },\n    getJournalLinkType: function (journalId) {\n      for (let i in this.value) {\n        if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.value[i];\n          if (current.transaction_journal_id === journalId) {\n            return current.link_type_id;\n          }\n        }\n      }\n      return '1-inward';\n    },\n    isJournalSelected: function (journalId) {\n      for (let i in this.value) {\n        if (this.value.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.value[i];\n          if (current.transaction_journal_id === journalId) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionLinks.vue?vue&type=template&id=259f774e&\"\nimport script from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.journal_links'))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.value.length === 0)?_c('p',[_vm._m(0)]):_vm._e(),_vm._v(\" \"),(_vm.value.length > 0)?_c('ul',{staticClass:\"list-group\"},_vm._l((_vm.value),function(transaction){return _c('li',{staticClass:\"list-group-item\"},[_c('em',[_vm._v(_vm._s(_vm.getTextForLinkType(transaction.link_type_id)))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"./transaction/show/\" + transaction.transaction_group_id}},[_vm._v(_vm._s(transaction.description))]),_vm._v(\" \"),(transaction.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_vm._m(1,true)])}),0):_vm._e(),_vm._v(\" \"),(_vm.value.length > 0)?_c('div',{staticClass:\"form-text\"},[_vm._m(2)]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal\",attrs:{\"tabindex\":\"-1\",\"id\":\"linkModal\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container-fluid\"},[_vm._m(4),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"form-control\",attrs:{\"autocomplete\":\"off\",\"maxlength\":\"255\",\"type\":\"text\",\"name\":\"search\",\"id\":\"query\",\"placeholder\":\"Search query\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_vm._m(5)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.searching)?_c('span',[_c('i',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('h4',[_vm._v(\"Search results\")]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('table',{staticClass:\"table table-sm\"},[_vm._m(6),_vm._v(\" \"),_c('tbody',_vm._l((_vm.searchResults),function(result){return _c('tr',[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.selected),expression:\"result.selected\"}],staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(result.selected)?_vm._i(result.selected,null)>-1:(result.selected)},on:{\"change\":[function($event){var $$a=result.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(result, \"selected\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(result, \"selected\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(result, \"selected\", $$c)}},function($event){return _vm.selectTransaction($event)}]}})]),_vm._v(\" \"),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.link_type_id),expression:\"result.link_type_id\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(result, \"link_type_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.selectLinkType($event)}]}},_vm._l((_vm.linkTypes),function(linkType){return _c('option',{attrs:{\"label\":linkType.type},domProps:{\"value\":linkType.id + '-' + linkType.direction}},[_vm._v(_vm._s(linkType.type)+\"\\n                        \")])}),0)]),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"href\":'./transactions/show/' + result.transaction_group_id}},[_vm._v(_vm._s(result.description))]),_vm._v(\" \"),(result.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('em',[_c('a',{attrs:{\"href\":'./accounts/show/' + result.source_id}},[_vm._v(_vm._s(result.source_name))]),_vm._v(\"\\n                        \\n                        \"),_c('a',{attrs:{\"href\":'./accounts/show/' + result.destination_id}},[_vm._v(_vm._s(result.destination_name))])])])])}),0)]):_vm._e()])])])]),_vm._v(\" \"),_vm._m(7)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-default btn-xs\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#linkModal\"}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add transaction link\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-group btn-group-xs float-right\"},[_c('a',{staticClass:\"btn btn-xs btn-default\",attrs:{\"tabindex\":\"-1\",\"href\":\"#\"}},[_c('i',{staticClass:\"far fa-edit\"})]),_vm._v(\" \"),_c('a',{staticClass:\"btn btn-xs btn-danger\",attrs:{\"tabindex\":\"-1\",\"href\":\"#\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-default\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#linkModal\"}},[_c('i',{staticClass:\"fas fa-plus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Transaction thing dialog.\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('p',[_vm._v(\"\\n                  Use this form to search for transactions you wish to link to this one. When in doubt, use \"),_c('code',[_vm._v(\"id:*\")]),_vm._v(\" where the ID is the number from\\n                  the URL.\\n                \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-search\"}),_vm._v(\" Search\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"33%\"},attrs:{\"colspan\":\"2\"}},[_vm._v(\"Include?\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Transaction\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionAttachments.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.attachments') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          type=\"file\"\n          multiple\n          ref=\"att\"\n          name=\"attachments[]\"\n          class=\"form-control\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionAttachments\",\n  props: ['transaction_journal_id'],\n  watch: {\n    transaction_journal_id: function (value) {\n      // console.log('transaction_journal_id changed to ' + value);\n      // do upload!\n      if (0 !== value) {\n        this.doUpload();\n      }\n    }\n  },\n  methods: {\n    doUpload: function () {\n      // console.log('Now in doUpload() for ' + this.$refs.att.files.length + ' files.');\n      for (let i in this.$refs.att.files) {\n        if (this.$refs.att.files.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.$refs.att.files[i];\n          let fileReader = new FileReader();\n          let theParent = this; // dont ask me why i need to do this.\n          fileReader.onloadend = function (evt) {\n            if (evt.target.readyState === FileReader.DONE) {\n              // do upload here\n              const uri = './api/v1/attachments';\n              const data = {\n                filename: current.name,\n                attachable_type: 'TransactionJournal',\n                attachable_id: theParent.transaction_journal_id,\n              };\n              // create new attachment:\n              axios.post(uri, data).then(response => {\n                // upload actual file:\n                const uploadUri = './api/v1/attachments/' + response.data.data.id + '/upload';\n                axios\n                    .post(uploadUri, new Blob([evt.target.result]))\n                    .then(attachmentResponse => {\n                      // TODO feedback etc.\n                      // console.log('Uploaded a file.');\n                      // console.log(attachmentResponse);\n                      theParent.$emit('uploaded-attachments', this.transaction_journal_id);\n                    });\n              });\n            }\n          }\n          fileReader.readAsArrayBuffer(current);\n        }\n      }\n      if (0 === this.$refs.att.files.length) {\n        // console.log('No files to upload.');\n        this.$emit('uploaded-attachments', this.transaction_journal_id);\n      }\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionAttachments.vue?vue&type=template&id=7409d186&scoped=true&\"\nimport script from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7409d186\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.attachments'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{ref:\"att\",staticClass:\"form-control\",attrs:{\"type\":\"file\",\"multiple\":\"\",\"name\":\"attachments[]\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionGroupTitle.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.split_transaction_title') }}\n    </div>\n    <vue-typeahead-bootstrap\n        inputName=\"group_title\"\n        v-model=\"value\"\n        :data=\"descriptions\"\n        :placeholder=\"$t('firefly.split_transaction_title')\"\n        :showOnFocus=true\n        :minMatchingChars=\"3\"\n        :serializer=\"item => item.description\"\n        @input=\"lookupDescription\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button tabindex=\"-1\" v-on:click=\"clearDescription\" class=\"btn btn-outline-secondary\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n\n  </div>\n</template>\n\n<script>\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\nimport {createNamespacedHelpers} from \"vuex\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\nexport default {\n  props: ['value', 'errors'],\n  name: \"TransactionGroupTitle\",\n  components: {VueTypeaheadBootstrap},\n  data() {\n    return {\n      descriptions: [],\n      initialSet: []\n    }\n  },\n\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n  watch: {\n    value: function (value) {\n      //console.log('set');\n      this.setGroupTitle({groupTitle: value});\n    }\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'setGroupTitle'\n        ],\n    ),\n    ...mapGetters(\n        [\n          'groupTitle'\n        ]\n    ),\n    clearDescription: function () {\n      this.setGroupTitle({groupTitle: ''});\n      this.value = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionGroupTitle.vue?vue&type=template&id=256c129e&scoped=true&\"\nimport script from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"256c129e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.split_transaction_title'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"inputName\":\"group_title\",\"data\":_vm.descriptions,\"placeholder\":_vm.$t('firefly.split_transaction_title'),\"showOnFocus\":true,\"minMatchingChars\":3,\"serializer\":function (item) { return item.description; },\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : ''},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - Create.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"alert alert-danger alert-dismissible\" v-if=\"errorMessage.length > 0\">\n      <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\"></button>\n      <h5><i class=\"icon fas fa-ban\"></i> {{ $t(\"firefly.flash_error\") }}</h5>\n      {{ errorMessage }}\n    </div>\n\n    <div class=\"alert alert-success alert-dismissible\" v-if=\"successMessage.length > 0\">\n      <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\"></button>\n      <h5><i class=\"icon fas fa-thumbs-up\"></i> {{ $t(\"firefly.flash_success\") }}</h5>\n      <span v-html=\"successMessage\"></span>\n    </div>\n\n    <div class=\"row\" v-if=\"transactions.length > 1\">\n      <div class=\"col\">\n        <!-- tabs -->\n        <ul class=\"nav nav-pills ml-auto p-2\">\n          <li v-for=\"(transaction, index) in this.transactions\" class=\"nav-item\"><a :class=\"'nav-link' + (0===index ? ' active' : '')\" :href=\"'#split_' + index\"\n                                                                                    data-toggle=\"tab\">\n            <span v-if=\"'' !== transaction.description\">{{ transaction.description }}</span>\n            <span v-if=\"'' === transaction.description\">Split {{ index + 1 }}</span>\n          </a></li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"tab-content\">\n      <div v-for=\"(transaction, index) in this.transactions\" :class=\"'tab-pane' + (0===index ? ' active' : '')\" :id=\"'split_' + index\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card\">\n              <div class=\"card-header\">\n                <h3 class=\"card-title\">\n                  {{ $t('firefly.basic_journal_information') }}\n                  <span v-if=\"transactions.length > 1\">({{ index + 1 }} / {{ transactions.length }}) </span>\n                </h3>\n              </div>\n              <div class=\"card-body\">\n                <!-- start of body -->\n                <div class=\"row\">\n                  <div class=\"col\">\n                    <TransactionDescription\n                        v-model=\"transaction.description\"\n                        :index=\"index\"\n                        :errors=\"transaction.errors.description\"\n                    ></TransactionDescription>\n                  </div>\n                </div>\n                <!-- source and destination -->\n                <div class=\"row\">\n                  <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                    <!-- SOURCE -->\n                    <TransactionAccount\n                        v-model=\"transaction.source_account\"\n                        direction=\"source\"\n                        :index=\"index\"\n                        :errors=\"transaction.errors.source\"\n                    />\n                  </div>\n                  <!-- switcharoo! -->\n                  <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                    <SwitchAccount v-if=\"0 === index\"\n                                   :index=\"index\"\n                    />\n                  </div>\n\n                  <!-- destination -->\n                  <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                    <!-- DESTINATION -->\n                    <TransactionAccount\n                        v-model=\"transaction.destination_account\"\n                        direction=\"destination\"\n                        :index=\"index\"\n                        :errors=\"transaction.errors.destination\"\n                    />\n                  </div>\n                </div>\n\n\n                <!-- amount  -->\n                <div class=\"row\">\n                  <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                    <!-- AMOUNT -->\n                    <TransactionAmount :index=\"index\" :errors=\"transaction.errors.amount\"/>\n                    <!--\n\n                    -->\n                  </div>\n                  <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                    <TransactionForeignCurrency :index=\"index\"/>\n                  </div>\n                  <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                    <TransactionForeignAmount :index=\"index\" :errors=\"transaction.errors.foreign_amount\"/>\n                  </div>\n                </div>\n\n                <!-- dates -->\n                <div class=\"row\">\n                  <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                    <TransactionDate\n                        :index=\"index\"\n                        :errors=\"transaction.errors.date\"\n                    />\n                  </div>\n\n                  <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\">\n                    <TransactionCustomDates :index=\"index\" :enabled-dates=\"customDateFields\" :errors=\"transaction.errors.custom_dates\"/>\n                  </div>\n                </div>\n\n                <!-- end of body -->\n              </div>\n            </div>\n          </div>\n        </div> <!-- end of basic card -->\n\n        <!-- card for meta -->\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card\">\n              <div class=\"card-header\">\n                <h3 class=\"card-title\">\n                  {{ $t('firefly.transaction_journal_meta') }}\n                  <span v-if=\"transactions.length > 1\">({{ index + 1 }} / {{ transactions.length }}) </span>\n                </h3>\n              </div>\n              <div class=\"card-body\">\n                <!-- start of body -->\n                <!-- meta -->\n                <div class=\"row\">\n                  <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                    <TransactionBudget\n                        v-model=\"transaction.budget_id\"\n                        :index=\"index\"\n                        :errors=\"transaction.errors.budget\"\n                        v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    />\n                    <TransactionCategory\n                        v-model=\"transaction.category\"\n                        :index=\"index\"\n                        :errors=\"transaction.errors.category\"\n                    />\n                  </div>\n                  <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                    <TransactionBill\n                        v-model=\"transaction.bill_id\"\n                        :index=\"index\"\n                        :errors=\"transaction.errors.bill\"\n                        v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    />\n                    <TransactionTags\n                        :index=\"index\"\n                        v-model=\"transaction.tags\"\n                        :errors=\"transaction.errors.tags\"\n                    />\n                    <TransactionPiggyBank\n                        :index=\"index\"\n                        v-model=\"transaction.piggy_bank_id\"\n                        :errors=\"transaction.errors.piggy_bank\"\n                        v-if=\"!('Withdrawal' === transactionType || 'Deposit' === transactionType)\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- end card for meta -->\n        <!-- card for extra -->\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card\">\n              <div class=\"card-header\">\n                <h3 class=\"card-title\">\n                  {{ $t('firefly.transaction_journal_meta') }}\n                  <span v-if=\"transactions.length > 1\">({{ index + 1 }} / {{ transactions.length }}) </span>\n                </h3>\n              </div>\n              <div class=\"card-body\">\n                <!-- start of body -->\n                <div class=\"row\">\n                  <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                    <TransactionInternalReference\n                        :index=\"index\"\n                        v-model=\"transaction.internal_reference\"\n                        :errors=\"transaction.errors.internal_reference\"\n                    />\n\n                    <TransactionExternalUrl\n                        :index=\"index\"\n                        v-model=\"transaction.external_url\"\n                        :errors=\"transaction.errors.external_url\"\n                    />\n                    <TransactionNotes\n                        :index=\"index\"\n                        v-model=\"transaction.notes\"\n                        :errors=\"transaction.errors.notes\"\n                    />\n                  </div>\n                  <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                    <TransactionAttachments\n                        :index=\"index\"\n                        ref=\"attachments\"\n                        :transaction_journal_id=\"transaction.transaction_journal_id\"\n                        :submitted_transaction=\"submittedTransaction\"\n                        v-model=\"transaction.attachments\"\n                        v-on:uploaded-attachments=\"uploadedAttachment($event)\"\n                    />\n\n                    <TransactionLinks :index=\"index\"\n                                      v-model=\"transaction.links\"\n                    />\n                  </div>\n\n                </div>\n                <!-- end of body -->\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- end card for extra -->\n        <!-- end of card -->\n      </div>\n    </div>\n    <div class=\"row\">\n      <!-- group title -->\n      <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <div class=\"card\" v-if=\"transactions.length > 1\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionGroupTitle v-model=\"this.groupTitle\" :errors=\"this.groupTitleErrors\"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                  &nbsp;\n                </div>\n                <button @click=\"addTransaction\" class=\"btn btn-outline-primary btn-block\"><i class=\"far fa-clone\"></i> {{ $t('firefly.add_another_split') }}\n                </button>\n              </div>\n              <div class=\"col\">\n                <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                  &nbsp;\n                </div>\n                <button class=\"btn btn-success btn-block\" @click=\"submitTransaction\" :disabled=\"!enableSubmit\">\n                  <span v-if=\"enableSubmit\"><i class=\"far fa-save\"></i> {{ $t('firefly.store_transaction') }}</span>\n                  <span v-if=\"!enableSubmit\"><i class=\"fas fa-spinner fa-spin\"></i></span>\n                </button>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                &nbsp;\n              </div>\n              <div class=\"col\">\n                <div class=\"form-check\">\n                  <input class=\"form-check-input\" type=\"checkbox\" v-model=\"createAnother\" id=\"createAnother\">\n                  <label class=\"form-check-label\" for=\"createAnother\">\n                    <span class=\"small\">{{ $t('firefly.create_another') }}</span>\n                  </label>\n                </div>\n                <div class=\"form-check\">\n                  <input class=\"form-check-input\" type=\"checkbox\" v-model=\"resetFormAfter\" id=\"resetFormAfter\" :disabled=\"!createAnother\">\n                  <label class=\"form-check-label\" for=\"resetFormAfter\">\n                    <span class=\"small\">{{ $t('firefly.reset_after') }}</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\n\nimport TransactionDescription from \"./TransactionDescription\";\nimport TransactionDate from \"./TransactionDate\";\nimport TransactionBudget from \"./TransactionBudget\";\nimport TransactionAccount from \"./TransactionAccount\";\nimport SwitchAccount from \"./SwitchAccount\";\nimport TransactionAmount from \"./TransactionAmount\";\nimport TransactionForeignAmount from \"./TransactionForeignAmount\";\nimport TransactionForeignCurrency from \"./TransactionForeignCurrency\";\nimport TransactionCustomDates from \"./TransactionCustomDates\";\nimport TransactionCategory from \"./TransactionCategory\";\nimport TransactionBill from \"./TransactionBill\";\nimport TransactionTags from \"./TransactionTags\";\nimport TransactionPiggyBank from \"./TransactionPiggyBank\";\nimport TransactionInternalReference from \"./TransactionInternalReference\";\nimport TransactionExternalUrl from \"./TransactionExternalUrl\";\nimport TransactionNotes from \"./TransactionNotes\";\nimport TransactionLinks from \"./TransactionLinks\";\nimport TransactionAttachments from \"./TransactionAttachments\";\nimport TransactionGroupTitle from \"./TransactionGroupTitle\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"Create\",\n  components: {\n    TransactionAttachments,\n    TransactionNotes,\n    TransactionExternalUrl,\n    TransactionGroupTitle,\n    TransactionInternalReference,\n    TransactionPiggyBank,\n    TransactionTags,\n    TransactionLinks,\n    TransactionBill,\n    TransactionCategory,\n    TransactionCustomDates,\n    TransactionForeignCurrency,\n    TransactionForeignAmount, TransactionAmount, SwitchAccount, TransactionAccount, TransactionBudget, TransactionDescription, TransactionDate\n  },\n  created() {\n    this.storeAllowedOpposingTypes();\n    this.storeAccountToTransaction();\n    this.storeCustomDateFields();\n    this.addTransaction();\n  },\n  data() {\n    return {\n      // error or success message\n      errorMessage: '',\n      successMessage: '',\n\n      // states for the form (makes sense right)\n      enableSubmit: true,\n      createAnother: false,\n      resetFormAfter: false,\n\n      // things the process is done working on (3 phases):\n      submittedTransaction: false,\n      submittedLinks: false,\n      submittedAttachments: false,\n\n      // transaction was actually submitted?\n      inError: false,\n\n      // number of uploaded attachments\n      // its an object because we count per transaction journal (which can have multiple attachments)\n      // and array doesn't work right.\n      submittedAttCount: {},\n\n      // errors in the group title:\n      groupTitleErrors: [],\n\n      // group ID + title once submitted:\n      groupId: 0,\n      groupTitle: '',\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType', // -> this.someGetter\n                    'transactions', // -> this.someOtherGetter\n                    'customDateFields',\n                    'date',\n                    'groupTitle'\n                  ])\n  },\n  watch: {\n    submittedTransaction: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    },\n    submittedLinks: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    },\n    submittedAttachments: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    }\n  },\n  methods: {\n    /**\n     * Store related mutators used by this component.\n     */\n    ...mapMutations(\n        [\n          'addTransaction',\n          'deleteTransaction',\n          'setAllowedOpposingTypes',\n          'setAccountToTransaction',\n          'setTransactionError',\n          'resetErrors',\n          'updateField',\n          'resetTransactions'\n        ],\n    ),\n    /**\n     * Removes a split from the array.\n     */\n    removeTransaction: function (index) {\n      this.$store.commit('transactions/create/deleteTransaction', {index: index});\n    },\n    /**\n     * This method grabs the users preferred custom transaction fields. It's used when configuring the\n     * custom date selects that will be available. It could be something the component does by itself,\n     * thereby separating concerns. This is on my list. If it changes to a per-component thing, then\n     * it should be done via the create.js Vue store because multiple components are interested in the\n     * user's custom transaction fields.\n     */\n    storeCustomDateFields: function () {\n      axios.get('./api/v1/preferences/transaction_journal_optional_fields').then(response => {\n        let fields = response.data.data.attributes.data;\n        let allDateFields = ['interest_date', 'book_date', 'process_date', 'due_date', 'payment_date', 'invoice_date'];\n        let selectedDateFields = {\n          interest_date: false,\n          book_date: false,\n          process_date: false,\n          due_date: false,\n          payment_date: false,\n          invoice_date: false,\n        };\n        for (let key in fields) {\n          if (fields.hasOwnProperty(key)) {\n            if (-1 !== allDateFields.indexOf(key)) {\n              selectedDateFields[key] = fields[key];\n            }\n          }\n        }\n        // see we already store it in the store, so this would be an easy change.\n        this.$store.commit('transactions/create/setCustomDateFields', selectedDateFields);\n      });\n    },\n    /**\n     * Submitting a transaction consists of 3 steps: submitting the transaction, uploading attachments\n     * and creating links. Only once all three steps are executed may the message be shown or the user be\n     * forwarded.\n     */\n    finalizeSubmit() {\n      // console.log('finalizeSubmit (' + this.submittedTransaction + ', ' + this.submittedAttachments + ', ' + this.submittedLinks + ')');\n      if (this.submittedTransaction && this.submittedAttachments && this.submittedLinks) {\n        if (false === this.createAnother && false === this.inError) {\n          window.location.href = (window.previousURL ?? '/') + '?transaction_group_id=' + this.groupId + '&message=created';\n          return;\n        }\n        // enable flags:\n        this.enableSubmit = true;\n        this.submittedTransaction = false;\n        this.submittedLinks = false;\n        this.submittedAttachments = false;\n        this.inError = false;\n\n        // show message:\n        this.errorMessage = '';\n        this.successMessage = this.$t('firefly.transaction_stored_link', {ID: this.groupId, title: this.groupTitle});\n\n        // reset attachments (always do this)\n        for (let i in this.transactions) {\n          if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n            if (this.transactions.hasOwnProperty(i)) {\n              // console.log('Reset attachment #' + i);\n              this.updateField({index: i, field: 'transaction_journal_id', value: 0});\n            }\n          }\n        }\n        this.submittedAttCount = [];\n\n        // reset the form:\n        if (this.resetFormAfter) {\n          this.resetTransactions();\n          // do a short time out?\n          setTimeout(() => this.addTransaction(), 50);\n        }\n        // console.log('Done with finalizeSubmit!');\n        // return;\n      }\n      // console.log('Did nothing in finalizeSubmit');\n    },\n    /**\n     * Actually submit the transaction to Firefly III. This is a fairly complex beast of a thing because multiple things\n     * need to happen in the right order.\n     */\n    submitTransaction: function () {\n      // disable the submit button:\n      this.enableSubmit = false;\n      // console.log('enable submit = false');\n\n      // convert the data so its ready to be submitted:\n      const url = './api/v1/transactions';\n      const data = this.convertData();\n\n      // POST the transaction.\n      axios.post(url, data)\n          .then(response => {\n            // report the transaction is submitted.\n            this.submittedTransaction = true;\n\n            // submit links and attachments (can only be done when the transaction is created)\n            this.submitTransactionLinks(data, response);\n            this.submitAttachments(data, response);\n\n            // meanwhile, store the ID and the title in some easy to access variables.\n            this.groupId = parseInt(response.data.data.id);\n            this.groupTitle = null === response.data.data.attributes.group_title ? response.data.data.attributes.transactions[0].description : response.data.data.attributes.group_title;\n            // console.log('Group title is now \"' + this.groupTitle + '\"');\n          })\n          .catch(error => {\n            // oh noes Firefly III has something to bitch about.\n            this.enableSubmit = true;\n            // console.log('enable submit = true');\n            // report the transaction is submitted.\n            this.submittedTransaction = true;\n            // also report attachments and links are submitted:\n            this.submittedAttachments = true;\n            this.submittedLinks = true;\n\n            // but report an error because error:\n            this.inError = true;\n            this.parseErrors(error.response.data);\n          });\n    },\n\n    /**\n     * Submitting transactions means we will give each TransactionAttachment component\n     * the ID of the transaction journal (so it works for multiple splits). Each component\n     * will then start uploading their transactions (so its a separated concern) and report\n     * back to the \"uploadedAttachment\" function below via an event emitter.\n     *\n     * The ID is set via the store.\n     */\n    submitAttachments: function (data, response) {\n      // console.log('submitAttachments');\n      let result = response.data.data.attributes.transactions\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          if (result.hasOwnProperty(i)) {\n            this.updateField({index: i, field: 'transaction_journal_id', value: result[0].transaction_journal_id});\n          }\n        }\n      }\n    },\n    /**\n     * When a attachment component is done uploading it ends up here. We create an object where we count how many\n     * attachment components have reported back they're done uploading. Of course if they have nothing to upload\n     * they will be pretty fast in reporting they're done.\n     *\n     * Once the number of components matches the number of splits we know all attachments have been uploaded.\n     */\n    uploadedAttachment: function (journalId) {\n      // console.log('Triggered uploadedAttachment(' + journalId + ')');\n      let key = 'str' + journalId;\n      this.submittedAttCount[key] = 1;\n      let count = Object.keys(this.submittedAttCount).length;\n      if (count === this.transactions.length) {\n        // mark the attachments as stored:\n        this.submittedAttachments = true;\n      }\n    },\n\n    submitTransactionLinks(data, response) {\n      let promises = [];\n      let result = response.data.data.attributes.transactions;\n      let total = 0;\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let submitted = data.transactions[i];\n          if (result.hasOwnProperty(i)) {\n            // found matching created transaction.\n            let received = result[i];\n            // grab ID from received, loop \"submitted\" transaction links\n            for (let ii in submitted.links) {\n              if (submitted.links.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                let currentLink = submitted.links[ii];\n                total++;\n                if (0 === currentLink.outward_id) {\n                  currentLink.outward_id = received.transaction_journal_id;\n                }\n                if (0 === currentLink.inward_id) {\n                  currentLink.inward_id = received.transaction_journal_id;\n                }\n                // submit transaction link:\n                promises.push(axios.post('./api/v1/transaction_links', currentLink).then(response => {\n                  // TODO error handling.\n                }));\n              }\n            }\n          }\n        }\n      }\n      if (0 === total) {\n        this.submittedLinks = true;\n        return;\n      }\n      Promise.all(promises).then(function () {\n        this.submittedLinks = true;\n      });\n    },\n\n    parseErrors: function (errors) {\n      for (let i in this.transactions) {\n        this.resetErrors({index: i});\n      }\n      this.successMessage = '';\n      this.errorMessage = this.$t('firefly.errors_submission');\n      if (typeof errors.errors === 'undefined') {\n        this.successMessage = '';\n        this.errorMessage = errors.message;\n      }\n\n      let payload;\n      //payload = {index: 0, field: 'description', errors: ['Test error index 0']};\n      //this.setTransactionError(payload);\n\n      //payload = {index: 1, field: 'description', errors: ['Test error index 1']};\n      //this.setTransactionError(payload);\n\n      let transactionIndex;\n      let fieldName;\n\n      // fairly basic way of exploding the error array.\n      for (const key in errors.errors) {\n        // console.log('Error index: \"' + key + '\"');\n        if (errors.errors.hasOwnProperty(key)) {\n          if (key === 'group_title') {\n            this.groupTitleErrors = errors.errors[key];\n            continue;\n          }\n          if (key !== 'group_title') {\n            // lol dumbest way to explode \"transactions.0.something\" ever.\n            transactionIndex = parseInt(key.split('.')[1]);\n\n            fieldName = key.split('.')[2];\n\n            // set error in this object thing.\n            // console.log('The errors in key \"' + key + '\" are');\n            // console.log(errors.errors[key]);\n            switch (fieldName) {\n              case 'amount':\n              case 'description':\n              case 'date':\n              case 'tags':\n                payload = {index: transactionIndex, field: fieldName, errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'budget_id':\n                payload = {index: transactionIndex, field: 'budget', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'bill_id':\n                payload = {index: transactionIndex, field: 'bill', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'piggy_bank_id':\n                payload = {index: transactionIndex, field: 'piggy_bank', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'category_name':\n                payload = {index: transactionIndex, field: 'category', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'source_name':\n              case 'source_id':\n                payload = {index: transactionIndex, field: 'source', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'destination_name':\n              case 'destination_id':\n                payload = {index: transactionIndex, field: 'destination', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'foreign_amount':\n              case 'foreign_currency':\n                payload = {index: transactionIndex, field: 'foreign_amount', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n            }\n          }\n          // unique some things\n          if (typeof this.transactions[transactionIndex] !== 'undefined') {\n            //this.transactions[transactionIndex].errors.source = Array.from(new Set(this.transactions[transactionIndex].errors.source));\n            //this.transactions[transactionIndex].errors.destination = Array.from(new Set(this.transactions[transactionIndex].errors.destination));\n          }\n\n        }\n      }\n    },\n\n    /**\n     *\n     */\n    convertData: function () {\n      //console.log('now in convertData');\n      let data = {\n        'transactions': []\n      };\n      if (this.groupTitle.length > 0) {\n        data.group_title = this.groupTitle;\n      }\n\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          data.transactions.push(this.convertSplit(i, this.transactions[i]));\n        }\n      }\n      if (data.transactions.length > 1) {\n        data.group_title = data.transactions[0].description;\n      }\n\n      // depending on the transaction type for this thing, we need to\n      // make sure other splits match the data we submit.\n      if (data.transactions.length > 1) {\n        // console.log('This is a split!');\n        data = this.synchronizeAccounts(data);\n      }\n\n      return data;\n    },\n    synchronizeAccounts: function (data) {\n      // console.log('synchronizeAccounts: ' + this.transactionType);\n      // make sure all splits have whatever is in split 0.\n      // since its a transfer we can drop the name and use ID's only.\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          // console.log('now at ' + i);\n\n          // for transfers, overrule both the source and the destination:\n          if ('Transfer' === this.transactionType) {\n            data.transactions[i].source_name = null;\n            data.transactions[i].destination_name = null;\n            if (i > 0) {\n              data.transactions[i].source_id = data.transactions[0].source_id;\n              data.transactions[i].destination_id = data.transactions[0].destination_id;\n            }\n          }\n          // for deposits, overrule the destination and ignore the rest.\n          if ('Deposit' === this.transactionType) {\n            data.transactions[i].destination_name = null;\n            if (i > 0) {\n              data.transactions[i].destination_id = data.transactions[0].destination_id;\n            }\n          }\n\n          // for withdrawals, overrule the source and ignore the rest.\n          if ('Withdrawal' === this.transactionType) {\n            data.transactions[i].source_name = null;\n            if (i > 0) {\n              data.transactions[i].source_id = data.transactions[0].source_id;\n            }\n          }\n        }\n      }\n      return data;\n\n    },\n\n\n    /**\n     *\n     * @param key\n     * @param array\n     */\n    convertSplit: function (key, array) {\n      let dateStr = 'invalid';\n      if (this.date instanceof Date && !isNaN(this.date)) {\n        dateStr = this.toW3CString(this.date);\n      }\n      let currentSplit = {\n        // basic\n        description: array.description,\n        date: dateStr,\n        type: this.transactionType,\n\n        // account\n        source_id: array.source_account.id ?? null,\n        source_name: array.source_account.name ?? null,\n        destination_id: array.destination_account.id ?? null,\n        destination_name: array.destination_account.name ?? null,\n\n        // amount:\n        currency_id: array.currency_id,\n        amount: array.amount,\n\n        // meta data\n        budget_id: array.budget_id,\n        category_name: array.category,\n        tags: array.tags,\n\n        // optional date fields (6x):\n        interest_date: array.interest_date,\n        book_date: array.book_date,\n        process_date: array.process_date,\n        due_date: array.due_date,\n        payment_date: array.payment_date,\n        invoice_date: array.invoice_date,\n\n        // other optional fields:\n        internal_reference: array.internal_reference,\n        external_url: array.external_url,\n        notes: array.notes,\n        external_id: array.external_id,\n\n        // from thing:\n        order: 0,\n        reconciled: false,\n      };\n      // bills and piggy banks\n      if (0 !== array.piggy_bank_id) {\n        currentSplit.piggy_bank_id = array.piggy_bank_id;\n      }\n      if (0 !== array.bill_id) {\n        currentSplit.bill_id = array.bill_id;\n      }\n\n      // foreign amount:\n      if (0 !== array.foreign_currency_id) {\n        currentSplit.foreign_currency_id = array.foreign_currency_id;\n      }\n      if ('' !== array.foreign_amount) {\n        currentSplit.foreign_amount = array.foreign_amount;\n      }\n\n      // do transaction type\n      let transactionType;\n      let firstSource;\n      let firstDestination;\n\n      // get transaction type from first transaction\n      transactionType = this.transactionType ? this.transactionType.toLowerCase() : 'any';\n      //console.log('Transaction type is now ' + transactionType);\n      // if the transaction type is invalid, might just be that we can deduce it from\n      // the presence of a source or destination account\n      firstSource = this.transactions[0].source_account.type;\n      firstDestination = this.transactions[0].destination_account.type;\n      //console.log(this.transactions[0].source_account);\n      //console.log(this.transactions[0].destination_account);\n      //console.log('Type of first source is  ' + firstSource);\n      //console.log('Type of first destination is  ' + firstDestination);\n\n      if ('any' === transactionType && ['asset', 'Asset account', 'Loan', 'Debt', 'Mortgage'].includes(firstSource)) {\n        transactionType = 'withdrawal';\n      }\n\n      if ('any' === transactionType && ['asset', 'Asset account', 'Loan', 'Debt', 'Mortgage'].includes(firstDestination)) {\n        transactionType = 'deposit';\n      }\n      currentSplit.type = transactionType;\n      //console.log('Final type is ' + transactionType);\n\n      let links = [];\n      for (let i in array.links) {\n        if (array.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = array.links[i];\n          let linkTypeParts = current.link_type_id.split('-');\n          let inwardId = 'outward' === linkTypeParts[1] ? 0 : parseInt(current.transaction_journal_id);\n          let outwardId = 'inward' === linkTypeParts[1] ? 0 : parseInt(current.transaction_journal_id);\n          let newLink = {\n            link_type_id: parseInt(linkTypeParts[0]),\n            inward_id: inwardId,\n            outward_id: outwardId,\n          };\n          links.push(newLink);\n        }\n      }\n      currentSplit.links = links;\n\n      // return it.\n      return currentSplit;\n    },\n    toW3CString: function (date) {\n      // https://gist.github.com/tristanlins/6585391\n      let year = date.getFullYear();\n      let month = date.getMonth();\n      month++;\n      if (month < 10) {\n        month = '0' + month;\n      }\n      let day = date.getDate();\n      if (day < 10) {\n        day = '0' + day;\n      }\n      let hours = date.getHours();\n      if (hours < 10) {\n        hours = '0' + hours;\n      }\n      let minutes = date.getMinutes();\n      if (minutes < 10) {\n        minutes = '0' + minutes;\n      }\n      let seconds = date.getSeconds();\n      if (seconds < 10) {\n        seconds = '0' + seconds;\n      }\n      let offset = -date.getTimezoneOffset();\n      let offsetHours = Math.abs(Math.floor(offset / 60));\n      let offsetMinutes = Math.abs(offset) - offsetHours * 60;\n      if (offsetHours < 10) {\n        offsetHours = '0' + offsetHours;\n      }\n      if (offsetMinutes < 10) {\n        offsetMinutes = '0' + offsetMinutes;\n      }\n      let offsetSign = '+';\n      if (offset < 0) {\n        offsetSign = '-';\n      }\n      return year + '-' + month + '-' + day +\n             'T' + hours + ':' + minutes + ':' + seconds +\n             offsetSign + offsetHours + ':' + offsetMinutes;\n    },\n    storeAllowedOpposingTypes: function () {\n      this.setAllowedOpposingTypes(window.allowedOpposingTypes);\n    },\n    storeAccountToTransaction: function () {\n      this.setAccountToTransaction(window.accountToTransaction);\n    },\n\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=40db66c2&scoped=true&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40db66c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.errorMessage.length > 0)?_c('div',{staticClass:\"alert alert-danger alert-dismissible\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-hidden\":\"true\"}},[_vm._v(\"\")]),_vm._v(\" \"),_c('h5',[_c('i',{staticClass:\"icon fas fa-ban\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"firefly.flash_error\")))]),_vm._v(\"\\n    \"+_vm._s(_vm.errorMessage)+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.successMessage.length > 0)?_c('div',{staticClass:\"alert alert-success alert-dismissible\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-hidden\":\"true\"}},[_vm._v(\"\")]),_vm._v(\" \"),_c('h5',[_c('i',{staticClass:\"icon fas fa-thumbs-up\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"firefly.flash_success\")))]),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.successMessage)}})]):_vm._e(),_vm._v(\" \"),(_vm.transactions.length > 1)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('ul',{staticClass:\"nav nav-pills ml-auto p-2\"},_vm._l((this.transactions),function(transaction,index){return _c('li',{staticClass:\"nav-item\"},[_c('a',{class:'nav-link' + (0===index ? ' active' : ''),attrs:{\"href\":'#split_' + index,\"data-toggle\":\"tab\"}},[('' !== transaction.description)?_c('span',[_vm._v(_vm._s(transaction.description))]):_vm._e(),_vm._v(\" \"),('' === transaction.description)?_c('span',[_vm._v(\"Split \"+_vm._s(index + 1))]):_vm._e()])])}),0)])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},_vm._l((this.transactions),function(transaction,index){return _c('div',{class:'tab-pane' + (0===index ? ' active' : ''),attrs:{\"id\":'split_' + index}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('firefly.basic_journal_information'))+\"\\n                \"),(_vm.transactions.length > 1)?_c('span',[_vm._v(\"(\"+_vm._s(index + 1)+\" / \"+_vm._s(_vm.transactions.length)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionDescription',{attrs:{\"index\":index,\"errors\":transaction.errors.description},model:{value:(transaction.description),callback:function ($$v) {_vm.$set(transaction, \"description\", $$v)},expression:\"transaction.description\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAccount',{attrs:{\"direction\":\"source\",\"index\":index,\"errors\":transaction.errors.source},model:{value:(transaction.source_account),callback:function ($$v) {_vm.$set(transaction, \"source_account\", $$v)},expression:\"transaction.source_account\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[(0 === index)?_c('SwitchAccount',{attrs:{\"index\":index}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAccount',{attrs:{\"direction\":\"destination\",\"index\":index,\"errors\":transaction.errors.destination},model:{value:(transaction.destination_account),callback:function ($$v) {_vm.$set(transaction, \"destination_account\", $$v)},expression:\"transaction.destination_account\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAmount',{attrs:{\"index\":index,\"errors\":transaction.errors.amount}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[_c('TransactionForeignCurrency',{attrs:{\"index\":index}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionForeignAmount',{attrs:{\"index\":index,\"errors\":transaction.errors.foreign_amount}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionDate',{attrs:{\"index\":index,\"errors\":transaction.errors.date}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\"},[_c('TransactionCustomDates',{attrs:{\"index\":index,\"enabled-dates\":_vm.customDateFields,\"errors\":transaction.errors.custom_dates}})],1)])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('firefly.transaction_journal_meta'))+\"\\n                \"),(_vm.transactions.length > 1)?_c('span',[_vm._v(\"(\"+_vm._s(index + 1)+\" / \"+_vm._s(_vm.transactions.length)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBudget',{attrs:{\"index\":index,\"errors\":transaction.errors.budget},model:{value:(transaction.budget_id),callback:function ($$v) {_vm.$set(transaction, \"budget_id\", $$v)},expression:\"transaction.budget_id\"}}):_vm._e(),_vm._v(\" \"),_c('TransactionCategory',{attrs:{\"index\":index,\"errors\":transaction.errors.category},model:{value:(transaction.category),callback:function ($$v) {_vm.$set(transaction, \"category\", $$v)},expression:\"transaction.category\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBill',{attrs:{\"index\":index,\"errors\":transaction.errors.bill},model:{value:(transaction.bill_id),callback:function ($$v) {_vm.$set(transaction, \"bill_id\", $$v)},expression:\"transaction.bill_id\"}}):_vm._e(),_vm._v(\" \"),_c('TransactionTags',{attrs:{\"index\":index,\"errors\":transaction.errors.tags},model:{value:(transaction.tags),callback:function ($$v) {_vm.$set(transaction, \"tags\", $$v)},expression:\"transaction.tags\"}}),_vm._v(\" \"),(!('Withdrawal' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionPiggyBank',{attrs:{\"index\":index,\"errors\":transaction.errors.piggy_bank},model:{value:(transaction.piggy_bank_id),callback:function ($$v) {_vm.$set(transaction, \"piggy_bank_id\", $$v)},expression:\"transaction.piggy_bank_id\"}}):_vm._e()],1)])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('firefly.transaction_journal_meta'))+\"\\n                \"),(_vm.transactions.length > 1)?_c('span',[_vm._v(\"(\"+_vm._s(index + 1)+\" / \"+_vm._s(_vm.transactions.length)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionInternalReference',{attrs:{\"index\":index,\"errors\":transaction.errors.internal_reference},model:{value:(transaction.internal_reference),callback:function ($$v) {_vm.$set(transaction, \"internal_reference\", $$v)},expression:\"transaction.internal_reference\"}}),_vm._v(\" \"),_c('TransactionExternalUrl',{attrs:{\"index\":index,\"errors\":transaction.errors.external_url},model:{value:(transaction.external_url),callback:function ($$v) {_vm.$set(transaction, \"external_url\", $$v)},expression:\"transaction.external_url\"}}),_vm._v(\" \"),_c('TransactionNotes',{attrs:{\"index\":index,\"errors\":transaction.errors.notes},model:{value:(transaction.notes),callback:function ($$v) {_vm.$set(transaction, \"notes\", $$v)},expression:\"transaction.notes\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAttachments',{ref:\"attachments\",refInFor:true,attrs:{\"index\":index,\"transaction_journal_id\":transaction.transaction_journal_id,\"submitted_transaction\":_vm.submittedTransaction},on:{\"uploaded-attachments\":function($event){return _vm.uploadedAttachment($event)}},model:{value:(transaction.attachments),callback:function ($$v) {_vm.$set(transaction, \"attachments\", $$v)},expression:\"transaction.attachments\"}}),_vm._v(\" \"),_c('TransactionLinks',{attrs:{\"index\":index},model:{value:(transaction.links),callback:function ($$v) {_vm.$set(transaction, \"links\", $$v)},expression:\"transaction.links\"}})],1)])])])])])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(_vm.transactions.length > 1)?_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionGroupTitle',{attrs:{\"errors\":this.groupTitleErrors},model:{value:(this.groupTitle),callback:function ($$v) {_vm.$set(this, \"groupTitle\", $$v)},expression:\"this.groupTitle\"}})],1)])])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                \\n              \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-primary btn-block\",on:{\"click\":_vm.addTransaction}},[_c('i',{staticClass:\"far fa-clone\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.add_another_split'))+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                \\n              \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-success btn-block\",attrs:{\"disabled\":!_vm.enableSubmit},on:{\"click\":_vm.submitTransaction}},[(_vm.enableSubmit)?_c('span',[_c('i',{staticClass:\"far fa-save\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.store_transaction')))]):_vm._e(),_vm._v(\" \"),(!_vm.enableSubmit)?_c('span',[_c('i',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"\\n              \\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.createAnother),expression:\"createAnother\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"createAnother\"},domProps:{\"checked\":Array.isArray(_vm.createAnother)?_vm._i(_vm.createAnother,null)>-1:(_vm.createAnother)},on:{\"change\":function($event){var $$a=_vm.createAnother,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.createAnother=$$a.concat([$$v]))}else{$$i>-1&&(_vm.createAnother=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.createAnother=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"createAnother\"}},[_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.$t('firefly.create_another')))])])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resetFormAfter),expression:\"resetFormAfter\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"resetFormAfter\",\"disabled\":!_vm.createAnother},domProps:{\"checked\":Array.isArray(_vm.resetFormAfter)?_vm._i(_vm.resetFormAfter,null)>-1:(_vm.resetFormAfter)},on:{\"change\":function($event){var $$a=_vm.resetFormAfter,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.resetFormAfter=$$a.concat([$$v]))}else{$$i>-1&&(_vm.resetFormAfter=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.resetFormAfter=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"resetFormAfter\"}},[_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.$t('firefly.reset_after')))])])])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport store from \"../../components/store\";\nimport Create from \"../../components/transactions/Create\";\nimport Vue from \"vue\";\n\nrequire('../../bootstrap');\n\nVue.config.productionTip = false;\n// i18n\nlet i18n = require('../../i18n');\n\nlet props = {};\nnew Vue({\n            i18n,\n            store,\n            render(createElement) {\n                return createElement(Create, {props: props});\n            },\n            beforeCreate() {\n                this.$store.commit('initialiseStore');\n                this.$store.dispatch('updateCurrencyPreference');\n            },\n        }).$mount('#transactions_create');\n"],"sourceRoot":""}