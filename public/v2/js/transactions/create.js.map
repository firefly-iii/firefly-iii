{"version":3,"sources":["webpack:///./src/components/transactions/TransactionTags.vue?f6be","webpack:///./src/components/transactions/TransactionTags.vue?7125","webpack:///./src/components/transactions/TransactionTags.vue?9c61","webpack:///./src/components/partials/Alert.vue?608f","webpack:///src/components/partials/Alert.vue","webpack:///./src/components/partials/Alert.vue","webpack:///./src/components/partials/Alert.vue?bcb7","webpack:///./src/components/transactions/SplitPills.vue?bfa9","webpack:///src/components/transactions/SplitPills.vue","webpack:///./src/components/transactions/SplitPills.vue","webpack:///./src/components/transactions/SplitPills.vue?42cd","webpack:///./src/components/transactions/TransactionGroupTitle.vue?816f","webpack:///src/components/transactions/TransactionGroupTitle.vue","webpack:///./src/components/transactions/TransactionGroupTitle.vue","webpack:///./src/components/transactions/TransactionGroupTitle.vue?81e1","webpack:///./src/components/transactions/TransactionDescription.vue?e9b4","webpack:///src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue","webpack:///./src/components/transactions/TransactionDescription.vue?e7b9","webpack:///./src/components/transactions/TransactionDate.vue?cd54","webpack:///src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue","webpack:///./src/components/transactions/TransactionDate.vue?a1e7","webpack:///./src/components/transactions/TransactionBudget.vue?582a","webpack:///src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue","webpack:///./src/components/transactions/TransactionBudget.vue?a362","webpack:///./src/components/transactions/TransactionAccount.vue?99df","webpack:///src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue","webpack:///./src/components/transactions/TransactionAccount.vue?7096","webpack:///./src/components/transactions/SwitchAccount.vue?76a5","webpack:///src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue","webpack:///./src/components/transactions/SwitchAccount.vue?27fc","webpack:///./src/components/transactions/TransactionAmount.vue?2029","webpack:///src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue","webpack:///./src/components/transactions/TransactionAmount.vue?1bf6","webpack:///./src/components/transactions/TransactionForeignAmount.vue?a3d5","webpack:///src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue","webpack:///./src/components/transactions/TransactionForeignAmount.vue?c94f","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?7457","webpack:///src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue","webpack:///./src/components/transactions/TransactionForeignCurrency.vue?fc8e","webpack:///./src/components/transactions/TransactionCustomDates.vue?a208","webpack:///src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue","webpack:///./src/components/transactions/TransactionCustomDates.vue?53f5","webpack:///./src/components/transactions/TransactionCategory.vue?7292","webpack:///src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue","webpack:///./src/components/transactions/TransactionCategory.vue?36bb","webpack:///./src/components/transactions/TransactionBill.vue?5529","webpack:///src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue","webpack:///./src/components/transactions/TransactionBill.vue?7ebe","webpack:///./src/components/transactions/TransactionTags.vue?0617","webpack:///src/components/transactions/TransactionTags.vue","webpack:///./src/components/transactions/TransactionTags.vue","webpack:///./src/components/transactions/TransactionTags.vue?768a","webpack:///./src/components/transactions/TransactionPiggyBank.vue?183b","webpack:///src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue","webpack:///./src/components/transactions/TransactionPiggyBank.vue?d962","webpack:///./src/components/transactions/TransactionInternalReference.vue?111c","webpack:///src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue","webpack:///./src/components/transactions/TransactionInternalReference.vue?5204","webpack:///./src/components/transactions/TransactionExternalUrl.vue?1580","webpack:///src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue","webpack:///./src/components/transactions/TransactionExternalUrl.vue?bfd8","webpack:///./src/components/transactions/TransactionNotes.vue?2e0f","webpack:///src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue","webpack:///./src/components/transactions/TransactionNotes.vue?52d4","webpack:///src/components/transactions/TransactionLinks.vue","webpack:///./src/components/transactions/TransactionLinks.vue?48a5","webpack:///./src/components/transactions/TransactionLinks.vue","webpack:///./src/components/transactions/TransactionLinks.vue?51ad","webpack:///./src/components/transactions/TransactionAttachments.vue?11dd","webpack:///src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue","webpack:///./src/components/transactions/TransactionAttachments.vue?dee4","webpack:///src/components/transactions/TransactionLocation.vue","webpack:///./src/components/transactions/TransactionLocation.vue?b0f9","webpack:///./src/components/transactions/SplitForm.vue?f1c3","webpack:///src/components/transactions/SplitForm.vue","webpack:///./src/components/transactions/TransactionLocation.vue","webpack:///./src/components/transactions/TransactionLocation.vue?26e5","webpack:///./src/components/transactions/SplitForm.vue","webpack:///./src/components/transactions/SplitForm.vue?ed5e","webpack:///src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?0a62","webpack:///./src/components/transactions/Create.vue","webpack:///./src/components/transactions/Create.vue?b43f","webpack:///./src/pages/transactions/create.js"],"names":["content","module","i","options","transform","undefined","locals","exports","push","name","props","_vm","this","_h","$createElement","_c","_self","message","length","class","type","staticClass","attrs","_v","_e","_s","$t","domProps","transactions","_l","transaction","index","description","components","data","descriptions","initialSet","title","value","emitEvent","created","axios","get","getACURL","watch","$emit","methods","clearDescription","document","getElementsByTagName","href","query","lookupDescription","errors","item","on","model","callback","$$v","expression","slot","error","sendEvent","localDate","date","localTime","time","computed","dateStr","Date","isNaN","toISOString","split","set","timeStr","getHours","slice","getMinutes","getSeconds","setHours","setMinutes","setSeconds","current","parseInt","parts","directives","rawName","ref","$event","target","composing","budgetList","budget","collectData","getBudgets","parseBudgets","hasOwnProperty","key","test","preventDefault","$$selectedVal","Array","prototype","filter","call","o","selected","map","_value","multiple","id","accounts","accountTypes","selectedAccount","account","accountName","selectedAccountTrigger","createInitialSet","types","join","clearAccount","lookupAccount","direction","sourceAllowedTypes","destinationAllowedTypes","name_with_balance","accountTrigger","allowedOpposingTypes","opposingAccounts","accountKey","visible","transactionType","scopedSlots","_u","fn","htmlText","switchAccounts","transactionAmount","amount","currencySymbol","srcCurrencySymbol","sourceCurrencySymbol","dstCurrencySymbol","destinationCurrencySymbol","isVisible","sourceCurrencyId","destinationCurrencyId","selectedCurrency","allCurrencies","selectableCurrencies","dstCurrencyId","srcCurrencyId","lockedCurrency","filterCurrencies","getAllCurrencies","currency","dateFields","availableFields","customFields","dates","interest_date","interestDate","book_date","bookDate","process_date","processDate","due_date","dueDate","payment_date","paymentDate","invoice_date","invoiceDate","isDateField","includes","getFieldValue","setFieldValue","enabled","refInFor","categories","category","clearCategory","lookupCategory","selectedCategory","billList","bill","getBills","parseBills","VueTagsInput","autocompleteItems","debounce","tags","currentTag","updateTags","tagList","shortList","initItems","clearTimeout","setTimeout","this$1","newTags","piggyList","piggy_bank_id","getPiggies","parsePiggies","piggy","reference","showField","internal_reference","_m","url","external_uri","notes","searchResults","include","locale","linkTypes","searching","links","lodashClonedeep","getLinkTypes","getTextForLinkType","linkTypeId","selectTransaction","addToSelected","removeFromSelected","selectLinkType","updateSelected","transaction_journal_id","link_type_id","journalId","journal","splice","parseLinkTypes","attributes","inward","outward","linkTypeInward","linkTypeOutward","search","parseSearch","ii","transaction_group_id","isJournalSelected","getJournalLinkType","link_type_text","Intl","NumberFormat","style","currency_code","format","parseFloat","result","isArray","_i","$$a","$$el","$$c","checked","$$i","$set","concat","linkType","source_id","source_name","destination_id","destination_name","staticStyle","doUpload","attachments","$refs","att","files","LMap","LTileLayer","LMarker","then","zoom","center","bounds","hasMarker","marker","prepMap","myMap","mapObject","setObjectLocation","saveZoomLevel","event","latlng","lat","lng","clearLocation","zoomUpdated","centerUpdated","boundsUpdated","location","removeTransaction","splitDate","splitTime","sourceAccount","source_account_id","source_account_name","source_account_type","destinationAccount","destination_account_id","destination_account_name","destination_account_type","hasMetaFields","field","requiredFields","TransactionLocation","SplitPills","TransactionAttachments","TransactionNotes","TransactionExternalUrl","TransactionInternalReference","TransactionPiggyBank","TransactionTags","TransactionLinks","TransactionBill","TransactionCategory","TransactionCustomDates","TransactionForeignCurrency","TransactionForeignAmount","TransactionAmount","SwitchAccount","TransactionAccount","TransactionBudget","TransactionDescription","TransactionDate","count","_g","$listeners","source","destination","destination_account_currency_symbol","source_account_currency_symbol","destination_account_currency_id","foreign_currency_id","source_account_currency_id","foreign_amount","custom_dates","piggy_bank","external_url","submittedTransaction","SplitForm","Alert","TransactionGroupTitle","storeAllowedOpposingTypes","storeAccountToTransaction","storeCustomFields","addTransaction","errorMessage","successMessage","enableSubmit","createAnother","resetFormAfter","submittedLinks","submittedAttachments","inError","submittedAttCount","groupTitleErrors","returnedGroupId","returnedGroupTitle","accountToTransaction","defaultSourceAllowedTypes","defaultDestinationAllowedTypes","finalizeSubmit","$store","commit","payload","window","updateField","resetTransactions","submitTransaction","post","submitAttachments","uploadedAttachment","storeLocation","storeAccountValue","calculateTransactionType","storeField","storeDate","storeTime","storeGroupTitle","setGroupTitle","dest","setTransactionType","expectedDestinationTypes","submitTransactionLinks","submitted","total","currentLink","outward_id","received","inward_id","promises","Promise","all","parseErrors","resetErrors","transactionIndex","fieldName","setTransactionError","convertData","groupTitle","group_title","convertSplit","synchronizeAccounts","theDate","toW3CString","array","currency_id","budget_id","category_name","external_id","zoom_level","longitude","latitude","order","reconciled","currentSplit","bill_id","toLowerCase","firstSource","firstDestination","linkTypeParts","inwardId","outwardId","newLink","month","day","hours","minutes","seconds","offsetHours","offsetMinutes","offset","offsetSign","year","setDestinationAllowedTypes","setSourceAllowedTypes","require","Vue","config","productionTip","i18n","store","render","createElement","Create","beforeCreate","dispatch","$mount"],"mappings":"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","file":"/public/js/transactions/create.js","sourcesContent":["\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","export * from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=style&index=0&lang=css&\"","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".vue-tags-input{max-width:100%!important;display:block}.ti-input,.vue-tags-input{width:100%;border-radius:.25rem}.ti-input{max-width:100%}.ti-new-tag-input{font-size:1rem}\", \"\"]);\n\n// exports\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"","<!--\n  - Alert.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n<template>\n  <div v-if=\"message.length > 0\" :class=\"'alert alert-' + type + ' alert-dismissible'\">\n    <button aria-hidden=\"true\" class=\"close\" data-dismiss=\"alert\" type=\"button\"></button>\n    <h5>\n      <i v-if=\"'danger' === type\" class=\"icon fas fa-ban\"></i>\n      <i v-if=\"'success' === type\" class=\"icon fas fa-thumbs-up\"></i>\n      <span v-if=\"'danger' === type\">{{ $t(\"firefly.flash_error\") }}</span>\n      <span v-if=\"'success' === type\">{{ $t(\"firefly.flash_success\") }}</span>\n    </h5>\n    <span v-html=\"message\"></span>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Alert\",\n  props: ['message', 'type']\n}\n</script>","import { render, staticRenderFns } from \"./Alert.vue?vue&type=template&id=df266c68&\"\nimport script from \"./Alert.vue?vue&type=script&lang=js&\"\nexport * from \"./Alert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.message.length > 0)?_c('div',{class:'alert alert-' + _vm.type + ' alert-dismissible'},[_c('button',{staticClass:\"close\",attrs:{\"aria-hidden\":\"true\",\"data-dismiss\":\"alert\",\"type\":\"button\"}},[_vm._v(\"\")]),_vm._v(\" \"),_c('h5',[('danger' === _vm.type)?_c('i',{staticClass:\"icon fas fa-ban\"}):_vm._e(),_vm._v(\" \"),('success' === _vm.type)?_c('i',{staticClass:\"icon fas fa-thumbs-up\"}):_vm._e(),_vm._v(\" \"),('danger' === _vm.type)?_c('span',[_vm._v(_vm._s(_vm.$t(\"firefly.flash_error\")))]):_vm._e(),_vm._v(\" \"),('success' === _vm.type)?_c('span',[_vm._v(_vm._s(_vm.$t(\"firefly.flash_success\")))]):_vm._e()]),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message)}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitPills.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitPills.vue?vue&type=script&lang=js&\"","<!--\n  - SplitPills.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"transactions.length > 1\" class=\"row\">\n    <div class=\"col\">\n      <!-- tabs -->\n      <ul class=\"nav nav-pills ml-auto p-2\">\n        <li v-for=\"(transaction, index) in this.transactions\" class=\"nav-item\"><a :class=\"'nav-link' + (0===index ? ' active' : '')\" :href=\"'#split_' + index\"\n                                                                                  data-toggle=\"tab\">\n          <span v-if=\"'' !== transaction.description\">{{ transaction.description }}</span>\n          <span v-if=\"'' === transaction.description\">Split {{ index + 1 }}</span>\n        </a></li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SplitPills\",\n  props: ['transactions']\n}\n</script>\n","import { render, staticRenderFns } from \"./SplitPills.vue?vue&type=template&id=0e910ecf&\"\nimport script from \"./SplitPills.vue?vue&type=script&lang=js&\"\nexport * from \"./SplitPills.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.transactions.length > 1)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('ul',{staticClass:\"nav nav-pills ml-auto p-2\"},_vm._l((this.transactions),function(transaction,index){return _c('li',{staticClass:\"nav-item\"},[_c('a',{class:'nav-link' + (0===index ? ' active' : ''),attrs:{\"href\":'#split_' + index,\"data-toggle\":\"tab\"}},[('' !== transaction.description)?_c('span',[_vm._v(_vm._s(transaction.description))]):_vm._e(),_vm._v(\" \"),('' === transaction.description)?_c('span',[_vm._v(\"Split \"+_vm._s(index + 1))]):_vm._e()])])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionGroupTitle.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionGroupTitle.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.split_transaction_title') }}\n    </div>\n    <vue-typeahead-bootstrap\n        v-model=\"title\"\n        :data=\"descriptions\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.split_transaction_title')\"\n        :serializer=\"item => item.description\"\n        :showOnFocus=true\n        inputName=\"group_title\"\n        @input=\"lookupDescription\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearDescription\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n\n  </div>\n</template>\n\n<script>\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['value', 'errors'],\n  name: \"TransactionGroupTitle\",\n  components: {VueTypeaheadBootstrap},\n  data() {\n    return {\n      descriptions: [],\n      initialSet: [],\n      title: this.value,\n      emitEvent: true\n    }\n  },\n\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n  watch: {\n    value: function (value) {\n      this.title = value;\n    },\n    title: function (value) {\n      this.$emit('set-group-title', value);\n    }\n  },\n  methods: {\n    clearDescription: function () {\n      this.title = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.title))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionGroupTitle.vue?vue&type=template&id=273271bf&scoped=true&\"\nimport script from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionGroupTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"273271bf\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.split_transaction_title'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.descriptions,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.split_transaction_title'),\"serializer\":function (item) { return item.description; },\"showOnFocus\":true,\"inputName\":\"group_title\"},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDescription.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionDescription.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <vue-typeahead-bootstrap\n        v-model=\"description\"\n        :data=\"descriptions\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.description')\"\n        :serializer=\"item => item.description\"\n        :showOnFocus=true\n        autofocus\n        inputName=\"description[]\"\n        @input=\"lookupDescription\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearDescription\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionDescription\",\n  data() {\n    return {\n      descriptions: [],\n      initialSet: [],\n      description: this.value,\n      sendEvent: true\n    }\n  },\n  created() {\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.descriptions = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    clearDescription: function () {\n      this.description = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/transactions?query=' + query;\n    },\n    lookupDescription: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.descriptions = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.sendEvent = false;\n      this.description = value;\n    },\n    description: function (value) {\n      if (true === this.sendEvent) {\n        this.$emit('set-field', {field: 'description', index: this.index, value: value});\n      }\n      this.sendEvent = true;\n    }\n  },\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionDescription.vue?vue&type=template&id=85630a32&\"\nimport script from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.descriptions,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.description'),\"serializer\":function (item) { return item.description; },\"showOnFocus\":true,\"autofocus\":\"\",\"inputName\":\"description[]\"},on:{\"input\":_vm.lookupDescription},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearDescription}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionDate.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionDate.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.date_and_time') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          ref=\"date\"\n          v-model=\"dateStr\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :disabled=\"index > 0\"\n          :placeholder=\"dateStr\"\n          :title=\"$t('firefly.date')\"\n          autocomplete=\"off\"\n          name=\"date[]\"\n          type=\"date\"\n      >\n      <input\n          ref=\"time\"\n          v-model=\"timeStr\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :disabled=\"index > 0\"\n          :placeholder=\"timeStr\"\n          :title=\"$t('firefly.time')\"\n          autocomplete=\"off\"\n          name=\"time[]\"\n          type=\"time\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: ['index', 'errors', 'date', 'time'],\n  name: \"TransactionDate\",\n  data() {\n    return {\n      localDate: this.date,\n      localTime: this.time\n    }\n  },\n  methods: {},\n  computed: {\n    dateStr: {\n      get() {\n        if (this.localDate instanceof Date && !isNaN(this.localDate)) {\n          return this.localDate.toISOString().split('T')[0];\n        }\n        return '';\n      },\n      set(value) {\n        // bit of a hack but meh.\n        if ('' === value) {\n          // reset to today\n          this.localDate = new Date();\n          this.$emit('set-date', {date: this.localDate});\n          return;\n        }\n        this.localDate = new Date(value);\n        this.$emit('set-date', {date: this.localDate});\n      }\n    },\n    timeStr: {\n      get() {\n        if (this.localTime instanceof Date && !isNaN(this.localTime)) {\n          return ('0' + this.localTime.getHours()).slice(-2) + ':' + ('0' + this.localTime.getMinutes()).slice(-2) + ':' + ('0' + this.localTime.getSeconds()).slice(-2);\n        }\n        return '';\n      },\n      set(value) {\n        if ('' === value) {\n          this.localTime.setHours(0);\n          this.localTime.setMinutes(0);\n          this.localTime.setSeconds(0);\n          this.$emit('set-time', {time: this.localTime});\n          return;\n        }\n        // bit of a hack but meh.\n        let current = new Date(this.localTime.getTime());\n        let parts = value.split(':');\n        current.setHours(parseInt(parts[0]));\n        current.setMinutes(parseInt(parts[1]));\n        current.setSeconds(parseInt(parts[2]));\n        this.localTime = current;\n        this.$emit('set-time', {time: this.localTime});\n      }\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionDate.vue?vue&type=template&id=1655efde&\"\nimport script from \"./TransactionDate.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionDate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.date_and_time'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dateStr),expression:\"dateStr\"}],ref:\"date\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"disabled\":_vm.index > 0,\"placeholder\":_vm.dateStr,\"title\":_vm.$t('firefly.date'),\"autocomplete\":\"off\",\"name\":\"date[]\",\"type\":\"date\"},domProps:{\"value\":(_vm.dateStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.dateStr=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timeStr),expression:\"timeStr\"}],ref:\"time\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"disabled\":_vm.index > 0,\"placeholder\":_vm.timeStr,\"title\":_vm.$t('firefly.time'),\"autocomplete\":\"off\",\"name\":\"time[]\",\"type\":\"time\"},domProps:{\"value\":(_vm.timeStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.timeStr=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBudget.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionBudget.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.budget') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"budget\"\n          v-model=\"budget\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.budget')\"\n          autocomplete=\"off\"\n          name=\"budget_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"budget in this.budgetList\" :label=\"budget.name\" :value=\"budget.id\">{{ budget.name }}</option>\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionBudget\",\n  data() {\n    return {\n      budgetList: [],\n      budget: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.budgetList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_budget'),\n          }\n      );\n      this.getBudgets();\n    },\n    getBudgets() {\n      axios.get('./api/v1/budgets')\n          .then(response => {\n                  this.parseBudgets(response.data);\n                }\n          );\n    },\n    parseBudgets(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          this.budgetList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.budget = value;\n    },\n    budget: function (value) {\n      this.$emit('set-field', {field: 'budget_id', index: this.index, value: value});\n    }\n  },\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionBudget.vue?vue&type=template&id=e6098a20&\"\nimport script from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBudget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.budget'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget),expression:\"budget\"}],ref:\"budget\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.budget'),\"autocomplete\":\"off\",\"name\":\"budget_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.budget=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.budgetList),function(budget){return _c('option',{attrs:{\"label\":budget.name},domProps:{\"value\":budget.id}},[_vm._v(_vm._s(budget.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAccount.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div v-if=\"visible\" class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span v-if=\"0 === this.index\">{{ $t('firefly.' + this.direction + '_account') }}</span>\n      <span v-if=\"this.index > 0\" class=\"text-warning\">{{ $t('firefly.first_split_overrules_' + this.direction) }}</span>\n    </div>\n    <div v-if=\"!visible\" class=\"text-xs d-none d-lg-block d-xl-block\">\n      &nbsp;\n    </div>\n    <vue-typeahead-bootstrap\n        v-if=\"visible\"\n        v-model=\"accountName\"\n        :data=\"accounts\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :inputName=\"direction + '[]'\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.' + direction + '_account')\"\n        :serializer=\"item => item.name_with_balance\"\n        :showOnFocus=true\n        @hit=\"selectedAccount = $event\"\n        @input=\"lookupAccount\"\n    >\n\n      <template slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <div :title=\"data.type\" class=\"d-flex\">\n          <span v-html=\"htmlText\"></span><br>\n        </div>\n      </template>\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearAccount\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <div v-if=\"!visible\" class=\"form-control-static\">\n      <span class=\"small text-muted\"><em>{{ $t('firefly.first_split_decides') }}</em></span>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n      </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from 'lodash';\n\nexport default {\n  name: \"TransactionAccount\",\n  components: {VueTypeaheadBootstrap},\n  props: [\n    'index',\n    'direction',\n    'value',\n    'errors',\n    'sourceAllowedTypes',\n    'destinationAllowedTypes',\n    'allowedOpposingTypes'\n  ],\n  data() {\n    return {\n      query: '',\n      accounts: [],\n      accountTypes: [],\n      initialSet: [],\n      selectedAccount: {},\n      account: this.value,\n      accountName: '',\n      selectedAccountTrigger: false,\n    }\n  },\n  created() {\n    this.createInitialSet();\n  },\n  methods: {\n    getACURL: function (types, query) {\n      return './api/v1/autocomplete/accounts?types=' + types.join(',') + '&query=' + query;\n    },\n    clearAccount: function () {\n      this.accounts = this.initialSet;\n      this.account = {name: '', type: 'no_type', id: null, currency_id: null, currency_code: null, currency_symbol: null};\n      this.accountName = '';\n    },\n    lookupAccount: debounce(function () {\n      //console.log('In lookupAccount()');\n      if (0 === this.accountTypes.length) {\n        // set the types from the default types for this direction:\n        this.accountTypes = 'source' === this.direction ? this.sourceAllowedTypes : this.destinationAllowedTypes;\n      }\n      // console.log(this.direction + ': Will search for types:');\n      // console.log(this.accountTypes);\n\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.accountTypes, this.accountName))\n          .then(response => {\n            //console.log('Got a response!');\n            this.accounts = response.data;\n            //console.log(response.data);\n          })\n    }, 300),\n\n    createInitialSet: function () {\n      let types = this.sourceAllowedTypes;\n      if ('destination' === this.direction) {\n        types = this.destinationAllowedTypes;\n      }\n      // console.log(this.direction + ' initial set searches for');\n      // console.log(types);\n\n      axios.get(this.getACURL(types, ''))\n          .then(response => {\n            this.accounts = response.data;\n            this.initialSet = response.data;\n          });\n    }\n  },\n  watch: {\n    // allowedOpposingTypes: function () {\n    //   console.log(this.direction + ' account noticed change in allowedOpposingTypes');\n    // },\n    sourceAllowedTypes: function (value) {\n      // console.log(this.direction + ' account noticed change in sourceAllowedTypes');\n      // console.log(value);\n      this.createInitialSet();\n    },\n    destinationAllowedTypes: function (value) {\n      // console.log(this.direction + ' account noticed change in destinationAllowedTypes');\n      // console.log(value);\n      this.createInitialSet();\n    },\n    selectedAccount: function (value) {\n      this.selectedAccountTrigger = true;\n      this.account = value;\n\n      this.$emit('set-account',\n                 {\n                   index: this.index,\n                   direction: this.direction,\n                   id: value.id,\n                   type: value.type,\n                   name: value.name,\n                   currency_id: value.currency_id,\n                   currency_code: value.currency_code,\n                   currency_symbol: value.currency_symbol,\n                 }\n      );\n      this.accountName = this.account.name_with_balance;\n    },\n    accountName: function (value) {\n      if (false === this.selectedAccountTrigger) {\n        // console.log('Save to change name!');\n        this.$emit('set-account',\n                   {\n                     index: this.index,\n                     direction: this.direction,\n                     id: null,\n                     type: null,\n                     name: value,\n                     currency_id: null,\n                     currency_code: null,\n                     currency_symbol: null,\n                   }\n        );\n        this.accountTrigger = false;\n        this.account = {name: value, type: null, id: null, currency_id: null, currency_code: null, currency_symbol: null};\n      }\n      this.selectedAccountTrigger = false;\n    },\n    account: function (value) {\n      let opposingAccounts = [];\n      let type = value.type ? value.type : 'no_type';\n      if ('undefined' !== typeof this.allowedOpposingTypes[this.direction]) {\n        if ('undefined' !== typeof this.allowedOpposingTypes[this.direction][type]) {\n          opposingAccounts = this.allowedOpposingTypes[this.direction][type];\n        }\n      }\n\n      if ('source' === this.direction) {\n        this.$emit('set-dest-types', opposingAccounts);\n      }\n      if ('destination' === this.direction) {\n        this.$emit('set-src-types', opposingAccounts);\n      }\n    },\n    value: function (value) {\n      // console.log('Index ' + this.index + ' nwAct: ', value);\n      // console.log(this.direction + ' account overruled by external forces.');\n      // console.log(value);\n      this.account = value;\n      this.selectedAccountTrigger = true;\n      this.accountName = value.name ?? '';\n    }\n  },\n  computed: {\n    // 'transactionType',\n    // 'sourceAllowedTypes',\n    // 'destinationAllowedTypes',\n    // 'allowedOpposingTypes'\n    accountKey: {\n      get() {\n        return 'source' === this.direction ? 'source_account' : 'destination_account';\n      }\n    },\n    visible: {\n      get() {\n        // index  0 is always visible:\n        if (0 === this.index) {\n          return true;\n        }\n        if ('source' === this.direction) {\n          return 'any' === this.transactionType || 'Deposit' === this.transactionType\n        }\n        if ('destination' === this.direction) {\n          return 'any' === this.transactionType || 'Withdrawal' === this.transactionType;\n        }\n        return false;\n      }\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionAccount.vue?vue&type=template&id=91892a70&\"\nimport script from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[(_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[(0 === this.index)?_c('span',[_vm._v(_vm._s(_vm.$t('firefly.' + this.direction + '_account')))]):_vm._e(),_vm._v(\" \"),(this.index > 0)?_c('span',{staticClass:\"text-warning\"},[_vm._v(_vm._s(_vm.$t('firefly.first_split_overrules_' + this.direction)))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.visible)?_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.accounts,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"inputName\":_vm.direction + '[]',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.' + _vm.direction + '_account'),\"serializer\":function (item) { return item.name_with_balance; },\"showOnFocus\":true},on:{\"hit\":function($event){_vm.selectedAccount = $event},\"input\":_vm.lookupAccount},scopedSlots:_vm._u([{key:\"suggestion\",fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn [_c('div',{staticClass:\"d-flex\",attrs:{\"title\":data.type}},[_c('span',{domProps:{\"innerHTML\":_vm._s(htmlText)}}),_c('br')])]}}],null,false,1423807661),model:{value:(_vm.accountName),callback:function ($$v) {_vm.accountName=$$v},expression:\"accountName\"}},[_vm._v(\" \"),_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearAccount}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2):_vm._e(),_vm._v(\" \"),(!_vm.visible)?_c('div',{staticClass:\"form-control-static\"},[_c('span',{staticClass:\"small text-muted\"},[_c('em',[_vm._v(_vm._s(_vm.$t('firefly.first_split_decides')))])])]):_vm._e(),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchAccount.vue?vue&type=script&lang=js&\"","<!--\n  - SwitchAccount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      <span v-if=\"'any' !== this.transactionType\" class=\"text-muted\">\n        {{ $t('firefly.' + this.transactionType) }}\n      </span>\n      <span v-if=\"'any' === this.transactionType\" class=\"text-muted\">&nbsp;</span>\n    </div>\n    <div class=\"btn-group d-flex\">\n      <button class=\"btn btn-light\" @click=\"switchAccounts\">&harr;</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SwitchAccount\",\n  props: ['index', 'transactionType'],\n  methods: {\n    switchAccounts() {\n      this.$emit('switch-accounts', this.index);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./SwitchAccount.vue?vue&type=template&id=376bca8c&scoped=true&\"\nimport script from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./SwitchAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"376bca8c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[('any' !== this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.' + this.transactionType))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),('any' === this.transactionType)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"btn-group d-flex\"},[_c('button',{staticClass:\"btn btn-light\",on:{\"click\":_vm.switchAccounts}},[_vm._v(\"\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAmount.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('firefly.amount') }}</div>\n    <div class=\"input-group\">\n      <div v-if=\"currencySymbol\" class=\"input-group-prepend\">\n        <div class=\"input-group-text\">{{ currencySymbol }}</div>\n      </div>\n      <input\n          v-model=\"transactionAmount\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.amount')\"\n          :title=\"$t('firefly.amount')\"\n          autocomplete=\"off\"\n          name=\"amount[]\"\n          type=\"number\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"TransactionAmount\",\n  props: [\n    'index',\n    'errors',\n    'amount',\n    'transactionType',\n    'sourceCurrencySymbol',\n    'destinationCurrencySymbol',\n  ],\n  data() {\n    return {\n      transactionAmount: this.amount,\n      currencySymbol: null,\n      srcCurrencySymbol: this.sourceCurrencySymbol,\n      dstCurrencySymbol: this.destinationCurrencySymbol,\n    }\n  },\n  watch: {\n    transactionAmount: function (value) {\n      this.$emit('set-field', {field: 'amount', index: this.index, value: value});\n    },\n    amount: function (value) {\n      this.transactionAmount = value;\n    },\n    sourceCurrencySymbol: function (value) {\n      this.srcCurrencySymbol = value;\n    },\n    destinationCurrencySymbol: function (value) {\n      this.dstCurrencySymbol = value;\n    },\n    transactionType: function (value) {\n      switch (value) {\n        case 'Transfer':\n        case 'Withdrawal':\n          this.currencySymbol = this.srcCurrencySymbol;\n          break;\n        case 'Deposit':\n          this.currencySymbol = this.dstCurrencySymbol;\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionAmount.vue?vue&type=template&id=33047e32&scoped=true&\"\nimport script from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33047e32\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('firefly.amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[(_vm.currencySymbol)?_c('div',{staticClass:\"input-group-prepend\"},[_c('div',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.currencySymbol))])]):_vm._e(),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transactionAmount),expression:\"transactionAmount\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.amount'),\"title\":_vm.$t('firefly.amount'),\"autocomplete\":\"off\",\"name\":\"amount[]\",\"type\":\"number\"},domProps:{\"value\":(_vm.transactionAmount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.transactionAmount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignAmount.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionForeignAmount.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN AMOUNT -->\n  <div v-if=\"isVisible\" class=\"form-group\">\n    <div class=\"text-xs\">{{ $t('form.foreign_amount') }}</div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"amount\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('form.foreign_amount')\"\n          :title=\"$t('form.foreign_amount')\"\n          autocomplete=\"off\"\n          name=\"foreign_amount[]\"\n          type=\"number\"\n      >\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionForeignAmount\",\n  props: [\n    'index',\n    'errors',\n    'value',\n    'transactionType',\n    'sourceCurrencyId',\n    'destinationCurrencyId'\n  ],\n  data() {\n    return {\n      amount: this.value\n    }\n  },\n  watch: {\n    amount: function (value) {\n      this.$emit('set-field', {field: 'foreign_amount', index: this.index, value: value});\n    },\n    value: function (value) {\n      this.amount = value;\n    }\n  },\n  computed: {\n    isVisible: {\n      get() {\n        return !('Transfer' === this.transactionType && this.sourceCurrencyId === this.destinationCurrencyId);\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionForeignAmount.vue?vue&type=template&id=53edf0ee&scoped=true&\"\nimport script from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53edf0ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(_vm._s(_vm.$t('form.foreign_amount')))]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('form.foreign_amount'),\"title\":_vm.$t('form.foreign_amount'),\"autocomplete\":\"off\",\"name\":\"foreign_amount[]\",\"type\":\"number\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionForeignCurrency.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <!-- FOREIGN Currency -->\n  <div v-if=\"isVisible\" class=\"form-group\">\n    <div class=\"text-xs\">&nbsp;</div>\n    <div class=\"input-group\">\n      <select v-model=\"selectedCurrency\" class=\"form-control\" name=\"foreign_currency_id[]\">\n        <option v-for=\"currency in selectableCurrencies\" :label=\"currency.name\" :value=\"currency.id\">{{ currency.name }}</option>\n      </select>\n    </div>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: \"TransactionForeignCurrency\",\n  props: [\n    'index',\n    'transactionType',\n    'sourceCurrencyId',\n    'destinationCurrencyId',\n    'selectedCurrencyId',\n    'value'\n  ],\n  data() {\n    return {\n      selectedCurrency: this.value,\n      allCurrencies: [],\n      selectableCurrencies: [],\n      dstCurrencyId: this.destinationCurrencyId,\n      srcCurrencyId: this.sourceCurrencyId,\n      lockedCurrency: 0,\n      emitEvent: true\n    }\n  },\n  watch: {\n    value: function (value) {\n      this.selectedCurrency = value;\n    },\n    sourceCurrencyId: function (value) {\n      this.srcCurrencyId = value;\n    },\n    destinationCurrencyId: function (value) {\n      this.dstCurrencyId = value;\n    },\n    selectedCurrency: function (value) {\n      this.$emit('set-field', {field: 'foreign_currency_id', index: this.index, value: value});\n    },\n    transactionType: function (value) {\n      this.lockedCurrency = 0;\n      if ('Transfer' === value) {\n        this.lockedCurrency = this.dstCurrencyId;\n        this.selectedCurrency = this.dstCurrencyId;\n      }\n      this.filterCurrencies();\n    },\n  },\n  created: function () {\n    this.getAllCurrencies();\n  },\n  methods: {\n    getAllCurrencies: function () {\n      axios.get('./api/v1/autocomplete/currencies')\n          .then(response => {\n                  this.allCurrencies = response.data;\n                  this.filterCurrencies();\n                }\n          );\n\n    },\n    filterCurrencies() {\n      // if a currency is locked only that currency can (and must) be selected:\n      if (0 !== this.lockedCurrency) {\n        for (let key in this.allCurrencies) {\n          if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n            let current = this.allCurrencies[key];\n            if (current.id === this.lockedCurrency) {\n              this.selectableCurrencies = [current];\n              this.selectedCurrency = current.id;\n            }\n          }\n        }\n        return;\n      }\n\n      this.selectableCurrencies = [\n        {\n          \"id\": 0,\n          \"name\": this.$t('firefly.no_currency')\n        }\n      ];\n      for (let key in this.allCurrencies) {\n        if (this.allCurrencies.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = this.allCurrencies[key];\n          this.selectableCurrencies.push(current);\n        }\n      }\n    }\n  },\n  computed: {\n    isVisible: function () {\n      return !('Transfer' === this.transactionType && this.srcCurrencyId === this.dstCurrencyId);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionForeignCurrency.vue?vue&type=template&id=3ee4efa5&scoped=true&\"\nimport script from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionForeignCurrency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ee4efa5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCurrency),expression:\"selectedCurrency\"}],staticClass:\"form-control\",attrs:{\"name\":\"foreign_currency_id[]\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedCurrency=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectableCurrencies),function(currency){return _c('option',{attrs:{\"label\":currency.name},domProps:{\"value\":currency.id}},[_vm._v(_vm._s(currency.name))])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCustomDates.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionCustomDates.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div v-for=\"(enabled, name) in availableFields\" class=\"form-group\">\n      <div v-if=\"enabled && isDateField(name)\" class=\"text-xs d-none d-lg-block d-xl-block\">\n        {{ $t('form.' + name) }}\n      </div>\n      <div v-if=\"enabled && isDateField(name)\" class=\"input-group\">\n        <input\n            :ref=\"name\"\n            :name=\"name + '[]'\"\n            :placeholder=\"$t('form.' + name)\"\n            :title=\"$t('form.' + name)\"\n            :value=\"getFieldValue(name)\"\n            autocomplete=\"off\"\n            class=\"form-control\"\n            type=\"date\"\n            @change=\"setFieldValue($event, name)\"\n            v-on:submit.prevent\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionCustomDates\",\n  props: [\n    'index',\n    'errors',\n    'customFields',\n    'interestDate',\n    'bookDate',\n    'processDate',\n    'dueDate',\n    'paymentDate',\n    'invoiceDate'\n  ],\n  data() {\n    return {\n      dateFields: ['interest_date', 'book_date', 'process_date', 'due_date', 'payment_date', 'invoice_date'],\n      availableFields: this.customFields,\n      dates: {\n        interest_date: this.interestDate,\n        book_date: this.bookDate,\n        process_date: this.processDate,\n        due_date: this.dueDate,\n        payment_date: this.paymentDate,\n        invoice_date: this.invoiceDate,\n      }\n      ,\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    interestDate: function (value) {\n      this.dates.interest_date = value;\n    },\n    bookDate: function (value) {\n      this.dates.book_date = value;\n    },\n    processDate: function (value) {\n      this.dates.process_date = value;\n    },\n    dueDate: function (value) {\n      this.dates.due_date = value;\n    },\n    paymentDate: function (value) {\n      this.dates.payment_date = value;\n    },\n    invoiceDate: function (value) {\n      this.dates.invoice_date = value;\n    },\n  },\n  methods: {\n    isDateField: function (name) {\n      return this.dateFields.includes(name)\n    },\n    getFieldValue(field) {\n      return this.dates[field] ?? '';\n    },\n    setFieldValue(event, field) {\n      this.$emit('set-field', {field: field, index: this.index, value: event.target.value});\n    },\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionCustomDates.vue?vue&type=template&id=7c0f4f0c&\"\nimport script from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCustomDates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.availableFields),function(enabled,name){return _c('div',{staticClass:\"form-group\"},[(enabled && _vm.isDateField(name))?_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('form.' + name))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(enabled && _vm.isDateField(name))?_c('div',{staticClass:\"input-group\"},[_c('input',{ref:name,refInFor:true,staticClass:\"form-control\",attrs:{\"name\":name + '[]',\"placeholder\":_vm.$t('form.' + name),\"title\":_vm.$t('form.' + name),\"autocomplete\":\"off\",\"type\":\"date\"},domProps:{\"value\":_vm.getFieldValue(name)},on:{\"change\":function($event){return _vm.setFieldValue($event, name)},\"submit\":function($event){$event.preventDefault();}}})]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionCategory.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionCategory.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.category') }}\n    </div>\n\n    <vue-typeahead-bootstrap\n        v-model=\"category\"\n        :data=\"categories\"\n        :inputClass=\"errors.length > 0 ? 'is-invalid' : ''\"\n        :minMatchingChars=\"3\"\n        :placeholder=\"$t('firefly.category')\"\n        :serializer=\"item => item.name\"\n        :showOnFocus=true\n        inputName=\"category[]\"\n        @hit=\"selectedCategory = $event\"\n        @input=\"lookupCategory\"\n    >\n      <template slot=\"append\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\" v-on:click=\"clearCategory\"><i class=\"far fa-trash-alt\"></i></button>\n        </div>\n      </template>\n    </vue-typeahead-bootstrap>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap';\nimport {debounce} from \"lodash\";\n\nexport default {\n  props: ['value', 'index', 'errors'],\n  components: {VueTypeaheadBootstrap},\n  name: \"TransactionCategory\",\n  data() {\n    return {\n      categories: [],\n      initialSet: [],\n      category: this.value,\n      emitEvent: true\n    }\n  },\n\n  created() {\n\n    // initial list of accounts:\n    axios.get(this.getACURL(''))\n        .then(response => {\n          this.categories = response.data;\n          this.initialSet = response.data;\n        });\n  },\n\n  methods: {\n    clearCategory: function () {\n      this.category = '';\n    },\n    getACURL: function (query) {\n      // update autocomplete URL:\n      return document.getElementsByTagName('base')[0].href + 'api/v1/autocomplete/categories?query=' + query;\n    },\n    lookupCategory: debounce(function () {\n      // update autocomplete URL:\n      axios.get(this.getACURL(this.value))\n          .then(response => {\n            this.categories = response.data;\n          })\n    }, 300)\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.category = value ?? '';\n    },\n    category: function (value) {\n      this.$emit('set-field', {field: 'category', index: this.index, value: value});\n    }\n  },\n  computed: {\n    selectedCategory: {\n      get() {\n        return this.categories[this.index].name;\n      },\n      set(value) {\n        this.category = value.name;\n      }\n    }\n  }\n}\n</script>","import { render, staticRenderFns } from \"./TransactionCategory.vue?vue&type=template&id=332d1095&\"\nimport script from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionCategory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.category'))+\"\\n  \")]),_vm._v(\" \"),_c('vue-typeahead-bootstrap',{attrs:{\"data\":_vm.categories,\"inputClass\":_vm.errors.length > 0 ? 'is-invalid' : '',\"minMatchingChars\":3,\"placeholder\":_vm.$t('firefly.category'),\"serializer\":function (item) { return item.name; },\"showOnFocus\":true,\"inputName\":\"category[]\"},on:{\"hit\":function($event){_vm.selectedCategory = $event},\"input\":_vm.lookupCategory},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}},[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"},on:{\"click\":_vm.clearCategory}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])],2),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionBill.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionBill.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.bill') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"bill\"\n          v-model=\"bill\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.bill')\"\n          autocomplete=\"off\"\n          name=\"bill_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"bill in this.billList\" :label=\"bill.name\" :value=\"bill.id\">{{ bill.name }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['value', 'index', 'errors'],\n  name: \"TransactionBill\",\n  data() {\n    return {\n      billList: [],\n      bill: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.billList.push(\n          {\n            id: 0,\n            name: this.$t('firefly.no_bill'),\n          }\n      );\n      this.getBills();\n    },\n    getBills() {\n      axios.get('./api/v1/bills')\n          .then(response => {\n                  this.parseBills(response.data);\n                }\n          );\n    },\n    parseBills(data) {\n      for (let key in data.data) {\n        if (data.data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data.data[key];\n          this.billList.push(\n              {\n                id: parseInt(current.id),\n                name: current.attributes.name\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.bill = value;\n    },\n    bill: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'bill_id', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    }\n  },\n}\n</script>\n\n","import { render, staticRenderFns } from \"./TransactionBill.vue?vue&type=template&id=7c81d840&\"\nimport script from \"./TransactionBill.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionBill.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.bill'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bill),expression:\"bill\"}],ref:\"bill\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.bill'),\"autocomplete\":\"off\",\"name\":\"bill_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.bill=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.billList),function(bill){return _c('option',{attrs:{\"label\":bill.name},domProps:{\"value\":bill.id}},[_vm._v(_vm._s(bill.name))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionTags.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionTags.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.tags') }}\n    </div>\n    <div class=\"input-group\">\n      <vue-tags-input\n          v-model=\"currentTag\"\n          :add-only-from-autocomplete=\"false\"\n          :autocomplete-items=\"autocompleteItems\"\n          :tags=\"tags\"\n          :title=\"$t('firefly.tags')\"\n          v-bind:placeholder=\"$t('firefly.tags')\"\n          @tags-changed=\"newTags => this.tags = newTags\"\n      />\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\nimport VueTagsInput from \"@johmun/vue-tags-input\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"TransactionTags\",\n  components: {\n    VueTagsInput\n  },\n  props: ['value', 'index', 'errors'],\n  data() {\n    return {\n      autocompleteItems: [],\n      debounce: null,\n      tags: [],\n      currentTag: '',\n      updateTags: true, // the idea is that this is always true, except when the tags-function sets the value.\n      tagList: this.value,\n      emitEvent: true\n    };\n  },\n  watch: {\n    'currentTag': 'initItems',\n    value: function (value) {\n      this.emitEvent = false;\n      this.tagList = value;\n    },\n    tagList: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'tags', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n      this.updateTags = false;\n      this.tags = value;\n    },\n    tags: function (value) {\n      if (this.updateTags) {\n        let shortList = [];\n        for (let key in value) {\n          if (value.hasOwnProperty(key)) {\n            shortList.push({text: value[key].text});\n          }\n        }\n        this.tagList = shortList;\n      }\n      this.updateTags = true;\n    }\n  },\n  methods: {\n    initItems() {\n      if (this.currentTag.length < 2) {\n        return;\n      }\n      const url = document.getElementsByTagName('base')[0].href + `api/v1/autocomplete/tags?query=${this.currentTag}`;\n\n      clearTimeout(this.debounce);\n      this.debounce = setTimeout(() => {\n        axios.get(url).then(response => {\n          this.autocompleteItems = response.data.map(item => {\n            return {text: item.tag};\n          });\n        }).catch(() => console.warn('Oh. Something went wrong loading tags.'));\n      }, 300);\n    },\n  },\n\n\n}\n</script>\n<style>\n.vue-tags-input {\n  width: 100%;\n  max-width: 100% !important;\n  display: block;\n  border-radius: 0.25rem;\n}\n\n.ti-input {\n  border-radius: 0.25rem;\n  max-width: 100%;\n  width: 100%;\n}\n\n.ti-new-tag-input {\n  font-size: 1rem;\n}\n</style>\n","import { render, staticRenderFns } from \"./TransactionTags.vue?vue&type=template&id=489c4cfa&\"\nimport script from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionTags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TransactionTags.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.tags'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('vue-tags-input',{attrs:{\"add-only-from-autocomplete\":false,\"autocomplete-items\":_vm.autocompleteItems,\"tags\":_vm.tags,\"title\":_vm.$t('firefly.tags'),\"placeholder\":_vm.$t('firefly.tags')},on:{\"tags-changed\":function (newTags) { return this$1.tags = newTags; }},model:{value:(_vm.currentTag),callback:function ($$v) {_vm.currentTag=$$v},expression:\"currentTag\"}})],1),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionPiggyBank.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionPiggyBank.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.piggy_bank') }}\n    </div>\n    <div class=\"input-group\">\n      <select\n          ref=\"piggy_bank_id\"\n          v-model=\"piggy_bank_id\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :title=\"$t('firefly.piggy_bank')\"\n          autocomplete=\"off\"\n          name=\"piggy_bank_id[]\"\n          v-on:submit.prevent\n      >\n        <option v-for=\"piggy in this.piggyList\" :label=\"piggy.name_with_balance\" :value=\"piggy.id\">{{ piggy.name_with_balance }}</option>\n\n      </select>\n    </div>\n    <span v-if=\"errors.length > 0\">\n      <span v-for=\"error in errors\" class=\"text-danger small\">{{ error }}<br/></span>\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: ['index', 'value', 'errors'],\n  name: \"TransactionPiggyBank\",\n  data() {\n    return {\n      piggyList: [],\n      piggy_bank_id: this.value,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.collectData();\n  },\n  methods: {\n    collectData() {\n      this.piggyList.push(\n          {\n            id: 0,\n            name_with_balance: this.$t('firefly.no_piggy_bank'),\n          }\n      );\n      this.getPiggies();\n    },\n    getPiggies() {\n      axios.get('./api/v1/autocomplete/piggy-banks-with-balance')\n          .then(response => {\n                  this.parsePiggies(response.data);\n                }\n          );\n    },\n    parsePiggies(data) {\n      for (let key in data) {\n        if (data.hasOwnProperty(key) && /^0$|^[1-9]\\d*$/.test(key) && key <= 4294967294) {\n          let current = data[key];\n          this.piggyList.push(\n              {\n                id: parseInt(current.id),\n                name_with_balance: current.name_with_balance\n              }\n          );\n        }\n      }\n    },\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.piggy_bank_id = value;\n    },\n    piggy_bank_id: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'piggy_bank_id', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionPiggyBank.vue?vue&type=template&id=f88cfd4e&\"\nimport script from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionPiggyBank.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.piggy_bank'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.piggy_bank_id),expression:\"piggy_bank_id\"}],ref:\"piggy_bank_id\",class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"title\":_vm.$t('firefly.piggy_bank'),\"autocomplete\":\"off\",\"name\":\"piggy_bank_id[]\"},on:{\"submit\":function($event){$event.preventDefault();},\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.piggy_bank_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((this.piggyList),function(piggy){return _c('option',{attrs:{\"label\":piggy.name_with_balance},domProps:{\"value\":piggy.id}},[_vm._v(_vm._s(piggy.name_with_balance))])}),0)]),_vm._v(\" \"),(_vm.errors.length > 0)?_c('span',_vm._l((_vm.errors),function(error){return _c('span',{staticClass:\"text-danger small\"},[_vm._v(_vm._s(error)),_c('br')])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionInternalReference.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.internal_reference') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"reference\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.internal_reference')\"\n          name=\"internal_reference[]\"\n          type=\"text\"\n      />\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionInternalReference\",\n  data() {\n    return {\n      reference: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('internal_reference' in this.availableFields) {\n        return this.availableFields.internal_reference;\n      }\n      return false;\n    }\n  },\n  methods: {},\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    value: function (value) {\n      this.emitEvent = false;\n      this.reference = value;\n    },\n    reference: function (value) {\n      this.$emit('set-field', {field: 'internal_reference', index: this.index, value: value});\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionInternalReference.vue?vue&type=template&id=7f1b8c1d&\"\nimport script from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionInternalReference.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.internal_reference'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reference),expression:\"reference\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.internal_reference'),\"name\":\"internal_reference[]\",\"type\":\"text\"},domProps:{\"value\":(_vm.reference)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reference=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionExternalUrl.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionInternalReference.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.external_url') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          v-model=\"url\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.external_url')\"\n          name=\"external_url[]\"\n          type=\"url\"\n      />\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary\" tabindex=\"-1\" type=\"button\"><i class=\"far fa-trash-alt\"></i></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionExternalUrl\",\n  data() {\n    return {\n      url: this.value,\n      availableFields: this.customFields,\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('external_uri' in this.availableFields) {\n        return this.availableFields.external_uri;\n      }\n      return false;\n    }\n  },\n  methods: {},\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    value: function (value) {\n      this.url = value;\n    },\n    url: function (value) {\n      this.$emit('set-field', {field: 'external_url', index: this.index, value: value});\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionExternalUrl.vue?vue&type=template&id=7f6746e6&scoped=true&\"\nimport script from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionExternalUrl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f6746e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.external_url'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.external_url'),\"name\":\"external_url[]\",\"type\":\"url\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"tabindex\":\"-1\",\"type\":\"button\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionNotes.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionNotes.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.notes') }}\n    </div>\n    <div class=\"input-group\">\n      <textarea\n          v-model=\"notes\"\n          :class=\"errors.length > 0 ? 'form-control is-invalid' : 'form-control'\"\n          :placeholder=\"$t('firefly.notes')\"\n      ></textarea>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionNotes\",\n  data() {\n    return {\n      notes: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('notes' in this.availableFields) {\n        return this.availableFields.notes;\n      }\n      return false;\n    }\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.notes = value;\n    },\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    notes: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {field: 'notes', index: this.index, value: value});\n      }\n      this.emitEvent = true;\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionNotes.vue?vue&type=template&id=10b3ae7a&scoped=true&\"\nimport script from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionNotes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10b3ae7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.notes'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.notes),expression:\"notes\"}],class:_vm.errors.length > 0 ? 'form-control is-invalid' : 'form-control',attrs:{\"placeholder\":_vm.$t('firefly.notes')},domProps:{\"value\":(_vm.notes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.notes=$event.target.value}}})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionLinks.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\">\n    <div class=\"form-group\">\n      <div class=\"text-xs d-none d-lg-block d-xl-block\">\n        {{ $t('firefly.journal_links') }}\n      </div>\n      <div class=\"row\">\n        <div class=\"col\">\n          <p v-if=\"links.length === 0\">\n            <button class=\"btn btn-default btn-xs\" data-target=\"#linkModal\" data-toggle=\"modal\"><i class=\"fas fa-plus\"></i> Add transaction link</button>\n          </p>\n          <ul v-if=\"links.length > 0\" class=\"list-group\">\n            <li v-for=\"transaction in links\" class=\"list-group-item\">\n              <em>{{ getTextForLinkType(transaction.link_type_id) }}</em>\n              <a :href='\"./transaction/show/\" + transaction.transaction_group_id'>{{ transaction.description }}</a>\n\n              <span v-if=\"transaction.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount) * -1)\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <span v-if=\"transaction.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                  Intl.NumberFormat(locale, {\n                    style: 'currency',\n                    currency: transaction.currency_code\n                  }).format(parseFloat(transaction.amount))\n                }}</span>)\n                        </span>\n              <div class=\"btn-group btn-group-xs float-right\">\n                <a class=\"btn btn-xs btn-default\" href=\"#\" tabindex=\"-1\"><i class=\"far fa-edit\"></i></a>\n                <a class=\"btn btn-xs btn-danger\" href=\"#\" tabindex=\"-1\"><i class=\"far fa-trash-alt\"></i></a>\n              </div>\n            </li>\n          </ul>\n          <div v-if=\"links.length > 0\" class=\"form-text\">\n            <button class=\"btn btn-default\" data-target=\"#linkModal\" data-toggle=\"modal\"><i class=\"fas fa-plus\"></i></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- modal -->\n    <div id=\"linkModal\" class=\"modal\" tabindex=\"-1\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Transaction thing dialog.</h5>\n            <button aria-label=\"Close\" class=\"close\" data-dismiss=\"modal\" type=\"button\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"container-fluid\">\n              <div class=\"row\">\n                <div class=\"col\">\n                  <p>\n                    Use this form to search for transactions you wish to link to this one. When in doubt, use <code>id:*</code> where the ID is the number from\n                    the URL.\n                  </p>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <form v-on:submit.prevent=\"search\">\n                    <div class=\"input-group\">\n                      <input id=\"query\" v-model=\"query\" autocomplete=\"off\" class=\"form-control\" maxlength=\"255\" name=\"search\"\n                             placeholder=\"Search query\" type=\"text\">\n                      <div class=\"input-group-append\">\n                        <button class=\"btn btn-default\" type=\"submit\"><i class=\"fas fa-search\"></i> Search</button>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col\">\n                  <span v-if=\"searching\"><i class=\"fas fa-spinner fa-spin\"></i></span>\n                  <h4 v-if=\"searchResults.length > 0\">Search results</h4>\n                  <table v-if=\"searchResults.length > 0\" class=\"table table-sm\">\n                    <thead>\n                    <tr>\n                      <th colspan=\"2\" style=\"width:33%\">Include?</th>\n                      <th>Transaction</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr v-for=\"result in searchResults\">\n                      <td>\n                        <input v-model=\"result.selected\" class=\"form-control\"\n                               type=\"checkbox\"\n                               @change=\"selectTransaction($event)\"\n                        />\n                      </td>\n                      <td>\n                        <select\n                            v-model=\"result.link_type_id\"\n                            class=\"form-control\"\n                            @change=\"selectLinkType($event)\"\n                        >\n                          <option v-for=\"linkType in linkTypes\" :label=\"linkType.type\" :value=\"linkType.id + '-' + linkType.direction\">{{\n                              linkType.type\n                            }}\n                          </option>\n                        </select>\n                      </td>\n                      <td>\n                        <a :href=\"'./transactions/show/' + result.transaction_group_id\">{{ result.description }}</a>\n                        <span v-if=\"result.type === 'withdrawal'\">\n                          (<span class=\"text-danger\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount) * -1)\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'deposit'\">\n                          (<span class=\"text-success\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <span v-if=\"result.type === 'transfer'\">\n                          (<span class=\"text-info\">{{\n                            Intl.NumberFormat(locale, {\n                              style: 'currency',\n                              currency: result.currency_code\n                            }).format(parseFloat(result.amount))\n                          }}</span>)\n                        </span>\n                        <br/>\n                        <em>\n                          <a :href=\"'./accounts/show/' + result.source_id\">{{ result.source_name }}</a>\n                          &rarr;\n                          <a :href=\"'./accounts/show/' + result.destination_id\">{{ result.destination_name }}</a>\n                        </em>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-secondary\" data-dismiss=\"modal\" type=\"button\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst lodashClonedeep = require('lodash.clonedeep');\n// TODO error handling\nexport default {\n  props: ['index', 'value', 'errors', 'customFields'],\n  name: \"TransactionLinks\",\n  data() {\n    return {\n      searchResults: [],\n      include: [],\n      locale: 'en-US',\n      linkTypes: [],\n      query: '',\n      searching: false,\n      links: this.value,\n      availableFields: this.customFields,\n      emitEvent: true\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.links = lodashClonedeep(this.value);\n    this.getLinkTypes();\n  },\n  computed: {\n    showField: function () {\n      if ('links' in this.availableFields) {\n        return this.availableFields.links;\n      }\n      return false;\n    }\n  },\n  watch: {\n    value: function (value) {\n      this.emitEvent = false;\n      this.links = lodashClonedeep(value);\n    },\n    links: function (value) {\n      if (true === this.emitEvent) {\n        this.$emit('set-field', {index: this.index, field: 'links', value: lodashClonedeep(value)});\n      }\n      this.emitEvent = true;\n    },\n    customFields: function (value) {\n      this.availableFields = value;\n    }\n  },\n  methods: {\n    getTextForLinkType: function (linkTypeId) {\n      let parts = linkTypeId.split('-');\n      for (let i in this.linkTypes) {\n        if (this.linkTypes.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.linkTypes[i];\n          if (parts[0] === current.id && parts[1] === current.direction) {\n            return current.type;\n          }\n        }\n      }\n      return 'text for #' + linkTypeId;\n    },\n    selectTransaction: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          if (current.selected) {\n            this.addToSelected(current);\n          }\n          if (!current.selected) {\n            // remove from\n            this.removeFromSelected(current);\n          }\n        }\n      }\n    },\n    selectLinkType: function (event) {\n      for (let i in this.searchResults) {\n        if (this.searchResults.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.searchResults[i];\n          this.updateSelected(current.transaction_journal_id, current.link_type_id);\n        }\n      }\n    },\n    updateSelected(journalId, linkTypeId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (parseInt(current.transaction_journal_id) === journalId) {\n            this.links[i].link_type_id = linkTypeId;\n          }\n        }\n      }\n    },\n    addToSelected(journal) {\n      let result = this.links.find(({transaction_journal_id}) => transaction_journal_id === journal.transaction_journal_id);\n      if (typeof result === 'undefined') {\n        this.links.push(journal);\n      }\n    },\n    removeFromSelected(journal) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journal.transaction_journal_id) {\n            this.links.splice(parseInt(i), 1);\n          }\n        }\n      }\n    },\n    getLinkTypes: function () {\n      let url = './api/v1/link_types';\n      axios.get(url)\n          .then(response => {\n                  this.parseLinkTypes(response.data);\n                }\n          );\n    },\n    parseLinkTypes: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = data.data[i];\n          let linkTypeInward = {\n            id: current.id,\n            type: current.attributes.inward,\n            direction: 'inward'\n          };\n          let linkTypeOutward = {\n            id: current.id,\n            type: current.attributes.outward,\n            direction: 'outward'\n          };\n          if (linkTypeInward.type === linkTypeOutward.type) {\n            linkTypeInward.type = linkTypeInward.type + ' ()';\n            linkTypeOutward.type = linkTypeOutward.type + ' ()';\n          }\n          this.linkTypes.push(linkTypeInward);\n          this.linkTypes.push(linkTypeOutward);\n        }\n      }\n    },\n    search: function () {\n      this.searching = true;\n      this.searchResults = [];\n      let url = './api/v1/search/transactions?limit=10&query=' + this.query;\n      axios.get(url)\n          .then(response => {\n                  this.parseSearch(response.data);\n                }\n          );\n    },\n    parseSearch: function (data) {\n      for (let i in data.data) {\n        if (data.data.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          for (let ii in data.data[i].attributes.transactions) {\n            if (data.data[i].attributes.transactions.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n              let current = data.data[i].attributes.transactions[ii];\n              current.transaction_group_id = parseInt(data.data[i].id);\n              current.selected = this.isJournalSelected(current.transaction_journal_id);\n              current.link_type_id = this.getJournalLinkType(current.transaction_journal_id);\n              current.link_type_text = '';\n              this.searchResults.push(current);\n            }\n          }\n        }\n      }\n      this.searching = false;\n    },\n    getJournalLinkType: function (journalId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journalId) {\n            return current.link_type_id;\n          }\n        }\n      }\n      return '1-inward';\n    },\n    isJournalSelected: function (journalId) {\n      for (let i in this.links) {\n        if (this.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.links[i];\n          if (current.transaction_journal_id === journalId) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionLinks.vue?vue&type=template&id=3587f230&\"\nimport script from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('firefly.journal_links'))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.links.length === 0)?_c('p',[_vm._m(0)]):_vm._e(),_vm._v(\" \"),(_vm.links.length > 0)?_c('ul',{staticClass:\"list-group\"},_vm._l((_vm.links),function(transaction){return _c('li',{staticClass:\"list-group-item\"},[_c('em',[_vm._v(_vm._s(_vm.getTextForLinkType(transaction.link_type_id)))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"./transaction/show/\" + transaction.transaction_group_id}},[_vm._v(_vm._s(transaction.description))]),_vm._v(\" \"),(transaction.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(transaction.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                  style: 'currency',\n                  currency: transaction.currency_code\n                }).format(parseFloat(transaction.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_vm._m(1,true)])}),0):_vm._e(),_vm._v(\" \"),(_vm.links.length > 0)?_c('div',{staticClass:\"form-text\"},[_vm._m(2)]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal\",attrs:{\"id\":\"linkModal\",\"tabindex\":\"-1\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"container-fluid\"},[_vm._m(4),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"form-control\",attrs:{\"id\":\"query\",\"autocomplete\":\"off\",\"maxlength\":\"255\",\"name\":\"search\",\"placeholder\":\"Search query\",\"type\":\"text\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_vm._m(5)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.searching)?_c('span',[_c('i',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('h4',[_vm._v(\"Search results\")]):_vm._e(),_vm._v(\" \"),(_vm.searchResults.length > 0)?_c('table',{staticClass:\"table table-sm\"},[_vm._m(6),_vm._v(\" \"),_c('tbody',_vm._l((_vm.searchResults),function(result){return _c('tr',[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.selected),expression:\"result.selected\"}],staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(result.selected)?_vm._i(result.selected,null)>-1:(result.selected)},on:{\"change\":[function($event){var $$a=result.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(result, \"selected\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(result, \"selected\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(result, \"selected\", $$c)}},function($event){return _vm.selectTransaction($event)}]}})]),_vm._v(\" \"),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(result.link_type_id),expression:\"result.link_type_id\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(result, \"link_type_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.selectLinkType($event)}]}},_vm._l((_vm.linkTypes),function(linkType){return _c('option',{attrs:{\"label\":linkType.type},domProps:{\"value\":linkType.id + '-' + linkType.direction}},[_vm._v(_vm._s(linkType.type)+\"\\n                        \")])}),0)]),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"href\":'./transactions/show/' + result.transaction_group_id}},[_vm._v(_vm._s(result.description))]),_vm._v(\" \"),(result.type === 'withdrawal')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount) * -1)))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'deposit')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-success\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),(result.type === 'transfer')?_c('span',[_vm._v(\"\\n                        (\"),_c('span',{staticClass:\"text-info\"},[_vm._v(_vm._s(Intl.NumberFormat(_vm.locale, {\n                            style: 'currency',\n                            currency: result.currency_code\n                          }).format(parseFloat(result.amount))))]),_vm._v(\")\\n                      \")]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('em',[_c('a',{attrs:{\"href\":'./accounts/show/' + result.source_id}},[_vm._v(_vm._s(result.source_name))]),_vm._v(\"\\n                        \\n                        \"),_c('a',{attrs:{\"href\":'./accounts/show/' + result.destination_id}},[_vm._v(_vm._s(result.destination_name))])])])])}),0)]):_vm._e()])])])]),_vm._v(\" \"),_vm._m(7)])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-default btn-xs\",attrs:{\"data-target\":\"#linkModal\",\"data-toggle\":\"modal\"}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add transaction link\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-group btn-group-xs float-right\"},[_c('a',{staticClass:\"btn btn-xs btn-default\",attrs:{\"href\":\"#\",\"tabindex\":\"-1\"}},[_c('i',{staticClass:\"far fa-edit\"})]),_vm._v(\" \"),_c('a',{staticClass:\"btn btn-xs btn-danger\",attrs:{\"href\":\"#\",\"tabindex\":\"-1\"}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-default\",attrs:{\"data-target\":\"#linkModal\",\"data-toggle\":\"modal\"}},[_c('i',{staticClass:\"fas fa-plus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Transaction thing dialog.\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"aria-label\":\"Close\",\"data-dismiss\":\"modal\",\"type\":\"button\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('p',[_vm._v(\"\\n                  Use this form to search for transactions you wish to link to this one. When in doubt, use \"),_c('code',[_vm._v(\"id:*\")]),_vm._v(\" where the ID is the number from\\n                  the URL.\\n                \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-search\"}),_vm._v(\" Search\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"33%\"},attrs:{\"colspan\":\"2\"}},[_vm._v(\"Include?\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Transaction\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"data-dismiss\":\"modal\",\"type\":\"button\"}},[_vm._v(\"Close\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionAttachments.vue?vue&type=script&lang=js&\"","<!--\n  - TransactionAttachments.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.attachments') }}\n    </div>\n    <div class=\"input-group\">\n      <input\n          ref=\"att\"\n          class=\"form-control\"\n          multiple\n          name=\"attachments[]\"\n          type=\"file\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TransactionAttachments\",\n  props: ['transaction_journal_id', 'customFields'],\n  data() {\n    return {\n      availableFields: this.customFields\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n    transaction_journal_id: function (value) {\n      if (!this.showField) {\n        // console.log('Field is hidden. Emit event!');\n        this.$emit('uploaded-attachments', value);\n        return;\n      }\n      // console.log('transaction_journal_id changed to ' + value);\n      // do upload!\n      if (0 !== value) {\n        this.doUpload();\n      }\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('attachments' in this.availableFields) {\n        return this.availableFields.attachments;\n      }\n      return false;\n    }\n  },\n  methods: {\n    doUpload: function () {\n      // console.log('Now in doUpload() for ' + this.$refs.att.files.length + ' files.');\n      for (let i in this.$refs.att.files) {\n        if (this.$refs.att.files.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = this.$refs.att.files[i];\n          let fileReader = new FileReader();\n          let theParent = this; // dont ask me why i need to do this.\n          fileReader.onloadend = function (evt) {\n            if (evt.target.readyState === FileReader.DONE) {\n              // do upload here\n              const uri = './api/v1/attachments';\n              const data = {\n                filename: current.name,\n                attachable_type: 'TransactionJournal',\n                attachable_id: theParent.transaction_journal_id,\n              };\n              // create new attachment:\n              axios.post(uri, data).then(response => {\n                // upload actual file:\n                const uploadUri = './api/v1/attachments/' + response.data.data.id + '/upload';\n                axios\n                    .post(uploadUri, new Blob([evt.target.result]))\n                    .then(attachmentResponse => {\n                      // TODO feedback etc.\n                      // console.log('Uploaded a file. Emit event!');\n                      // console.log(attachmentResponse);\n                      theParent.$emit('uploaded-attachments', this.transaction_journal_id);\n                    });\n              });\n            }\n          }\n          fileReader.readAsArrayBuffer(current);\n        }\n      }\n      if (0 === this.$refs.att.files.length) {\n        // console.log('No files to upload. Emit event!');\n        this.$emit('uploaded-attachments', this.transaction_journal_id);\n      }\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>","import { render, staticRenderFns } from \"./TransactionAttachments.vue?vue&type=template&id=1094c53b&scoped=true&\"\nimport script from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionAttachments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1094c53b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.attachments'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('input',{ref:\"att\",staticClass:\"form-control\",attrs:{\"multiple\":\"\",\"name\":\"attachments[]\",\"type\":\"file\"}})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionLocation.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div v-if=\"showField\" class=\"form-group\">\n    <div class=\"text-xs d-none d-lg-block d-xl-block\">\n      {{ $t('firefly.location') }}\n    </div>\n    <div style=\"width:100%;height:300px;\">\n      <l-map\n          ref=\"myMap\"\n          :center=\"center\"\n          :zoom=\"zoom\" style=\"width:100%;height:300px;\"\n          @ready=\"prepMap()\"\n          @update:zoom=\"zoomUpdated\"\n          @update:center=\"centerUpdated\"\n          @update:bounds=\"boundsUpdated\"\n      >\n        <l-tile-layer :url=\"url\"></l-tile-layer>\n        <l-marker :lat-lng=\"marker\" :visible=\"hasMarker\"></l-marker>\n      </l-map>\n      <span>\n        <button class=\"btn btn-default btn-xs\" @click=\"clearLocation\">{{ $t('firefly.clear_location') }}</button>\n      </span>\n    </div>\n    <p>&nbsp;</p>\n  </div>\n</template>\n\n<script>\n\n// If you need to reference 'L', such as in 'L.icon', then be sure to\n// explicitly import 'leaflet' into your component\n// import L from 'leaflet';\nimport {LMap, LMarker, LTileLayer} from 'vue2-leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n                              iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n                              iconUrl: require('leaflet/dist/images/marker-icon.png'),\n                              shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n                            });\n\nexport default {\n  name: \"TransactionLocation\",\n  props: ['index', 'value', 'errors', 'customFields'],\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  created() {\n    axios.get('./api/v1/configuration/static/firefly.default_location').then(response => {\n      this.zoom = parseInt(response.data['firefly.default_location'].zoom_level);\n      this.center =\n          [\n            parseFloat(response.data['firefly.default_location'].latitude),\n            parseFloat(response.data['firefly.default_location'].longitude),\n          ]\n      ;\n    });\n  },\n  data() {\n    return {\n      availableFields: this.customFields,\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      zoom: 3,\n      center: [0, 0],\n      bounds: null,\n      map: null,\n      hasMarker: false,\n      marker: [0, 0],\n    }\n  },\n  methods: {\n    prepMap: function () {\n      this.map = this.$refs.myMap.mapObject;\n      this.map.on('contextmenu', this.setObjectLocation);\n      this.map.on('zoomend', this.saveZoomLevel);\n    },\n    setObjectLocation: function (event) {\n      this.marker = [event.latlng.lat, event.latlng.lng];\n      this.hasMarker = true;\n      this.emitEvent();\n    },\n    saveZoomLevel: function () {\n      this.emitEvent();\n    },\n    clearLocation: function () {\n      this.hasMarker = false;\n      this.emitEvent();\n    },\n    emitEvent() {\n      this.$emit('set-marker-location', {\n                   index: this.index,\n                   zoomLevel: this.zoom,\n                   lat: this.marker[0],\n                   lng: this.marker[1],\n                   hasMarker: this.hasMarker\n                 }\n      );\n    },\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated(bounds) {\n      this.bounds = bounds;\n    }\n  },\n  computed: {\n    showField: function () {\n      if ('location' in this.availableFields) {\n        return this.availableFields.location;\n      }\n      return false;\n    }\n  },\n  watch: {\n    customFields: function (value) {\n      this.availableFields = value;\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLocation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionLocation.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SplitForm.vue?vue&type=script&lang=js&\"","<!--\n  - SplitForm.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div :id=\"'split_' + index\" :class=\"'tab-pane' + (0===index ? ' active' : '')\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.basic_journal_information') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n            <div v-if=\"count>1\" class=\"card-tools\">\n              <button class=\"btn btn-danger btn-xs\" @click=\"removeTransaction\"><i class=\"fas fa-trash-alt\"></i></button>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionDescription\n                    v-model=\"transaction.description\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.description\"\n                    :index=\"index\"\n                ></TransactionDescription>\n              </div>\n            </div>\n            <!-- source and destination -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- SOURCE -->\n                <TransactionAccount\n                    v-model=\"sourceAccount\"\n                    v-on=\"$listeners\"\n                    :allowed-opposing-types=\"allowedOpposingTypes\"\n                    :destination-allowed-types=\"destinationAllowedTypes\"\n                    :errors=\"transaction.errors.source\"\n                    :index=\"index\"\n                    :source-allowed-types=\"sourceAllowedTypes\"\n                    direction=\"source\"\n                />\n              </div>\n              <!-- switcharoo! -->\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <SwitchAccount\n                    v-if=\"0 === index\"\n                    v-on=\"$listeners\"\n                    :index=\"index\"\n                    :transaction-type=\"transactionType\"\n                />\n              </div>\n\n              <!-- destination -->\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <!-- DESTINATION -->\n                <TransactionAccount\n                    v-model=\"destinationAccount\"\n                    v-on=\"$listeners\"\n                    :allowed-opposing-types=\"allowedOpposingTypes\"\n                    :destination-allowed-types=\"destinationAllowedTypes\"\n                    :errors=\"transaction.errors.destination\"\n                    :index=\"index\"\n                    :source-allowed-types=\"sourceAllowedTypes\"\n                    direction=\"destination\"\n                />\n              </div>\n            </div>\n\n\n            <!-- amount  -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\">\n                <!-- AMOUNT -->\n                <TransactionAmount\n                    v-on=\"$listeners\"\n                    :amount=\"transaction.amount\"\n                    :destination-currency-symbol=\"this.transaction.destination_account_currency_symbol\"\n                    :errors=\"transaction.errors.amount\"\n                    :index=\"index\"\n                    :source-currency-symbol=\"this.transaction.source_account_currency_symbol\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n              <div class=\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\">\n                <TransactionForeignCurrency\n                    v-model=\"transaction.foreign_currency_id\"\n                    v-on=\"$listeners\"\n                    :destination-currency-id=\"this.transaction.destination_account_currency_id\"\n                    :index=\"index\"\n                    :selected-currency-id=\"this.transaction.foreign_currency_id\"\n                    :source-currency-id=\"this.transaction.source_account_currency_id\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <!--\n                The reason that TransactionAmount gets the symbols and\n                TransactionForeignAmount gets the ID's of the currencies is\n                because ultimately TransactionAmount doesn't decide which\n                currency id is submitted to Firefly III.\n                -->\n                <TransactionForeignAmount\n                    v-model=\"transaction.foreign_amount\"\n                    v-on=\"$listeners\"\n                    :destination-currency-id=\"this.transaction.destination_account_currency_id\"\n                    :errors=\"transaction.errors.foreign_amount\"\n                    :index=\"index\"\n                    :selected-currency-id=\"this.transaction.foreign_currency_id\"\n                    :source-currency-id=\"this.transaction.source_account_currency_id\"\n                    :transaction-type=\"this.transactionType\"\n                />\n              </div>\n            </div>\n\n            <!-- dates -->\n            <div class=\"row\">\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionDate\n                    v-on=\"$listeners\"\n                    :date=\"splitDate\"\n                    :errors=\"transaction.errors.date\"\n                    :index=\"index\"\n                    :time=\"splitTime\"\n                />\n              </div>\n\n              <div class=\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\">\n                <TransactionCustomDates\n                    v-on=\"$listeners\"\n                    :book-date=\"transaction.book_date\"\n                    :custom-fields.sync=\"customFields\"\n                    :due-date=\"transaction.due_date\"\n                    :errors=\"transaction.errors.custom_dates\"\n                    :index=\"index\"\n                    :interest-date=\"transaction.interest_date\"\n                    :invoice-date=\"transaction.invoice_date\"\n                    :payment-date=\"transaction.payment_date\"\n                    :process-date=\"transaction.process_date\"\n                />\n              </div>\n            </div>\n\n            <!-- end of body -->\n          </div>\n        </div>\n      </div>\n    </div> <!-- end of basic card -->\n\n    <!-- card for meta -->\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.transaction_journal_meta') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <!-- meta -->\n            <div class=\"row\">\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionBudget\n                    v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.budget_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.budget\"\n                    :index=\"index\"\n                />\n                <TransactionCategory\n                    v-model=\"transaction.category\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.category\"\n                    :index=\"index\"\n                />\n              </div>\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                <TransactionBill\n                    v-if=\"!('Transfer' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.bill_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.bill\"\n                    :index=\"index\"\n                />\n                <TransactionTags\n                    v-model=\"transaction.tags\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.tags\"\n                    :index=\"index\"\n                />\n                <TransactionPiggyBank\n                    v-if=\"!('Withdrawal' === transactionType || 'Deposit' === transactionType)\"\n                    v-model=\"transaction.piggy_bank_id\"\n                    v-on=\"$listeners\"\n                    :errors=\"transaction.errors.piggy_bank\"\n                    :index=\"index\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end card for meta -->\n    <!-- card for extra -->\n    <div v-if=\"hasMetaFields\" class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">\n              {{ $t('firefly.transaction_journal_extra') }}\n              <span v-if=\"count > 1\">({{ index + 1 }} / {{ count }}) </span>\n            </h3>\n          </div>\n          <div class=\"card-body\">\n            <!-- start of body -->\n            <div class=\"row\">\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                <TransactionInternalReference\n                    v-model=\"transaction.internal_reference\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.internal_reference\"\n                    :index=\"index\"\n                />\n\n                <TransactionExternalUrl\n                    v-model=\"transaction.external_url\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.external_url\"\n                    :index=\"index\"\n                />\n                <TransactionNotes\n                    v-model=\"transaction.notes\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.notes\"\n                    :index=\"index\"\n                />\n              </div>\n              <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n\n                <TransactionAttachments\n                    ref=\"attachments\"\n                    v-model=\"transaction.attachments\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :index=\"index\"\n                    :submitted_transaction=\"submittedTransaction\"\n                    :transaction_journal_id=\"transaction.transaction_journal_id\"\n                />\n                <TransactionLocation\n                    v-model=\"transaction.notes\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :errors=\"transaction.errors.location\"\n                    :index=\"index\"\n                />\n\n                <TransactionLinks\n                    v-model=\"transaction.links\"\n                    v-on=\"$listeners\"\n                    :custom-fields.sync=\"customFields\"\n                    :index=\"index\"\n                />\n              </div>\n\n            </div>\n            <!-- end of body -->\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end card for extra -->\n    <!-- end of card -->\n  </div>\n</template>\n\n<script>\n\nimport TransactionDescription from \"./TransactionDescription\";\nimport TransactionDate from \"./TransactionDate\";\nimport TransactionBudget from \"./TransactionBudget\";\nimport TransactionAccount from \"./TransactionAccount\";\nimport SwitchAccount from \"./SwitchAccount\";\nimport TransactionAmount from \"./TransactionAmount\";\nimport TransactionForeignAmount from \"./TransactionForeignAmount\";\nimport TransactionForeignCurrency from \"./TransactionForeignCurrency\";\nimport TransactionCustomDates from \"./TransactionCustomDates\";\nimport TransactionCategory from \"./TransactionCategory\";\nimport TransactionBill from \"./TransactionBill\";\nimport TransactionTags from \"./TransactionTags\";\nimport TransactionPiggyBank from \"./TransactionPiggyBank\";\nimport TransactionInternalReference from \"./TransactionInternalReference\";\nimport TransactionExternalUrl from \"./TransactionExternalUrl\";\nimport TransactionNotes from \"./TransactionNotes\";\nimport TransactionLinks from \"./TransactionLinks\";\nimport TransactionAttachments from \"./TransactionAttachments\";\nimport SplitPills from \"./SplitPills\";\nimport TransactionLocation from \"./TransactionLocation\";\n\nexport default {\n  name: \"SplitForm\",\n  props: [\n    'transaction',\n    'split',\n    'count',\n    'customFields', // for custom transaction form fields.\n    'index',\n    'date',\n    'time',\n    'transactionType',\n    'submittedTransaction', // need to know if transaction is submitted.\n    'sourceAllowedTypes', // allowed source account types.\n    'destinationAllowedTypes',\n    'allowedOpposingTypes'\n  ],\n  // watch: {\n  //   allowedOpposingTypes: function() {\n  //     console.log('SplitForm noticed change in allowedOpposingTypes');\n  //   }\n  // },\n  methods: {\n    removeTransaction: function () {\n      // console.log('Will remove transaction ' + this.index);\n      this.$emit('remove-transaction', {index: this.index});\n    },\n  },\n  computed: {\n    splitDate: function () {\n      return this.date;\n    },\n    splitTime: function () {\n      return this.time;\n    },\n    sourceAccount: function () {\n      return {\n        id: this.transaction.source_account_id,\n        name: this.transaction.source_account_name,\n        type: this.transaction.source_account_type,\n      };\n    },\n    destinationAccount: function () {\n      return {\n        id: this.transaction.destination_account_id,\n        name: this.transaction.destination_account_name,\n        type: this.transaction.destination_account_type,\n      };\n    },\n    hasMetaFields: function () {\n      let requiredFields = [\n        'internal_reference',\n        'notes',\n        'attachments',\n        'external_uri',\n        'location',\n        'links',\n      ];\n      for (let field in this.customFields) {\n        if (this.customFields.hasOwnProperty(field)) {\n          if (requiredFields.includes(field)) {\n            if (true === this.customFields[field]) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  },\n  components: {\n    TransactionLocation,\n    SplitPills,\n    TransactionAttachments,\n    TransactionNotes,\n    TransactionExternalUrl,\n    TransactionInternalReference,\n    TransactionPiggyBank,\n    TransactionTags,\n    TransactionLinks,\n    TransactionBill,\n    TransactionCategory,\n    TransactionCustomDates,\n    TransactionForeignCurrency,\n    TransactionForeignAmount,\n    TransactionAmount,\n    SwitchAccount,\n    TransactionAccount,\n    TransactionBudget,\n    TransactionDescription,\n    TransactionDate\n  },\n}\n</script>\n","import { render, staticRenderFns } from \"./TransactionLocation.vue?vue&type=template&id=5bfa0c41&scoped=true&\"\nimport script from \"./TransactionLocation.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionLocation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bfa0c41\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showField)?_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('firefly.location'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"300px\"}},[_c('l-map',{ref:\"myMap\",staticStyle:{\"width\":\"100%\",\"height\":\"300px\"},attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom},on:{\"ready\":function($event){return _vm.prepMap()},\"update:zoom\":_vm.zoomUpdated,\"update:center\":_vm.centerUpdated,\"update:bounds\":_vm.boundsUpdated}},[_c('l-tile-layer',{attrs:{\"url\":_vm.url}}),_vm._v(\" \"),_c('l-marker',{attrs:{\"lat-lng\":_vm.marker,\"visible\":_vm.hasMarker}})],1),_vm._v(\" \"),_c('span',[_c('button',{staticClass:\"btn btn-default btn-xs\",on:{\"click\":_vm.clearLocation}},[_vm._v(_vm._s(_vm.$t('firefly.clear_location')))])])],1),_vm._v(\" \"),_c('p',[_vm._v(\"\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SplitForm.vue?vue&type=template&id=53c96aa6&\"\nimport script from \"./SplitForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SplitForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:'tab-pane' + (0===_vm.index ? ' active' : ''),attrs:{\"id\":'split_' + _vm.index}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.basic_journal_information'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()]),_vm._v(\" \"),(_vm.count>1)?_c('div',{staticClass:\"card-tools\"},[_c('button',{staticClass:\"btn btn-danger btn-xs\",on:{\"click\":_vm.removeTransaction}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionDescription',_vm._g({attrs:{\"errors\":_vm.transaction.errors.description,\"index\":_vm.index},model:{value:(_vm.transaction.description),callback:function ($$v) {_vm.$set(_vm.transaction, \"description\", $$v)},expression:\"transaction.description\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAccount',_vm._g({attrs:{\"allowed-opposing-types\":_vm.allowedOpposingTypes,\"destination-allowed-types\":_vm.destinationAllowedTypes,\"errors\":_vm.transaction.errors.source,\"index\":_vm.index,\"source-allowed-types\":_vm.sourceAllowedTypes,\"direction\":\"source\"},model:{value:(_vm.sourceAccount),callback:function ($$v) {_vm.sourceAccount=$$v},expression:\"sourceAccount\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[(0 === _vm.index)?_c('SwitchAccount',_vm._g({attrs:{\"index\":_vm.index,\"transaction-type\":_vm.transactionType}},_vm.$listeners)):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAccount',_vm._g({attrs:{\"allowed-opposing-types\":_vm.allowedOpposingTypes,\"destination-allowed-types\":_vm.destinationAllowedTypes,\"errors\":_vm.transaction.errors.destination,\"index\":_vm.index,\"source-allowed-types\":_vm.sourceAllowedTypes,\"direction\":\"destination\"},model:{value:(_vm.destinationAccount),callback:function ($$v) {_vm.destinationAccount=$$v},expression:\"destinationAccount\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-10 col-sm-12 col-xs-12\"},[_c('TransactionAmount',_vm._g({attrs:{\"amount\":_vm.transaction.amount,\"destination-currency-symbol\":this.transaction.destination_account_currency_symbol,\"errors\":_vm.transaction.errors.amount,\"index\":_vm.index,\"source-currency-symbol\":this.transaction.source_account_currency_symbol,\"transaction-type\":this.transactionType}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-2 col-lg-2 col-md-2 col-sm-12 text-center d-none d-sm-block\"},[_c('TransactionForeignCurrency',_vm._g({attrs:{\"destination-currency-id\":this.transaction.destination_account_currency_id,\"index\":_vm.index,\"selected-currency-id\":this.transaction.foreign_currency_id,\"source-currency-id\":this.transaction.source_account_currency_id,\"transaction-type\":this.transactionType},model:{value:(_vm.transaction.foreign_currency_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"foreign_currency_id\", $$v)},expression:\"transaction.foreign_currency_id\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionForeignAmount',_vm._g({attrs:{\"destination-currency-id\":this.transaction.destination_account_currency_id,\"errors\":_vm.transaction.errors.foreign_amount,\"index\":_vm.index,\"selected-currency-id\":this.transaction.foreign_currency_id,\"source-currency-id\":this.transaction.source_account_currency_id,\"transaction-type\":this.transactionType},model:{value:(_vm.transaction.foreign_amount),callback:function ($$v) {_vm.$set(_vm.transaction, \"foreign_amount\", $$v)},expression:\"transaction.foreign_amount\"}},_vm.$listeners))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionDate',_vm._g({attrs:{\"date\":_vm.splitDate,\"errors\":_vm.transaction.errors.date,\"index\":_vm.index,\"time\":_vm.splitTime}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-xl-2 offset-lg-2\"},[_c('TransactionCustomDates',_vm._g({attrs:{\"book-date\":_vm.transaction.book_date,\"custom-fields\":_vm.customFields,\"due-date\":_vm.transaction.due_date,\"errors\":_vm.transaction.errors.custom_dates,\"index\":_vm.index,\"interest-date\":_vm.transaction.interest_date,\"invoice-date\":_vm.transaction.invoice_date,\"payment-date\":_vm.transaction.payment_date,\"process-date\":_vm.transaction.process_date},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}}},_vm.$listeners))],1)])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.transaction_journal_meta'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBudget',_vm._g({attrs:{\"errors\":_vm.transaction.errors.budget,\"index\":_vm.index},model:{value:(_vm.transaction.budget_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"budget_id\", $$v)},expression:\"transaction.budget_id\"}},_vm.$listeners)):_vm._e(),_vm._v(\" \"),_c('TransactionCategory',_vm._g({attrs:{\"errors\":_vm.transaction.errors.category,\"index\":_vm.index},model:{value:(_vm.transaction.category),callback:function ($$v) {_vm.$set(_vm.transaction, \"category\", $$v)},expression:\"transaction.category\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(!('Transfer' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionBill',_vm._g({attrs:{\"errors\":_vm.transaction.errors.bill,\"index\":_vm.index},model:{value:(_vm.transaction.bill_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"bill_id\", $$v)},expression:\"transaction.bill_id\"}},_vm.$listeners)):_vm._e(),_vm._v(\" \"),_c('TransactionTags',_vm._g({attrs:{\"errors\":_vm.transaction.errors.tags,\"index\":_vm.index},model:{value:(_vm.transaction.tags),callback:function ($$v) {_vm.$set(_vm.transaction, \"tags\", $$v)},expression:\"transaction.tags\"}},_vm.$listeners)),_vm._v(\" \"),(!('Withdrawal' === _vm.transactionType || 'Deposit' === _vm.transactionType))?_c('TransactionPiggyBank',_vm._g({attrs:{\"errors\":_vm.transaction.errors.piggy_bank,\"index\":_vm.index},model:{value:(_vm.transaction.piggy_bank_id),callback:function ($$v) {_vm.$set(_vm.transaction, \"piggy_bank_id\", $$v)},expression:\"transaction.piggy_bank_id\"}},_vm.$listeners)):_vm._e()],1)])])])])]),_vm._v(\" \"),(_vm.hasMetaFields)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('firefly.transaction_journal_extra'))+\"\\n            \"),(_vm.count > 1)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.index + 1)+\" / \"+_vm._s(_vm.count)+\") \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionInternalReference',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.internal_reference,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.internal_reference),callback:function ($$v) {_vm.$set(_vm.transaction, \"internal_reference\", $$v)},expression:\"transaction.internal_reference\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionExternalUrl',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.external_url,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.external_url),callback:function ($$v) {_vm.$set(_vm.transaction, \"external_url\", $$v)},expression:\"transaction.external_url\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionNotes',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.notes,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.notes),callback:function ($$v) {_vm.$set(_vm.transaction, \"notes\", $$v)},expression:\"transaction.notes\"}},_vm.$listeners))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('TransactionAttachments',_vm._g({ref:\"attachments\",attrs:{\"custom-fields\":_vm.customFields,\"index\":_vm.index,\"submitted_transaction\":_vm.submittedTransaction,\"transaction_journal_id\":_vm.transaction.transaction_journal_id},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.attachments),callback:function ($$v) {_vm.$set(_vm.transaction, \"attachments\", $$v)},expression:\"transaction.attachments\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionLocation',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"errors\":_vm.transaction.errors.location,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.notes),callback:function ($$v) {_vm.$set(_vm.transaction, \"notes\", $$v)},expression:\"transaction.notes\"}},_vm.$listeners)),_vm._v(\" \"),_c('TransactionLinks',_vm._g({attrs:{\"custom-fields\":_vm.customFields,\"index\":_vm.index},on:{\"update:customFields\":function($event){_vm.customFields=$event},\"update:custom-fields\":function($event){_vm.customFields=$event}},model:{value:(_vm.transaction.links),callback:function ($$v) {_vm.$set(_vm.transaction, \"links\", $$v)},expression:\"transaction.links\"}},_vm.$listeners))],1)])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - Create.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <alert :message=\"errorMessage\" type=\"danger\"/>\n    <alert :message=\"successMessage\" type=\"success\"/>\n    <SplitPills :transactions=\"transactions\"/>\n    <div class=\"tab-content\">\n      <SplitForm\n          v-for=\"(transaction, index) in this.transactions\"\n          v-bind:key=\"index\"\n          :allowed-opposing-types=\"allowedOpposingTypes\"\n          :count=\"transactions.length\"\n          :custom-fields=\"customFields\"\n          :date=\"date\"\n          :destination-allowed-types=\"destinationAllowedTypes\"\n          :index=\"index\"\n          :source-allowed-types=\"sourceAllowedTypes\"\n          :submitted-transaction=\"submittedTransaction\"\n          :time=\"time\"\n          :transaction=\"transaction\"\n          :transaction-type=\"transactionType\"\n          v-on:uploaded-attachments=\"uploadedAttachment($event)\"\n          v-on:set-marker-location=\"storeLocation($event)\"\n          v-on:set-account=\"storeAccountValue($event)\"\n          v-on:switch-accounts=\"switchAccounts($event)\"\n          v-on:set-date=\"storeDate($event)\"\n          v-on:set-time=\"storeTime($event)\"\n          v-on:set-field=\"storeField($event)\"\n          v-on:remove-transaction=\"removeTransaction($event)\"\n          v-on:set-dest-types=\"setDestinationAllowedTypes($event)\"\n          v-on:set-src-types=\"setSourceAllowedTypes($event)\"\n\n      />\n    </div>\n\n    <div class=\"row\">\n      <!-- group title -->\n      <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <div v-if=\"transactions.length > 1\" class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <TransactionGroupTitle v-model=\"this.groupTitle\" :errors=\"this.groupTitleErrors\" v-on:set-group-title=\"storeGroupTitle($event)\"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n        <!-- buttons -->\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                  &nbsp;\n                </div>\n                <button class=\"btn btn-outline-primary btn-block\" @click=\"addTransaction\"><i class=\"far fa-clone\"></i> {{ $t('firefly.add_another_split') }}\n                </button>\n              </div>\n              <div class=\"col\">\n                <div class=\"text-xs d-none d-lg-block d-xl-block\">\n                  &nbsp;\n                </div>\n                <button :disabled=\"!enableSubmit\" class=\"btn btn-success btn-block\" @click=\"submitTransaction\">\n                  <span v-if=\"enableSubmit\"><i class=\"far fa-save\"></i> {{ $t('firefly.store_transaction') }}</span>\n                  <span v-if=\"!enableSubmit\"><i class=\"fas fa-spinner fa-spin\"></i></span>\n                </button>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                &nbsp;\n              </div>\n              <div class=\"col\">\n                <div class=\"form-check\">\n                  <input id=\"createAnother\" v-model=\"createAnother\" class=\"form-check-input\" type=\"checkbox\">\n                  <label class=\"form-check-label\" for=\"createAnother\">\n                    <span class=\"small\">{{ $t('firefly.create_another') }}</span>\n                  </label>\n                </div>\n                <div class=\"form-check\">\n                  <input id=\"resetFormAfter\" v-model=\"resetFormAfter\" :disabled=\"!createAnother\" class=\"form-check-input\" type=\"checkbox\">\n                  <label class=\"form-check-label\" for=\"resetFormAfter\">\n                    <span class=\"small\">{{ $t('firefly.reset_after') }}</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\nimport Alert from '../partials/Alert';\nimport SplitPills from \"./SplitPills\";\nimport TransactionGroupTitle from \"./TransactionGroupTitle\";\nimport SplitForm from \"./SplitForm\";\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('transactions/create')\n\nexport default {\n  name: \"Create\",\n  components: {\n    SplitForm,\n    Alert,\n    SplitPills,\n    TransactionGroupTitle,\n  },\n  created() {\n    this.storeAllowedOpposingTypes();\n    this.storeAccountToTransaction();\n    this.storeCustomFields();\n    this.addTransaction();\n  },\n  data() {\n    return {\n      // error or success message\n      errorMessage: '',\n      successMessage: '',\n\n      // custom fields, useful for components:\n      customFields: [],\n\n      // states for the form (makes sense right)\n      enableSubmit: true,\n      createAnother: false,\n      resetFormAfter: false,\n\n      // things the process is done working on (3 phases):\n      submittedTransaction: false,\n      submittedLinks: false,\n      submittedAttachments: false,\n\n      // transaction was actually submitted?\n      inError: false,\n\n      // number of uploaded attachments\n      // its an object because we count per transaction journal (which can have multiple attachments)\n      // and array doesn't work right.\n      submittedAttCount: {},\n\n      // errors in the group title:\n      groupTitleErrors: [],\n\n      // group ID + title once submitted:\n      returnedGroupId: 0,\n      returnedGroupTitle: '',\n\n      // meta data for accounts\n      accountToTransaction: {},\n      allowedOpposingTypes: {},\n      defaultSourceAllowedTypes: ['Asset account', 'Loan', 'Debt', 'Mortgage', 'Revenue account'],\n      defaultDestinationAllowedTypes: ['Asset account', 'Loan', 'Debt', 'Mortgage', 'Expense account'],\n      sourceAllowedTypes: ['Asset account', 'Loan', 'Debt', 'Mortgage', 'Revenue account'],\n      destinationAllowedTypes: ['Asset account', 'Loan', 'Debt', 'Mortgage', 'Expense account'],\n\n      // date and time not in the store because it was buggy\n      date: new Date,\n      time: new Date,\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'transactionType',\n                    'transactions',\n                    'groupTitle'\n                  ])\n  },\n  watch: {\n    transactions: function () {\n      // console.log('updated transactions');\n    },\n    submittedTransaction: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    },\n    submittedLinks: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    },\n    submittedAttachments: function () {\n      // see finalizeSubmit()\n      this.finalizeSubmit();\n    }\n  },\n  methods: {\n    /**\n     * Store related mutators used by this component.\n     */\n    ...mapMutations(\n        [\n          'setGroupTitle',\n          'addTransaction',\n          'deleteTransaction',\n          'setTransactionError',\n          'setTransactionType',\n          'resetErrors',\n          'updateField',\n          'resetTransactions',\n        ],\n    ),\n    /**\n     * Removes a split from the array.\n     */\n    removeTransaction: function (payload) {\n      // console.log('Triggered to remove transaction ' + payload.index);\n      this.$store.commit('transactions/create/deleteTransaction', payload);\n    },\n    /**\n     * This method grabs the users preferred custom transaction fields. It's used when configuring the\n     * custom date selects that will be available. It could be something the component does by itself,\n     * thereby separating concerns. This is on my list. If it changes to a per-component thing, then\n     * it should be done via the create.js Vue store because multiple components are interested in the\n     * user's custom transaction fields.\n     */\n    storeCustomFields: function () {\n      axios.get('./api/v1/preferences/transaction_journal_optional_fields').then(response => {\n        this.customFields = response.data.data.attributes.data;\n      });\n    },\n    /**\n     * Submitting a transaction consists of 3 steps: submitting the transaction, uploading attachments\n     * and creating links. Only once all three steps are executed may the message be shown or the user be\n     * forwarded.\n     */\n    finalizeSubmit() {\n      // console.log('finalizeSubmit (' + this.submittedTransaction + ', ' + this.submittedAttachments + ', ' + this.submittedLinks + ')');\n      if (this.submittedTransaction && this.submittedAttachments && this.submittedLinks) {\n        // console.log('all true');\n        // console.log('createAnother = ' + this.createAnother);\n        // console.log('inError = ' + this.inError);\n        if (false === this.createAnother && false === this.inError) {\n          // console.log('redirect');\n          window.location.href = (window.previousURL ?? '/') + '?transaction_group_id=' + this.returnedGroupId + '&message=created';\n          return;\n        }\n\n        if (false === this.inError) {\n          // show message:\n          this.errorMessage = '';\n          this.successMessage = this.$t('firefly.transaction_stored_link', {ID: this.returnedGroupId, title: this.returnedGroupTitle});\n        }\n\n        // enable flags:\n        this.enableSubmit = true;\n        this.submittedTransaction = false;\n        this.submittedLinks = false;\n        this.submittedAttachments = false;\n        this.inError = false;\n\n\n        // reset attachments (always do this)\n        for (let i in this.transactions) {\n          if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n            if (this.transactions.hasOwnProperty(i)) {\n              // console.log('Reset attachment #' + i);\n              this.updateField({index: i, field: 'transaction_journal_id', value: 0});\n            }\n          }\n        }\n        this.submittedAttCount = [];\n\n        // reset the form:\n        if (this.resetFormAfter) {\n          this.resetTransactions();\n          // do a short time out?\n          setTimeout(() => this.addTransaction(), 50);\n        }\n        // console.log('Done with finalizeSubmit!');\n        // return;\n      }\n      // console.log('Did nothing in finalizeSubmit');\n    },\n    /**\n     * Actually submit the transaction to Firefly III. This is a fairly complex beast of a thing because multiple things\n     * need to happen in the right order.\n     */\n    submitTransaction: function () {\n      // console.log('submitTransaction()');\n      // disable the submit button:\n      this.enableSubmit = false;\n\n      // convert the data so its ready to be submitted:\n      const url = './api/v1/transactions';\n      const data = this.convertData();\n\n      // console.log('Will submit:');\n      // console.log(data);\n\n      // POST the transaction.\n      axios.post(url, data)\n          .then(response => {\n            // console.log('Response is OK!');\n            // report the transaction is submitted.\n            this.submittedTransaction = true;\n\n            // submit links and attachments (can only be done when the transaction is created)\n            this.submitTransactionLinks(data, response);\n            this.submitAttachments(data, response);\n\n            // meanwhile, store the ID and the title in some easy to access variables.\n            this.returnedGroupId = parseInt(response.data.data.id);\n            this.returnedGroupTitle = null === response.data.data.attributes.group_title ? response.data.data.attributes.transactions[0].description : response.data.data.attributes.group_title;\n            // console.log('Group title is now \"' + this.groupTitle + '\"');\n          })\n          .catch(error => {\n            // oh noes Firefly III has something to bitch about.\n            this.enableSubmit = true;\n            // console.log('enable submit = true');\n            // report the transaction is submitted.\n            this.submittedTransaction = true;\n            // also report attachments and links are submitted:\n            this.submittedAttachments = true;\n            this.submittedLinks = true;\n\n            // but report an error because error:\n            this.inError = true;\n            this.parseErrors(error.response.data);\n          });\n    },\n\n    /**\n     * Submitting transactions means we will give each TransactionAttachment component\n     * the ID of the transaction journal (so it works for multiple splits). Each component\n     * will then start uploading their transactions (so its a separated concern) and report\n     * back to the \"uploadedAttachment\" function below via an event emitter.\n     *\n     * The ID is set via the store.\n     */\n    submitAttachments: function (data, response) {\n      // console.log('submitAttachments()');\n      let result = response.data.data.attributes.transactions\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          if (result.hasOwnProperty(i)) {\n            // console.log('updateField(' + i + ', transaction_journal_id, ' + result[i].transaction_journal_id + ')');\n            this.updateField({index: i, field: 'transaction_journal_id', value: result[i].transaction_journal_id});\n          }\n        }\n      }\n    },\n    /**\n     * When a attachment component is done uploading it ends up here. We create an object where we count how many\n     * attachment components have reported back they're done uploading. Of course if they have nothing to upload\n     * they will be pretty fast in reporting they're done.\n     *\n     * Once the number of components matches the number of splits we know all attachments have been uploaded.\n     */\n    uploadedAttachment: function (journalId) {\n      // console.log('Triggered uploadedAttachment(' + journalId + ')');\n      let key = 'str' + journalId;\n      this.submittedAttCount[key] = 1;\n      let count = Object.keys(this.submittedAttCount).length;\n      // console.log('Count is now ' + count);\n      // console.log('Length is ' + this.transactions.length);\n      if (count === this.transactions.length) {\n        // mark the attachments as stored:\n        this.submittedAttachments = true;\n        // console.log('Got them all!');\n      }\n    },\n    /**\n     * Responds to changed location.\n     */\n    storeLocation: function (payload) {\n      let zoomLevel = payload.hasMarker ? payload.zoomLevel : null;\n      let lat = payload.hasMarker ? payload.lat : null;\n      let lng = payload.hasMarker ? payload.lng : null;\n      this.updateField({index: payload.index, field: 'zoom_level', value: zoomLevel});\n      this.updateField({index: payload.index, field: 'latitude', value: lat});\n      this.updateField({index: payload.index, field: 'longitude', value: lng});\n    },\n    /**\n     * Responds to changed account.\n     */\n    storeAccountValue: function (payload) {\n      this.updateField({index: payload.index, field: payload.direction + '_account_id', value: payload.id});\n      this.updateField({index: payload.index, field: payload.direction + '_account_type', value: payload.type});\n      this.updateField({index: payload.index, field: payload.direction + '_account_name', value: payload.name});\n\n      this.updateField({index: payload.index, field: payload.direction + '_account_currency_id', value: payload.currency_id});\n      this.updateField({index: payload.index, field: payload.direction + '_account_currency_code', value: payload.currency_code});\n      this.updateField({index: payload.index, field: payload.direction + '_account_currency_symbol', value: payload.currency_symbol});\n\n      this.calculateTransactionType(payload.index);\n    },\n    storeField: function (payload) {\n      this.updateField(payload);\n    },\n    storeDate: function (payload) {\n      this.date = payload.date;\n    },\n    storeTime: function (payload) {\n      this.time = payload.time;\n    },\n    storeGroupTitle: function (value) {\n      // console.log('set group title: ' + value);\n      this.setGroupTitle({groupTitle: value});\n    },\n\n    /**\n     * Calculate the transaction type based on what's currently in the store.\n     */\n    calculateTransactionType: function (index) {\n      //console.log('calculateTransactionType(' + index + ')');\n      if (0 === index) {\n        let source = this.transactions[0].source_account_type;\n        let dest = this.transactions[0].destination_account_type;\n        if (null === source || null === dest) {\n          //console.log('transactionType any');\n          this.setTransactionType('any');\n          //this.$store.commit('setTransactionType', 'any');\n          //console.log('calculateTransactionType: either type is NULL so no dice.');\n          return;\n        }\n        if ('' === source || '' === dest) {\n          //console.log('transactionType any');\n          this.setTransactionType('any');\n          //this.$store.commit('setTransactionType', 'any');\n          //console.log('calculateTransactionType: either type is empty so no dice.');\n          return;\n        }\n        // ok so type is set on both:\n        let expectedDestinationTypes = this.accountToTransaction[source];\n        if ('undefined' !== typeof expectedDestinationTypes) {\n          let transactionType = expectedDestinationTypes[dest];\n          if ('undefined' !== typeof expectedDestinationTypes[dest]) {\n            //console.log('Found a type: ' + transactionType);\n            this.setTransactionType(transactionType);\n            //this.$store.commit('setTransactionType', transactionType);\n            //console.log('calculateTransactionType: ' + source + ' --> ' + dest + ' = ' + transactionType);\n            return;\n          }\n        }\n        //console.log('Found no type for ' + source + ' --> ' + dest);\n        if ('Asset account' !== source) {\n          //console.log('Drop ID from destination.');\n          this.updateField({index: 0, field: 'destination_account_id', value: null});\n          //console.log('calculateTransactionType: drop ID from destination.');\n          // source.id =null\n          // context.commit('updateField', {field: 'source_account',index: })\n          // context.state.transactions[0].source_account.id = null;\n        }\n        if ('Asset account' !== dest) {\n          //console.log('Drop ID from source.');\n          this.updateField({index: 0, field: 'source_account_id', value: null});\n          //console.log('calculateTransactionType: drop ID from source.');\n          //context.state.transactions[0].destination_account.id = null;\n        }\n        //console.log('calculateTransactionType: fallback, type to any.');\n        this.setTransactionType('any');\n        //this.$store.commit('setTransactionType', 'any');\n      }\n    },\n    /**\n     * Submit transaction links.\n     */\n    submitTransactionLinks(data, response) {\n      //console.log('submitTransactionLinks()');\n      let promises = [];\n      let result = response.data.data.attributes.transactions;\n      let total = 0;\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let submitted = data.transactions[i];\n          if (result.hasOwnProperty(i)) {\n            // found matching created transaction.\n            let received = result[i];\n            // grab ID from received, loop \"submitted\" transaction links\n            for (let ii in submitted.links) {\n              if (submitted.links.hasOwnProperty(ii) && /^0$|^[1-9]\\d*$/.test(ii) && ii <= 4294967294) {\n                let currentLink = submitted.links[ii];\n                total++;\n                if (0 === currentLink.outward_id) {\n                  currentLink.outward_id = received.transaction_journal_id;\n                }\n                if (0 === currentLink.inward_id) {\n                  currentLink.inward_id = received.transaction_journal_id;\n                }\n                // submit transaction link:\n                promises.push(axios.post('./api/v1/transaction_links', currentLink).then(response => {\n                  // TODO error handling.\n                }));\n              }\n            }\n          }\n        }\n      }\n      if (0 === total) {\n        this.submittedLinks = true;\n        return;\n      }\n      Promise.all(promises).then(function () {\n        this.submittedLinks = true;\n      });\n    },\n\n    parseErrors: function (errors) {\n      for (let i in this.transactions) {\n        this.resetErrors({index: i});\n      }\n      this.successMessage = '';\n      this.errorMessage = this.$t('firefly.errors_submission');\n      if (typeof errors.errors === 'undefined') {\n        this.successMessage = '';\n        this.errorMessage = errors.message;\n      }\n\n      let payload;\n      //payload = {index: 0, field: 'description', errors: ['Test error index 0']};\n      //this.setTransactionError(payload);\n\n      //payload = {index: 1, field: 'description', errors: ['Test error index 1']};\n      //this.setTransactionError(payload);\n\n      let transactionIndex;\n      let fieldName;\n\n      // fairly basic way of exploding the error array.\n      for (const key in errors.errors) {\n        // console.log('Error index: \"' + key + '\"');\n        if (errors.errors.hasOwnProperty(key)) {\n          if (key === 'group_title') {\n            this.groupTitleErrors = errors.errors[key];\n            continue;\n          }\n          if (key !== 'group_title') {\n            // lol dumbest way to explode \"transactions.0.something\" ever.\n            transactionIndex = parseInt(key.split('.')[1]);\n\n            fieldName = key.split('.')[2];\n\n            // set error in this object thing.\n            // console.log('The errors in key \"' + key + '\" are');\n            // console.log(errors.errors[key]);\n            switch (fieldName) {\n              case 'amount':\n              case 'description':\n              case 'date':\n              case 'tags':\n                payload = {index: transactionIndex, field: fieldName, errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'budget_id':\n                payload = {index: transactionIndex, field: 'budget', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'bill_id':\n                payload = {index: transactionIndex, field: 'bill', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'piggy_bank_id':\n                payload = {index: transactionIndex, field: 'piggy_bank', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'category_name':\n                payload = {index: transactionIndex, field: 'category', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'source_name':\n              case 'source_id':\n                payload = {index: transactionIndex, field: 'source', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'destination_name':\n              case 'destination_id':\n                payload = {index: transactionIndex, field: 'destination', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n              case 'foreign_amount':\n              case 'foreign_currency':\n                payload = {index: transactionIndex, field: 'foreign_amount', errors: errors.errors[key]};\n                this.setTransactionError(payload);\n                break;\n            }\n          }\n          // unique some things\n          if (typeof this.transactions[transactionIndex] !== 'undefined') {\n            //this.transactions[transactionIndex].errors.source = Array.from(new Set(this.transactions[transactionIndex].errors.source));\n            //this.transactions[transactionIndex].errors.destination = Array.from(new Set(this.transactions[transactionIndex].errors.destination));\n          }\n\n        }\n      }\n    },\n\n    /**\n     *\n     */\n    convertData: function () {\n      //console.log('now in convertData');\n      let data = {\n        'transactions': []\n      };\n      //console.log('Group title is: \"' + this.groupTitle + '\"');\n      if (this.groupTitle.length > 0) {\n        data.group_title = this.groupTitle;\n      }\n\n      for (let i in this.transactions) {\n        if (this.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          data.transactions.push(this.convertSplit(i, this.transactions[i]));\n        }\n      }\n      if (data.transactions.length > 1 && '' !== data.transactions[0].description) {\n        data.group_title = data.transactions[0].description;\n      }\n\n      // depending on the transaction type for this thing, we need to\n      // make sure other splits match the data we submit.\n      if (data.transactions.length > 1) {\n        // console.log('This is a split!');\n        data = this.synchronizeAccounts(data);\n      }\n\n      return data;\n    },\n    synchronizeAccounts: function (data) {\n      // console.log('synchronizeAccounts: ' + this.transactionType);\n      // make sure all splits have whatever is in split 0.\n      // since its a transfer we can drop the name and use ID's only.\n      for (let i in data.transactions) {\n        if (data.transactions.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          // console.log('now at ' + i);\n\n          // for transfers, overrule both the source and the destination:\n          if ('Transfer' === this.transactionType) {\n            data.transactions[i].source_name = null;\n            data.transactions[i].destination_name = null;\n            if (i > 0) {\n              data.transactions[i].source_id = data.transactions[0].source_id;\n              data.transactions[i].destination_id = data.transactions[0].destination_id;\n            }\n          }\n          // for deposits, overrule the destination and ignore the rest.\n          if ('Deposit' === this.transactionType) {\n            data.transactions[i].destination_name = null;\n            if (i > 0) {\n              data.transactions[i].destination_id = data.transactions[0].destination_id;\n            }\n          }\n\n          // for withdrawals, overrule the source and ignore the rest.\n          if ('Withdrawal' === this.transactionType) {\n            data.transactions[i].source_name = null;\n            if (i > 0) {\n              data.transactions[i].source_id = data.transactions[0].source_id;\n            }\n          }\n        }\n      }\n      return data;\n\n    },\n\n    switchAccounts: function (index) {\n      // console.log('user wants to switch Accounts');\n      let origSourceId = this.transactions[index].source_account_id;\n      let origSourceName = this.transactions[index].source_account_name;\n      let origSourceType = this.transactions[index].source_account_type;\n\n      let origDestId = this.transactions[index].destination_account_id;\n      let origDestName = this.transactions[index].destination_account_name;\n      let origDestType = this.transactions[index].destination_account_type;\n\n      this.updateField({index: 0, field: 'source_account_id', value: origDestId});\n      this.updateField({index: 0, field: 'source_account_name', value: origDestName});\n      this.updateField({index: 0, field: 'source_account_type', value: origDestType});\n\n      this.updateField({index: 0, field: 'destination_account_id', value: origSourceId});\n      this.updateField({index: 0, field: 'destination_account_name', value: origSourceName});\n      this.updateField({index: 0, field: 'destination_account_type', value: origSourceType});\n      this.calculateTransactionType(0);\n    },\n\n\n    /**\n     *\n     * @param key\n     * @param array\n     */\n    convertSplit: function (key, array) {\n      let dateStr = 'invalid';\n      if (\n          this.time instanceof Date && !isNaN(this.time) &&\n          this.date instanceof Date && !isNaN(this.date)\n      ) {\n        let theDate = new Date(this.date);\n        // update time in date object.\n        theDate.setHours(this.time.getHours());\n        theDate.setMinutes(this.time.getMinutes());\n        theDate.setSeconds(this.time.getSeconds());\n        dateStr = this.toW3CString(theDate);\n      }\n\n      // console.log('dateStr = ' + dateStr);\n\n      let currentSplit = {\n        // basic\n        description: array.description,\n        date: dateStr,\n        type: this.transactionType,\n\n        // account\n        source_id: array.source_account_id ?? null,\n        source_name: array.source_account_name ?? null,\n        destination_id: array.destination_account_id ?? null,\n        destination_name: array.destination_account_name ?? null,\n\n        // amount:\n        currency_id: array.currency_id,\n        amount: array.amount,\n\n        // meta data\n        budget_id: array.budget_id,\n        category_name: array.category,\n        tags: array.tags,\n\n        // optional date fields (6x):\n        interest_date: array.interest_date,\n        book_date: array.book_date,\n        process_date: array.process_date,\n        due_date: array.due_date,\n        payment_date: array.payment_date,\n        invoice_date: array.invoice_date,\n\n        // other optional fields:\n        internal_reference: array.internal_reference,\n        external_url: array.external_url,\n        notes: array.notes,\n        external_id: array.external_id,\n\n        // location:\n        zoom_level: array.zoom_level,\n        longitude: array.longitude,\n        latitude: array.latitude,\n\n        // from thing:\n        order: 0,\n        reconciled: false,\n      };\n      // bills and piggy banks\n      if (0 !== array.piggy_bank_id) {\n        currentSplit.piggy_bank_id = array.piggy_bank_id;\n      }\n      if (0 !== array.bill_id) {\n        currentSplit.bill_id = array.bill_id;\n      }\n\n      // foreign amount:\n      if (0 !== array.foreign_currency_id && '' !== array.foreign_amount) {\n        currentSplit.foreign_currency_id = array.foreign_currency_id;\n      }\n      if ('' !== array.foreign_amount) {\n        currentSplit.foreign_amount = array.foreign_amount;\n      }\n\n      // do transaction type\n      let transactionType;\n      let firstSource;\n      let firstDestination;\n\n      // get transaction type from first transaction\n      transactionType = this.transactionType ? this.transactionType.toLowerCase() : 'any';\n      //console.log('Transaction type is now ' + transactionType);\n      // if the transaction type is invalid, might just be that we can deduce it from\n      // the presence of a source or destination account\n      firstSource = this.transactions[0].source_account_type;\n      firstDestination = this.transactions[0].destination_account_type;\n      //console.log(this.transactions[0].source_account);\n      //console.log(this.transactions[0].destination_account);\n      //console.log('Type of first source is  ' + firstSource);\n      //console.log('Type of first destination is  ' + firstDestination);\n\n      // default to source:\n      currentSplit.currency_id = array.source_account_currency_id;\n      if ('any' === transactionType && ['asset', 'Asset account', 'Loan', 'Debt', 'Mortgage'].includes(firstSource)) {\n        transactionType = 'withdrawal';\n      }\n\n      if ('any' === transactionType && ['asset', 'Asset account', 'Loan', 'Debt', 'Mortgage'].includes(firstDestination)) {\n        transactionType = 'deposit';\n        currentSplit.currency_id = array.destination_account_currency_id;\n      }\n      currentSplit.type = transactionType;\n      //console.log('Final type is ' + transactionType);\n\n      let links = [];\n      for (let i in array.links) {\n        if (array.links.hasOwnProperty(i) && /^0$|^[1-9]\\d*$/.test(i) && i <= 4294967294) {\n          let current = array.links[i];\n          let linkTypeParts = current.link_type_id.split('-');\n          let inwardId = 'outward' === linkTypeParts[1] ? 0 : parseInt(current.transaction_journal_id);\n          let outwardId = 'inward' === linkTypeParts[1] ? 0 : parseInt(current.transaction_journal_id);\n          let newLink = {\n            link_type_id: parseInt(linkTypeParts[0]),\n            inward_id: inwardId,\n            outward_id: outwardId,\n          };\n          links.push(newLink);\n        }\n      }\n      currentSplit.links = links;\n\n      // return it.\n      return currentSplit;\n    },\n    toW3CString: function (date) {\n      // https://gist.github.com/tristanlins/6585391\n      let year = date.getFullYear();\n      let month = date.getMonth();\n      month++;\n      if (month < 10) {\n        month = '0' + month;\n      }\n      let day = date.getDate();\n      if (day < 10) {\n        day = '0' + day;\n      }\n      let hours = date.getHours();\n      if (hours < 10) {\n        hours = '0' + hours;\n      }\n      let minutes = date.getMinutes();\n      if (minutes < 10) {\n        minutes = '0' + minutes;\n      }\n      let seconds = date.getSeconds();\n      if (seconds < 10) {\n        seconds = '0' + seconds;\n      }\n      let offset = -date.getTimezoneOffset();\n      let offsetHours = Math.abs(Math.floor(offset / 60));\n      let offsetMinutes = Math.abs(offset) - offsetHours * 60;\n      if (offsetHours < 10) {\n        offsetHours = '0' + offsetHours;\n      }\n      if (offsetMinutes < 10) {\n        offsetMinutes = '0' + offsetMinutes;\n      }\n      let offsetSign = '+';\n      if (offset < 0) {\n        offsetSign = '-';\n      }\n      return year + '-' + month + '-' + day +\n             'T' + hours + ':' + minutes + ':' + seconds +\n             offsetSign + offsetHours + ':' + offsetMinutes;\n    },\n    storeAllowedOpposingTypes: function () {\n      axios.get('./api/v1/configuration/static/firefly.allowed_opposing_types')\n          .then(response => {\n            this.allowedOpposingTypes = response.data['firefly.allowed_opposing_types'];\n            // console.log('Set allowedOpposingTypes');\n          });\n    },\n    storeAccountToTransaction: function () {\n      axios.get('./api/v1/configuration/static/firefly.account_to_transaction')\n          .then(response => {\n            this.accountToTransaction = response.data['firefly.account_to_transaction'];\n          });\n    },\n    setDestinationAllowedTypes: function (value) {\n      // console.log('Create::setDestinationAllowedTypes');\n      // console.log(value);\n      if (0 === value.length) {\n        this.destinationAllowedTypes = this.defaultDestinationAllowedTypes;\n        //console.log('empty so back to defaults');\n        return;\n      }\n      this.destinationAllowedTypes = value;\n    },\n    setSourceAllowedTypes(value) {\n      // console.log('Create::setSourceAllowedTypes');\n      // console.log(value);\n      if (0 === value.length) {\n        this.sourceAllowedTypes = this.defaultSourceAllowedTypes;\n        // console.log('empty so back to defaults');\n        return;\n      }\n      this.sourceAllowedTypes = value;\n    }\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=4a30c5c0&scoped=true&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a30c5c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('alert',{attrs:{\"message\":_vm.errorMessage,\"type\":\"danger\"}}),_vm._v(\" \"),_c('alert',{attrs:{\"message\":_vm.successMessage,\"type\":\"success\"}}),_vm._v(\" \"),_c('SplitPills',{attrs:{\"transactions\":_vm.transactions}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},_vm._l((this.transactions),function(transaction,index){return _c('SplitForm',{key:index,attrs:{\"allowed-opposing-types\":_vm.allowedOpposingTypes,\"count\":_vm.transactions.length,\"custom-fields\":_vm.customFields,\"date\":_vm.date,\"destination-allowed-types\":_vm.destinationAllowedTypes,\"index\":index,\"source-allowed-types\":_vm.sourceAllowedTypes,\"submitted-transaction\":_vm.submittedTransaction,\"time\":_vm.time,\"transaction\":transaction,\"transaction-type\":_vm.transactionType},on:{\"uploaded-attachments\":function($event){return _vm.uploadedAttachment($event)},\"set-marker-location\":function($event){return _vm.storeLocation($event)},\"set-account\":function($event){return _vm.storeAccountValue($event)},\"switch-accounts\":function($event){return _vm.switchAccounts($event)},\"set-date\":function($event){return _vm.storeDate($event)},\"set-time\":function($event){return _vm.storeTime($event)},\"set-field\":function($event){return _vm.storeField($event)},\"remove-transaction\":function($event){return _vm.removeTransaction($event)},\"set-dest-types\":function($event){return _vm.setDestinationAllowedTypes($event)},\"set-src-types\":function($event){return _vm.setSourceAllowedTypes($event)}}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[(_vm.transactions.length > 1)?_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('TransactionGroupTitle',{attrs:{\"errors\":this.groupTitleErrors},on:{\"set-group-title\":function($event){return _vm.storeGroupTitle($event)}},model:{value:(this.groupTitle),callback:function ($$v) {_vm.$set(this, \"groupTitle\", $$v)},expression:\"this.groupTitle\"}})],1)])])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                \\n              \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-primary btn-block\",on:{\"click\":_vm.addTransaction}},[_c('i',{staticClass:\"far fa-clone\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.add_another_split'))+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"text-xs d-none d-lg-block d-xl-block\"},[_vm._v(\"\\n                \\n              \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-success btn-block\",attrs:{\"disabled\":!_vm.enableSubmit},on:{\"click\":_vm.submitTransaction}},[(_vm.enableSubmit)?_c('span',[_c('i',{staticClass:\"far fa-save\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.store_transaction')))]):_vm._e(),_vm._v(\" \"),(!_vm.enableSubmit)?_c('span',[_c('i',{staticClass:\"fas fa-spinner fa-spin\"})]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"\\n              \\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.createAnother),expression:\"createAnother\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"createAnother\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.createAnother)?_vm._i(_vm.createAnother,null)>-1:(_vm.createAnother)},on:{\"change\":function($event){var $$a=_vm.createAnother,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.createAnother=$$a.concat([$$v]))}else{$$i>-1&&(_vm.createAnother=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.createAnother=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"createAnother\"}},[_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.$t('firefly.create_another')))])])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resetFormAfter),expression:\"resetFormAfter\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"resetFormAfter\",\"disabled\":!_vm.createAnother,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.resetFormAfter)?_vm._i(_vm.resetFormAfter,null)>-1:(_vm.resetFormAfter)},on:{\"change\":function($event){var $$a=_vm.resetFormAfter,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.resetFormAfter=$$a.concat([$$v]))}else{$$i>-1&&(_vm.resetFormAfter=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.resetFormAfter=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"resetFormAfter\"}},[_c('span',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.$t('firefly.reset_after')))])])])])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport store from \"../../components/store\";\nimport Create from \"../../components/transactions/Create\";\nimport Vue from \"vue\";\n\nrequire('../../bootstrap');\n\nVue.config.productionTip = false;\n// i18n\nlet i18n = require('../../i18n');\n\nlet props = {};\nnew Vue({\n            i18n,\n            store,\n            render(createElement) {\n                return createElement(Create, {props: props});\n            },\n            beforeCreate() {\n                this.$store.commit('initialiseStore');\n                this.$store.dispatch('updateCurrencyPreference');\n            },\n        }).$mount('#transactions_create');\n"],"sourceRoot":""}