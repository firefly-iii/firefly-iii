{"version":3,"file":"/public/js/transactions/index.js","mappings":"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","sources":["webpack:///./src/bootstrap.js","webpack:///./src/components/store/modules/transactions/create.js","webpack:///./src/components/store/modules/transactions/edit.js","webpack:///./src/components/store/modules/dashboard/index.js","webpack:///./src/components/store/modules/root.js","webpack:///./src/components/store/modules/accounts/index.js","webpack:///./src/components/store/index.js","webpack:///./src/i18n.js","webpack:///src/components/transactions/Index.vue","webpack:///./src/components/transactions/Index.vue?8003","webpack:///./src/components/transactions/Index.vue","webpack:///./src/components/transactions/Index.vue?3cba","webpack:///./src/pages/transactions/index.js","webpack:///./src/shared/forageStore.js","webpack:///./src/shared/transactions.js","webpack:///./src/components/dashboard/Calendar.vue?78b5","webpack:///./src/components/dashboard/Calendar.vue?4aa0","webpack:///src/components/dashboard/Calendar.vue","webpack:///./src/components/dashboard/Calendar.vue?6b2f","webpack:///./src/components/dashboard/Calendar.vue?baae","webpack:///./src/components/dashboard/Calendar.vue","webpack:///./src/components/transactions/TransactionListLarge.vue?0d69","webpack:///src/components/transactions/TransactionListLarge.vue","webpack:///./src/components/transactions/TransactionListLarge.vue?4e79","webpack:///./src/components/transactions/TransactionListLarge.vue"],"sourcesContent":["/*\n * bootstrap.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// // imports\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n'\nimport * as uiv from 'uiv';\n\n// export jquery for others scripts to use\nwindow.$ = window.jQuery = require('jquery');\n\n// axios\nwindow.axios = require('axios');\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n// CSRF\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]');\n\nif (token) {\n    window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n} else {\n    console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');\n}\n\n// locale\nlet localeToken = document.head.querySelector('meta[name=\"locale\"]');\n\nif (localeToken) {\n    localStorage.locale = localeToken.content;\n} else {\n    localStorage.locale = 'en_US';\n}\n\n// admin stuff\nrequire('jquery-ui');\nrequire('bootstrap'); // bootstrap CSS?\n\nrequire('admin-lte/dist/js/adminlte');\nrequire('overlayscrollbars');\n\n\n// vue\nwindow.vuei18n = VueI18n;\nwindow.uiv = uiv;\nVue.use(vuei18n);\nVue.use(uiv);\nwindow.Vue = Vue;","/*\n * create.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst lodashClonedeep = require('lodash.clonedeep');\n\nimport {getDefaultTransaction, getDefaultErrors} from '../../../../shared/transactions';\n\n// initial state\nconst state = () => ({\n        transactionType: 'any',\n        groupTitle: '',\n        transactions: [],\n        customDateFields: {\n            interest_date: false,\n            book_date: false,\n            process_date: false,\n            due_date: false,\n            payment_date: false,\n            invoice_date: false,\n        },\n        defaultTransaction: getDefaultTransaction(),\n        defaultErrors: getDefaultErrors()\n    }\n)\n\n\n// getters\nconst getters = {\n    transactions: state => {\n        return state.transactions;\n    },\n    defaultErrors: state => {\n        return state.defaultErrors;\n    },\n    groupTitle: state => {\n        return state.groupTitle;\n    },\n    transactionType: state => {\n        return state.transactionType;\n    },\n    accountToTransaction: state => {\n// See reference nr. 1\n        // possible API point!!\n        return state.accountToTransaction;\n    },\n    defaultTransaction: state => {\n        return state.defaultTransaction;\n    },\n    sourceAllowedTypes: state => {\n        return state.sourceAllowedTypes;\n    },\n    destinationAllowedTypes: state => {\n        return state.destinationAllowedTypes;\n    },\n    allowedOpposingTypes: state => {\n        return state.allowedOpposingTypes;\n    },\n    customDateFields: state => {\n        return state.customDateFields;\n    }\n    // // `getters` is localized to this module's getters\n    // // you can use rootGetters via 4th argument of getters\n    // someGetter (state, getters, rootState, rootGetters) {\n    //     getters.someOtherGetter // -> 'foo/someOtherGetter'\n    //     rootGetters.someOtherGetter // -> 'someOtherGetter'\n    //     rootGetters['bar/someOtherGetter'] // -> 'bar/someOtherGetter'\n    // },\n\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    addTransaction(state) {\n        let newTransaction = lodashClonedeep(state.defaultTransaction);\n        newTransaction.errors = lodashClonedeep(state.defaultErrors);\n        state.transactions.push(newTransaction);\n    },\n    resetErrors(state, payload) {\n        //console.log('resetErrors for index ' + payload.index);\n        state.transactions[payload.index].errors = lodashClonedeep(state.defaultErrors);\n    },\n    resetTransactions(state) {\n        state.transactions = [];\n    },\n    setGroupTitle(state, payload) {\n        state.groupTitle = payload.groupTitle;\n    },\n    setCustomDateFields(state, payload) {\n        state.customDateFields = payload;\n    },\n    deleteTransaction(state, payload) {\n        state.transactions.splice(payload.index, 1);\n        // console.log('Deleted transaction ' + payload.index);\n        // console.log(state.transactions);\n        if (0 === state.transactions.length) {\n            // console.log('array is empty!');\n        }\n    },\n    setTransactionType(state, transactionType) {\n        state.transactionType = transactionType;\n    },\n    setAllowedOpposingTypes(state, allowedOpposingTypes) {\n        state.allowedOpposingTypes = allowedOpposingTypes;\n    },\n    setAccountToTransaction(state, payload) {\n        state.accountToTransaction = payload;\n    },\n    updateField(state, payload) {\n        state.transactions[payload.index][payload.field] = payload.value;\n    },\n    setTransactionError(state, payload) {\n        //console.log('Will set transactions[' + payload.index + '][errors][' + payload.field + '] to ');\n        //console.log(payload.errors);\n        state.transactions[payload.index].errors[payload.field] = payload.errors;\n    },\n    setDestinationAllowedTypes(state, payload) {\n        // console.log('Destination allowed types was changed!');\n        state.destinationAllowedTypes = payload;\n    },\n    setSourceAllowedTypes(state, payload) {\n        state.sourceAllowedTypes = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * edit.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => ({});\n\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {};\n\n// mutations\nconst mutations = {};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nimport startOfDay from \"date-fns/startOfDay\";\nimport endOfDay from 'date-fns/endOfDay'\nimport startOfWeek from 'date-fns/startOfWeek'\nimport endOfWeek from 'date-fns/endOfWeek'\nimport startOfQuarter from 'date-fns/startOfQuarter';\nimport endOfQuarter from 'date-fns/endOfQuarter';\nimport endOfMonth from \"date-fns/endOfMonth\";\nimport startOfMonth from 'date-fns/startOfMonth';\n\nconst state = () => (\n    {\n        viewRange: 'default',\n        start: null,\n        end: null,\n        defaultStart: null,\n        defaultEnd: null,\n    }\n)\n\n\n// getters\nconst getters = {\n    start: state => {\n        return state.start;\n    },\n    end: state => {\n        return state.end;\n    },\n    defaultStart: state => {\n        return state.defaultStart;\n    },\n    defaultEnd: state => {\n        return state.defaultEnd;\n    },\n    viewRange: state => {\n        return state.viewRange;\n    }\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        // console.log('initialiseStore for dashboard.');\n\n        // restore from local storage:\n        context.dispatch('restoreViewRange');\n\n        axios.get('./api/v1/preferences/viewRange')\n            .then(response => {\n                      let viewRange = response.data.data.attributes.data;\n                      let oldViewRange = context.getters.viewRange;\n                      context.commit('setViewRange', viewRange);\n                      if (viewRange !== oldViewRange) {\n                          // console.log('View range changed from \"' + oldViewRange + '\" to \"' + viewRange + '\"');\n                          context.dispatch('setDatesFromViewRange');\n                      }\n                      if (viewRange === oldViewRange) {\n                          // console.log('Restore view range dates');\n                          context.dispatch('restoreViewRangeDates');\n                      }\n                  }\n            ).catch(() => {\n            context.commit('setViewRange', '1M');\n            context.dispatch('setDatesFromViewRange');\n        });\n\n    },\n    restoreViewRangeDates: function (context) {\n        // check local storage first?\n        if (localStorage.viewRangeStart) {\n            // console.log('view range start set from local storage.');\n            context.commit('setStart', new Date(localStorage.viewRangeStart));\n        }\n        if (localStorage.viewRangeEnd) {\n            // console.log('view range end set from local storage.');\n            context.commit('setEnd', new Date(localStorage.viewRangeEnd));\n        }\n        // also set default:\n        if (localStorage.viewRangeDefaultStart) {\n            // console.log('view range default start set from local storage.');\n            // console.log(localStorage.viewRangeDefaultStart);\n            context.commit('setDefaultStart', new Date(localStorage.viewRangeDefaultStart));\n        }\n        if (localStorage.viewRangeDefaultEnd) {\n            // console.log('view range default end set from local storage.');\n            // console.log(localStorage.viewRangeDefaultEnd);\n            context.commit('setDefaultEnd', new Date(localStorage.viewRangeDefaultEnd));\n        }\n    },\n    restoreViewRange: function (context) {\n        // console.log('restoreViewRange');\n        let viewRange = localStorage.getItem('viewRange');\n        if (null !== viewRange) {\n            // console.log('restored restoreViewRange ' + viewRange );\n            context.commit('setViewRange', viewRange);\n        }\n    },\n    setDatesFromViewRange(context) {\n        let start;\n        let end;\n        let viewRange = context.getters.viewRange;\n        let today = new Date;\n        // console.log('Will recreate view range on ' + viewRange);\n        switch (viewRange) {\n            case '1D':\n                // today:\n                start = startOfDay(today);\n                end = endOfDay(today);\n                break;\n            case '1W':\n                // this week:\n                start = startOfDay(startOfWeek(today, {weekStartsOn: 1}));\n                end = endOfDay(endOfWeek(today, {weekStartsOn: 1}));\n                break;\n            case '1M':\n                // this month:\n                start = startOfDay(startOfMonth(today));\n                end = endOfDay(endOfMonth(today));\n                break;\n            case '3M':\n                // this quarter\n                start = startOfDay(startOfQuarter(today));\n                end = endOfDay(endOfQuarter(today));\n                break;\n            case '6M':\n                // this half-year\n                if (today.getMonth() <= 5) {\n                    start = new Date(today);\n                    start.setMonth(0);\n                    start.setDate(1);\n                    start = startOfDay(start);\n                    end = new Date(today);\n                    end.setMonth(5);\n                    end.setDate(30);\n                    end = endOfDay(start);\n                }\n                if (today.getMonth() > 5) {\n                    start = new Date(today);\n                    start.setMonth(6);\n                    start.setDate(1);\n                    start = startOfDay(start);\n                    end = new Date(today);\n                    end.setMonth(11);\n                    end.setDate(31);\n                    end = endOfDay(start);\n                }\n                break;\n            case '1Y':\n                // this year\n                start = new Date(today);\n                start.setMonth(0);\n                start.setDate(1);\n                start = startOfDay(start);\n\n                end = new Date(today);\n                end.setMonth(11);\n                end.setDate(31);\n                end = endOfDay(end);\n                break;\n        }\n        // console.log('Range is ' + viewRange);\n        // console.log('Start is ' + start);\n        // console.log('End is   ' + end);\n        context.commit('setStart', start);\n        context.commit('setEnd', end);\n        context.commit('setDefaultStart', start);\n        context.commit('setDefaultEnd', end);\n    }\n}\n\n// mutations\nconst mutations = {\n    setStart(state, value) {\n        state.start = value;\n        window.localStorage.setItem('viewRangeStart', value);\n    },\n    setEnd(state, value) {\n        state.end = value;\n        window.localStorage.setItem('viewRangeEnd', value);\n    },\n    setDefaultStart(state, value) {\n        state.defaultStart = value;\n        window.localStorage.setItem('viewRangeDefaultStart', value);\n    },\n    setDefaultEnd(state, value) {\n        state.defaultEnd = value;\n        window.localStorage.setItem('viewRangeDefaultEnd', value);\n    },\n    setViewRange(state, range) {\n        state.viewRange = range;\n        window.localStorage.setItem('viewRange', range);\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * root.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        listPageSize: 33,\n        timezone: '',\n        cacheKey: {\n            age: 0,\n            value: 'empty',\n        },\n    }\n)\n\n\n// getters\nconst getters = {\n    listPageSize: state => {\n        return state.listPageSize;\n    },\n    timezone: state => {\n        // console.log('Wil return ' + state.listPageSize);\n        return state.timezone;\n    },\n    cacheKey: state => {\n        return state.cacheKey.value;\n    },\n}\n\n// actions\nconst actions = {\n    initialiseStore(context) {\n        // cache key auto refreshes every day\n        // console.log('Now in initialize store.')\n        if (localStorage.cacheKey) {\n            // console.log('Storage has cache key: ');\n            // console.log(localStorage.cacheKey);\n            let object = JSON.parse(localStorage.cacheKey);\n            if (Date.now() - object.age > 86400000) {\n                // console.log('Key is here but is old.');\n                context.commit('refreshCacheKey');\n            } else {\n                // console.log('Cache key from local storage: ' + object.value);\n                context.commit('setCacheKey', object);\n            }\n        } else {\n            // console.log('No key need new one.');\n            context.commit('refreshCacheKey');\n        }\n        if (localStorage.listPageSize) {\n            state.listPageSize = localStorage.listPageSize;\n            context.commit('setListPageSize', {length: localStorage.listPageSize});\n        }\n        if (!localStorage.listPageSize) {\n            axios.get('./api/v1/preferences/listPageSize')\n                .then(response => {\n                          // console.log('from API: listPageSize is ' + parseInt(response.data.data.attributes.data));\n                          context.commit('setListPageSize', {length: parseInt(response.data.data.attributes.data)});\n                      }\n                );\n        }\n        if (localStorage.timezone) {\n            state.timezone = localStorage.timezone;\n            context.commit('setTimezone', {timezone: localStorage.timezone});\n        }\n        if (!localStorage.timezone) {\n            axios.get('./api/v1/configuration/app.timezone')\n                .then(response => {\n                          context.commit('setTimezone', {timezone: response.data.data.value});\n                      }\n                );\n        }\n    }\n}\n\n// mutations\nconst mutations = {\n    refreshCacheKey(state) {\n        let age = Date.now();\n        let N = 8;\n        let cacheKey = Array(N+1).join((Math.random().toString(36)+'00000000000000000').slice(2, 18)).slice(0, N);\n        let object = {age: age, value: cacheKey};\n        // console.log('Store new key in string JSON');\n        // console.log(JSON.stringify(object));\n        localStorage.cacheKey = JSON.stringify(object);\n        state.cacheKey = {age: age, value: cacheKey};\n        // console.log('Refresh: cachekey is now ' + cacheKey);\n    },\n    setCacheKey(state, payload) {\n        // console.log('Stored cache key in localstorage.');\n        // console.log(payload);\n        // console.log(JSON.stringify(payload));\n        localStorage.cacheKey = JSON.stringify(payload);\n        state.cacheKey = payload;\n    },\n    setListPageSize(state, payload) {\n        // console.log('Got a payload in setListPageSize');\n        // console.log(payload);\n        let number = parseInt(payload.length);\n        if (0 !== number) {\n            state.listPageSize = number;\n            localStorage.listPageSize = number;\n        }\n    },\n    setTimezone(state, payload) {\n\n        if ('' !== payload.timezone) {\n            state.timezone = payload.timezone;\n            localStorage.timezone = payload.timezone;\n        }\n    },\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// initial state\nconst state = () => (\n    {\n        orderMode: false,\n        activeFilter: 1\n    }\n)\n\n\n// getters\nconst getters = {\n    orderMode: state => {\n        return state.orderMode;\n    },\n    activeFilter: state => {\n        return state.activeFilter;\n    }\n}\n\n// actions\nconst actions = {}\n\n// mutations\nconst mutations = {\n    setOrderMode(state, payload) {\n        state.orderMode = payload;\n    },\n    setActiveFilter(state, payload) {\n        state.activeFilter = payload;\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n}\n","/*\n * index.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport Vue from 'vue'\nimport Vuex, {createLogger} from 'vuex'\nimport transactions_create from './modules/transactions/create';\nimport transactions_edit from './modules/transactions/edit';\nimport dashboard_index from './modules/dashboard/index';\nimport root_store from './modules/root';\nimport accounts_index from './modules/accounts/index';\n\nVue.use(Vuex)\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store(\n    {\n        namespaced: true,\n        modules: {\n            root: root_store,\n            transactions: {\n                namespaced: true,\n                modules: {\n                    create: transactions_create,\n                    edit: transactions_edit\n                }\n            },\n            accounts: {\n                namespaced: true,\n                modules: {\n                    index: accounts_index\n                },\n            },\n            dashboard: {\n                namespaced: true,\n                modules: {\n                    index: dashboard_index\n                }\n            }\n        },\n        strict: debug,\n        plugins: debug ? [createLogger()] : [],\n        state: {\n            currencyPreference: {},\n            locale: 'en-US',\n            listPageSize: 50\n        },\n        mutations: {\n            setCurrencyPreference(state, payload) {\n                state.currencyPreference = payload.payload;\n            },\n            initialiseStore(state) {\n                // console.log('Now in initialiseStore()')\n                // if locale in local storage:\n                if (localStorage.locale) {\n                    state.locale = localStorage.locale;\n                    return;\n                }\n\n                // set locale from HTML:\n                let localeToken = document.head.querySelector('meta[name=\"locale\"]');\n                if (localeToken) {\n                    state.locale = localeToken.content;\n                    localStorage.locale = localeToken.content;\n                }\n            }\n        },\n        getters: {\n            currencyCode: state => {\n                return state.currencyPreference.code;\n            },\n            currencyPreference: state => {\n                return state.currencyPreference;\n            },\n            currencyId: state => {\n                return state.currencyPreference.id;\n            },\n            locale: state => {\n                return state.locale;\n            }\n            },\n        actions: {\n\n            updateCurrencyPreference(context) {\n                // console.log('Now in updateCurrencyPreference');\n                if (localStorage.currencyPreference) {\n                    context.commit('setCurrencyPreference', {payload: JSON.parse(localStorage.currencyPreference)});\n                    return;\n                }\n                axios.get('./api/v1/currencies/default')\n                    .then(response => {\n                        let currencyResponse = {\n                            id: parseInt(response.data.data.id),\n                            name: response.data.data.attributes.name,\n                            symbol: response.data.data.attributes.symbol,\n                            code: response.data.data.attributes.code,\n                            decimal_places: parseInt(response.data.data.attributes.decimal_places),\n                        };\n                        localStorage.currencyPreference = JSON.stringify(currencyResponse);\n                        //console.log('getCurrencyPreference from server')\n                        //console.log(JSON.stringify(currencyResponse));\n                        context.commit('setCurrencyPreference', {payload: currencyResponse});\n                    }).catch(err => {\n                    // console.log('Got error response.');\n                    console.error(err);\n                    context.commit('setCurrencyPreference', {\n                        payload: {\n                            id: 1,\n                            name: 'Euro',\n                            symbol: '',\n                            code: 'EUR',\n                            decimal_places: 2\n                        }\n                    });\n                });\n\n            }\n        }\n    }\n);","/*\n * i18n.js\n * Copyright (c) 2020 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n// Create VueI18n instance with options\nmodule.exports = new vuei18n({\n    locale: document.documentElement.lang, // set locale\n    fallbackLocale: 'en',\n    messages: {\n        'bg': require('./locales/bg.json'),\n        'cs': require('./locales/cs.json'),\n        'de': require('./locales/de.json'),\n        'en': require('./locales/en.json'),\n        'en-us': require('./locales/en.json'),\n        'en-gb': require('./locales/en-gb.json'),\n        'es': require('./locales/es.json'),\n        'el': require('./locales/el.json'),\n        'fr': require('./locales/fr.json'),\n        'hu': require('./locales/hu.json'),\n        //'id': require('./locales/id.json'),\n        'it': require('./locales/it.json'),\n        'ja': require('./locales/ja.json'),\n        'nl': require('./locales/nl.json'),\n        'nb': require('./locales/nb.json'),\n        'pl': require('./locales/pl.json'),\n        'fi': require('./locales/fi.json'),\n        'pt-br': require('./locales/pt-br.json'),\n        'pt-pt': require('./locales/pt.json'),\n        'ro': require('./locales/ro.json'),\n        'ru': require('./locales/ru.json'),\n        //'zh': require('./locales/zh.json'),\n        'zh-tw': require('./locales/zh-tw.json'),\n        'zh-cn': require('./locales/zh-cn.json'),\n        'sk': require('./locales/sk.json'),\n        'sv': require('./locales/sv.json'),\n        'vi': require('./locales/vi.json'),\n    }\n});\n","<!--\n  - Index.vue\n  - Copyright (c) 2021 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            Treemap categories\n          </div>\n        </div>\n      </div>\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            Treemap accounts\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- page is ignored for the time being -->\n    <TransactionListLarge\n        :entries=\"rawTransactions\"\n        :page=\"currentPage\"\n        :total=\"total\"\n        :per-page=\"perPage\"\n        :sort-desc=\"sortDesc\"\n        v-on:jump-page=\"jumpToPage($event)\"\n    />\n    <div class=\"row\">\n      <div class=\"col-xl-2 col-lg-4 col-sm-6 col-xs-12\" v-for=\"range in ranges\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">{{ formatDate(range.start, 'yyyy-LL') }}</h3>\n          </div>\n          <div class=\"card-body\">\n            <a :href=\"'./transactions/' + type + '/' + formatDate(range.start,'yyyy-LL-dd') + '/' + formatDate(range.end, 'yyyy-LL-dd')\">Transactions</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {mapGetters, mapMutations} from \"vuex\";\nimport format from \"date-fns/format\";\nimport sub from \"date-fns/sub\";\nimport startOfMonth from \"date-fns/startOfMonth\";\nimport endOfMonth from \"date-fns/endOfMonth\";\nimport {configureAxios} from \"../../shared/forageStore\";\nimport TransactionListLarge from \"./TransactionListLarge\";\n\nexport default {\n  name: \"Index\",\n  components: {TransactionListLarge},\n  data() {\n    return {\n      rawTransactions: [],\n      transactions: [],\n      transactionRows: [],\n      type: 'all',\n      downloaded: false,\n      loading: false,\n      ready: false,\n      currentPage: 1,\n      perPage: 5,\n      total: 1,\n      sortBy: 'order',\n      sortDesc: false,\n      api: null,\n      sortableOptions: {\n        disabled: false,\n        chosenClass: 'is-selected',\n        onEnd: null\n      },\n      sortable: null,\n      locale: 'en-US',\n      ranges: [],\n      urlStart: null,\n      urlEnd: null,\n    }\n  },\n  watch: {\n    storeReady: function () {\n      this.getTransactionList();\n    },\n    start: function () {\n      this.getTransactionList();\n    },\n    end: function () {\n      this.getTransactionList();\n    },\n    activeFilter: function (value) {\n      this.filterAccountList();\n    }\n  },\n  computed: {\n    ...mapGetters('root', ['listPageSize', 'cacheKey']),\n    ...mapGetters('dashboard/index', ['start', 'end',]),\n    'indexReady': function () {\n      return null !== this.start && null !== this.end && null !== this.listPageSize && this.ready;\n    },\n    cardTitle: function () {\n      return this.$t('firefly.' + this.type + '_transactions');\n    }\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    let pathName = window.location.pathname;\n    let parts = pathName.split('/');\n    this.type = parts[parts.length - 1];\n    this.perPage = this.listPageSize ?? 51;\n    if (5 === parts.length) {\n      this.urlStart = new Date(parts[3]);\n      this.urlEnd = new Date(parts[4]);\n      this.type = parts[parts.length - 3];\n    }\n\n    let params = new URLSearchParams(window.location.search);\n    this.currentPage = params.get('page') ? parseInt(params.get('page')) : 1;\n    this.ready = true;\n  },\n  methods: {\n    ...mapMutations('root', ['refreshCacheKey',]),\n    newCacheKey: function () {\n      this.refreshCacheKey();\n      this.downloaded = false;\n      this.accounts = [];\n      this.getTransactionList();\n    },\n    jumpToPage: function(event) {\n      console.log('noticed a change!');\n      this.currentPage = event.page;\n      this.downloadTransactionList(event.page);\n    },\n    getTransactionList: function () {\n      // console.log('getTransactionList()');\n      if (this.indexReady && !this.loading && !this.downloaded) {\n        // console.log('Index ready, not loading and not already downloaded. Reset.');\n        this.loading = true;\n        this.perPage = this.listPageSize ?? 51;\n        this.transactions = [];\n        this.transactionRows = [];\n        this.rawTransactions = [];\n        this.downloadTransactionList(this.currentPage);\n        this.calculateDateRanges();\n      }\n    },\n    calculateDateRanges: function () {\n      let yearAgo = sub(this.start, {years: 1});\n      let currentDate = this.start;\n\n      while (currentDate > yearAgo) {\n        // start + end of month:\n        let st = startOfMonth(currentDate);\n        let en = endOfMonth(currentDate);\n\n        this.ranges.push({start: st, end: en});\n\n        currentDate = sub(currentDate, {months: 1});\n        //console.log(currentDate);\n      }\n    },\n    formatDate: function (date, frm) {\n      return format(date, frm);\n    },\n    downloadTransactionList: function (page) {\n      // console.log('downloadTransactionList(' + page + ')');\n      configureAxios().then(async (api) => {\n        let startStr = format(this.start, 'y-MM-dd');\n        let endStr = format(this.end, 'y-MM-dd');\n        // console.log(this.urlEnd);\n        // console.log(this.urlStart);\n        if (null !== this.urlEnd && null !== this.urlStart) {\n          startStr = format(this.urlStart, 'y-MM-dd');\n          endStr = format(this.urlEnd, 'y-MM-dd');\n        }\n        let url = './api/v1/transactions?type=' + this.type + '&page=' + page + \"&start=\" + startStr + \"&end=\" + endStr + '&cache=' + this.cacheKey;\n        url = './api/v1/transactions?type=' + this.type + '&page=' + page + '&cache=' + this.cacheKey;\n        api.get(url)\n            .then(response => {\n                    //let currentPage = parseInt(response.data.meta.pagination.current_page);\n                    //let totalPages = parseInt(response.data.meta.pagination.total_pages);\n                    this.total = parseInt(response.data.meta.pagination.total);\n                    //console.log('total is ' + this.total);\n                    this.rawTransactions = response.data.data;\n                    // if (currentPage < totalPage) {\n                    //   let nextPage = currentPage + 1;\n                    //   this.downloadTransactionList(nextPage);\n                    // }\n                    // if (currentPage >= totalPage) {\n                    // console.log('Looks like all downloaded.');\n                    //this.downloaded = true;\n                    //this.createTransactionRows();\n                    // }\n                    this.loading = false;\n                  }\n            );\n      });\n    },\n    createTransactionRows: function () {\n      this.transactionRows = [];\n      for (let i in this.transactions) {\n        let transaction = this.transactions[i];\n        let transactionRow = this.getTransactionRow(transaction, 0);\n        this.transactionRows.push(transactionRow);\n\n        if (transaction.attributes.transactions.length > 1) {\n          transactionRow.description = transaction.attributes.group_title;\n          transactionRow.split = true;\n          transactionRow.collapsed = transaction.collapsed === true || transaction.collapsed === undefined;\n          transactionRow.amount = transaction.attributes.transactions\n              .map(transaction => Number(transaction.amount))\n              .reduce((sum, n) => sum + n);\n          transactionRow.source_name = '';\n          transactionRow.source_id = '';\n          transactionRow.destination_name = '';\n          transactionRow.destination_id = '';\n\n          if (!transactionRow.collapsed) {\n            for (let i = 0; i < transaction.attributes.transactions.length; i++) {\n              let splitTransactionRow = this.getTransactionRow(transaction, i);\n              splitTransactionRow.key = splitTransactionRow.id + \".\" + i\n              splitTransactionRow.split = true;\n              splitTransactionRow.split_index = i + 1;\n              splitTransactionRow.split_parent = transactionRow;\n              this.transactionRows.push(splitTransactionRow);\n            }\n          }\n        }\n      }\n\n      this.loading = false;\n    },\n    getTransactionRow(transaction, index) {\n      let transactionRow = {};\n      let currentTransaction = transaction.attributes.transactions[index];\n\n      transactionRow.key = transaction.id;\n      transactionRow.id = transaction.id;\n      transactionRow.type = currentTransaction.type;\n      transactionRow.description = currentTransaction.description;\n      transactionRow.amount = currentTransaction.amount;\n      transactionRow.currency_code = currentTransaction.currency_code;\n      transactionRow.date = new Date(currentTransaction.date);\n      transactionRow.date_formatted = format(transactionRow.date, this.$t('config.month_and_day_fns'));\n      transactionRow.source_name = currentTransaction.source_name;\n      transactionRow.source_id = currentTransaction.source_id;\n      transactionRow.destination_name = currentTransaction.destination_name;\n      transactionRow.destination_id = currentTransaction.destination_id;\n      transactionRow.category_id = currentTransaction.category_id;\n      transactionRow.category_name = currentTransaction.category_name;\n      transactionRow.split = false;\n      transactionRow.split_index = 0;\n      transactionRow.split_parent = null;\n\n      return transactionRow;\n    },\n    toggleCollapse: function (row) {\n      let transaction = this.transactions.filter(transaction => transaction.id === row.id)[0];\n      if (transaction.collapsed === undefined) {\n        transaction.collapsed = false;\n      } else {\n        transaction.collapsed = !transaction.collapsed;\n      }\n      this.createTransactionRows();\n    },\n\n  },\n}\n</script>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=60acfef6&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('TransactionListLarge',{attrs:{\"entries\":_vm.rawTransactions,\"page\":_vm.currentPage,\"total\":_vm.total,\"per-page\":_vm.perPage,\"sort-desc\":_vm.sortDesc},on:{\"jump-page\":function($event){return _vm.jumpToPage($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"row\"},_vm._l((_vm.ranges),function(range){return _c('div',{staticClass:\"col-xl-2 col-lg-4 col-sm-6 col-xs-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.formatDate(range.start, 'yyyy-LL')))])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('a',{attrs:{\"href\":'./transactions/' + _vm.type + '/' + _vm.formatDate(range.start,'yyyy-LL-dd') + '/' + _vm.formatDate(range.end, 'yyyy-LL-dd')}},[_vm._v(\"Transactions\")])])])])}),0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_vm._v(\"\\n          Treemap categories\\n        \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_vm._v(\"\\n          Treemap accounts\\n        \")])])])])}]\n\nexport { render, staticRenderFns }","/*\n * index.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nrequire('../../bootstrap');\n\nimport Vue from \"vue\";\nimport store from \"../../components/store\";\nimport Index from \"../../components/transactions/Index\";\nimport Calendar from \"../../components/dashboard/Calendar\";\n\n// i18n\nlet i18n = require('../../i18n');\nlet props = {};\n\nconst app = new Vue({\n            i18n,\n            store,\n            render(createElement) {\n                return createElement(Index, {props: props});\n            },\n            beforeCreate() {\n// See reference nr. 2\n                this.$store.commit('initialiseStore');\n                this.$store.dispatch('updateCurrencyPreference');\n\n                // init the new root store (dont care about results)\n                this.$store.dispatch('root/initialiseStore');\n\n                // also init the dashboard store.\n                this.$store.dispatch('dashboard/index/initialiseStore');\n            },\n        }).$mount('#transactions_index');\n\nconst calendar = new Vue({\n            i18n,\n            store,\n            el: \"#calendar\",\n            render: (createElement) => {\n                return createElement(Calendar, {props: props});\n            },\n        });","/*\n * forageStore.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport localforage from 'localforage'\nimport memoryDriver from 'localforage-memoryStorageDriver'\nimport {setup} from 'axios-cache-adapter'\n\n// `async` wrapper to configure `localforage` and instantiate `axios` with `axios-cache-adapter`\nexport async function configureAxios() {\n    // Register the custom `memoryDriver` to `localforage`\n    await localforage.defineDriver(memoryDriver)\n\n    // Create `localforage` instance\n    const forageStore = localforage.createInstance({\n                                                       // List of drivers used\n                                                       driver: [\n                                                           localforage.INDEXEDDB,\n                                                           localforage.LOCALSTORAGE,\n                                                           memoryDriver._driver\n                                                       ],\n                                                       // Prefix all storage keys to prevent conflicts\n                                                       name: 'my-cache'\n                                                   })\n\n    // Create `axios` instance with pre-configured `axios-cache-adapter` using a `localforage` store\n    let token = document.head.querySelector('meta[name=\"csrf-token\"]');\n    return setup({\n                     // `axios` options\n                     baseURL: './',\n                     headers: {'X-CSRF-TOKEN': token.content, 'X-James-Rocks': 'oh yes'},\n                     cache: {\n                         // `axios-cache-adapter` options\n                         maxAge: 24 * 60 * 60 * 1000, // one day.\n                         readHeaders: false,\n                         exclude: {\n                             query: false,\n                         },\n                         debug: true,\n                         store: forageStore,\n                     }\n                 }\n    );\n\n}","/*\n * transactions.js\n * Copyright (c) 2021 james@firefly-iii.org\n *\n * This file is part of Firefly III (https://github.com/firefly-iii).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport function getDefaultErrors() {\n    return {\n        description: [],\n        amount: [],\n        source: [],\n        destination: [],\n        currency: [],\n        foreign_currency: [],\n        foreign_amount: [],\n        date: [],\n        custom_dates: [],\n        budget: [],\n        category: [],\n        bill: [],\n        tags: [],\n        piggy_bank: [],\n        internal_reference: [],\n        external_url: [],\n        notes: [],\n        location: []\n    };\n}\n\nexport function getDefaultTransaction() {\n    return {\n        // basic\n        description: '',\n        transaction_journal_id: 0,\n        // accounts:\n        source_account_id: null,\n        source_account_name: null,\n        source_account_type: null,\n\n        source_account_currency_id: null,\n        source_account_currency_code: null,\n        source_account_currency_symbol: null,\n\n        destination_account_id: null,\n        destination_account_name: null,\n        destination_account_type: null,\n\n        destination_account_currency_id: null,\n        destination_account_currency_code: null,\n        destination_account_currency_symbol: null,\n        attachments: false,\n        selectedAttachments: false,\n        uploadTrigger: false,\n        clearTrigger: false,\n\n        source_account: {\n            id: 0,\n            name: \"\",\n            name_with_balance: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n        destination_account: {\n            id: 0,\n            name: \"\",\n            type: \"\",\n            currency_id: 0,\n            currency_name: '',\n            currency_code: '',\n            currency_decimal_places: 2\n        },\n\n        // amount:\n        amount: '',\n        currency_id: 0,\n        foreign_amount: '',\n        foreign_currency_id: 0,\n\n        // meta data\n        category: null,\n        budget_id: 0,\n        bill_id: 0,\n        piggy_bank_id: 0,\n        tags: [],\n\n        // optional date fields (6x):\n        interest_date: null,\n        book_date: null,\n        process_date: null,\n        due_date: null,\n        payment_date: null,\n        invoice_date: null,\n\n        // optional other fields:\n        internal_reference: null,\n        external_url: null,\n        external_id: null,\n        notes: null,\n\n        // transaction links:\n        links: [],\n        // location:\n        zoom_level: null,\n        longitude: null,\n        latitude: null,\n\n        // error handling\n        errors: {},\n    }\n}\n\nexport function toW3CString(date) {\n    // https://gist.github.com/tristanlins/6585391\n    let year = date.getFullYear();\n    let month = date.getMonth();\n    month++;\n    if (month < 10) {\n        month = '0' + month;\n    }\n    let day = date.getDate();\n    if (day < 10) {\n        day = '0' + day;\n    }\n    let hours = date.getHours();\n    if (hours < 10) {\n        hours = '0' + hours;\n    }\n    let minutes = date.getMinutes();\n    if (minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    let seconds = date.getSeconds();\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n    let offset = -date.getTimezoneOffset();\n    let offsetHours = Math.abs(Math.floor(offset / 60));\n    let offsetMinutes = Math.abs(offset) - offsetHours * 60;\n    if (offsetHours < 10) {\n        offsetHours = '0' + offsetHours;\n    }\n    if (offsetMinutes < 10) {\n        offsetMinutes = '0' + offsetMinutes;\n    }\n    let offsetSign = '+';\n    if (offset < 0) {\n        offsetSign = '-';\n    }\n    return year + '-' + month + '-' + day +\n           'T' + hours + ':' + minutes + ':' + seconds +\n           offsetSign + offsetHours + ':' + offsetMinutes;\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dropdown-item[data-v-1ce542a2],.dropdown-item[data-v-1ce542a2]:hover{color:#212529}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/dashboard/Calendar.vue\"],\"names\":[],\"mappings\":\"AAslBA,sEACA,aACA\",\"sourcesContent\":[\"<!--\\n  - Calendar.vue\\n  - Copyright (c) 2020 james@firefly-iii.org\\n  -\\n  - This file is part of Firefly III (https://github.com/firefly-iii).\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n  <div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col\\\">Start</div>\\n      <div class=\\\"col-8\\\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.start) }}</div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col\\\">End</div>\\n      <div class=\\\"col-8\\\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.end) }}</div>\\n    </div>\\n    <date-picker\\n        v-model=\\\"range\\\"\\n        :rows=\\\"2\\\"\\n        is-range\\n        mode=\\\"date\\\"\\n    >\\n      <template v-slot=\\\"{ inputValue, inputEvents, isDragging, togglePopover }\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col\\\">\\n            <div class=\\\"btn-group btn-group-sm d-flex\\\">\\n              <button\\n                  :title=\\\"$t('firefly.custom_period')\\\" class=\\\"btn btn-secondary btn-sm\\\"\\n                  @click=\\\"togglePopover({ placement: 'auto-start', positionFixed: true })\\\"\\n              ><span class=\\\"fas fa-calendar-alt\\\"></span></button>\\n              <button :title=\\\"$t('firefly.reset_to_current')\\\"\\n                      class=\\\"btn btn-secondary\\\"\\n                      @click=\\\"resetDate\\\"\\n              ><span class=\\\"fas fa-history\\\"></span></button>\\n              <button id=\\\"dropdownMenuButton\\\" :title=\\\"$t('firefly.select_period')\\\" aria-expanded=\\\"false\\\" aria-haspopup=\\\"true\\\"\\n                      class=\\\"btn btn-secondary dropdown-toggle\\\"\\n                      data-toggle=\\\"dropdown\\\"\\n                      type=\\\"button\\\">\\n                <span class=\\\"fas fa-list\\\"></span>\\n              </button>\\n              <div aria-labelledby=\\\"dropdownMenuButton\\\" class=\\\"dropdown-menu\\\">\\n                <a v-for=\\\"period in periods\\\" class=\\\"dropdown-item\\\" href=\\\"#\\\" @click=\\\"customDate(period.start, period.end)\\\">{{ period.title }}</a>\\n              </div>\\n\\n            </div>\\n            <input v-on=\\\"inputEvents.start\\\"\\n                   :class=\\\"isDragging ? 'text-gray-600' : 'text-gray-900'\\\"\\n                   :value=\\\"inputValue.start\\\"\\n                   type=\\\"hidden\\\"\\n            />\\n            <input v-on=\\\"inputEvents.end\\\"\\n                   :class=\\\"isDragging ? 'text-gray-600' : 'text-gray-900'\\\"\\n                   :value=\\\"inputValue.end\\\"\\n                   type=\\\"hidden\\\"\\n            />\\n          </div>\\n        </div>\\n      </template>\\n    </date-picker>\\n  </div>\\n</template>\\n\\n<script>\\n\\nimport {createNamespacedHelpers} from \\\"vuex\\\";\\nimport Vue from \\\"vue\\\";\\nimport DatePicker from \\\"v-calendar/lib/components/date-picker.umd\\\";\\nimport subDays from 'date-fns/subDays';\\nimport addDays from 'date-fns/addDays';\\nimport addMonths from 'date-fns/addMonths';\\nimport startOfDay from 'date-fns/startOfDay';\\nimport endOfDay from 'date-fns/endOfDay';\\nimport startOfWeek from 'date-fns/startOfWeek';\\nimport endOfWeek from 'date-fns/endOfWeek';\\nimport endOfMonth from 'date-fns/endOfMonth';\\nimport format from 'date-fns/format';\\nimport startOfQuarter from 'date-fns/startOfQuarter';\\nimport subMonths from 'date-fns/subMonths';\\nimport endOfQuarter from 'date-fns/endOfQuarter';\\nimport subQuarters from 'date-fns/subQuarters';\\nimport addQuarters from 'date-fns/addQuarters';\\nimport startOfMonth from 'date-fns/startOfMonth';\\n\\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\\n\\nVue.component('date-picker', DatePicker)\\n\\nexport default {\\n  name: \\\"Calendar\\\",\\n  created() {\\n    // console.log('Now in calendar created');\\n    this.ready = true;\\n    this.locale = localStorage.locale ?? 'en-US';\\n  },\\n  data() {\\n    return {\\n      locale: 'en-US',\\n      ready: false,\\n      range: {\\n        start: null,\\n        end: null,\\n      },\\n      defaultRange: {\\n        start: null,\\n        end: null,\\n      },\\n      periods: []\\n    };\\n  },\\n  methods: {\\n    ...mapMutations(\\n        [\\n          'setEnd',\\n          'setStart',\\n        ],\\n    ),\\n    resetDate: function () {\\n      // console.log('Reset date to');\\n      // console.log(this.defaultStart);\\n      // console.log(this.defaultEnd);\\n      this.range.start = this.defaultStart;\\n      this.range.end = this.defaultEnd;\\n      this.setStart(this.defaultStart);\\n      this.setEnd(this.defaultEnd);\\n    },\\n    customDate: function (startStr, endStr) {\\n      let start = new Date(startStr);\\n      let end = new Date(endStr);\\n      this.setStart(start);\\n      this.setEnd(end);\\n      this.range.start = start;\\n      this.range.end = end;\\n      this.generatePeriods()\\n      return false;\\n    },\\n    generateDaily: function () {\\n      let today = new Date(this.range.start);\\n      // yesterday\\n      this.periods.push(\\n          {\\n            start: startOfDay(subDays(today, 1)).toDateString(),\\n            end: endOfDay(subDays(today, 1)).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(subDays(today, 1))\\n          }\\n      );\\n\\n      // today\\n      this.periods.push(\\n          {\\n            start: startOfDay(today).toDateString(),\\n            end: endOfDay(today).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(today)\\n          }\\n      );\\n\\n      // tomorrow:\\n      this.periods.push(\\n          {\\n            start: startOfDay(addDays(today, 1)).toDateString(),\\n            end: endOfDay(addDays(today, 1)).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 1))\\n          }\\n      );\\n\\n      // The Day After Tomorrow dun-dun-dun!\\n      this.periods.push(\\n          {\\n            start: startOfDay(addDays(today, 2)).toDateString(),\\n            end: endOfDay(addDays(today, 2)).toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 2))\\n          }\\n      );\\n    },\\n\\n    generateWeekly: function () {\\n      //console.log('weekly');\\n      let today = new Date(this.range.start);\\n      //console.log('Today is ' + today);\\n      let start = startOfDay(startOfWeek(subDays(today, 7), {weekStartsOn: 1}));\\n      let end = endOfDay(endOfWeek(subDays(today, 7), {weekStartsOn: 1}));\\n      let dateFormat = this.$t('config.week_in_year_fns');\\n      //console.log('Date format: \\\"'+dateFormat+'\\\"');\\n      let title = format(start, dateFormat);\\n\\n      // last week\\n      // console.log('Last week');\\n      // console.log(start);\\n      // console.log(end);\\n      // console.log(title);\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // this week\\n      start = startOfDay(startOfWeek(today, {weekStartsOn: 1}));\\n      end = endOfDay(endOfWeek(today, {weekStartsOn: 1}));\\n      title = format(start, dateFormat);\\n      // console.log('This week');\\n      // console.log(start);\\n      // console.log(end);\\n      // console.log(title);\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // next week\\n      start = startOfDay(startOfWeek(addDays(today, 7), {weekStartsOn: 1}));\\n      end = endOfDay(endOfWeek(addDays(today, 7), {weekStartsOn: 1}));\\n      title = format(start, dateFormat);\\n      // console.log('Next week');\\n      // console.log(start);\\n      // console.log(end);\\n      // console.log(title);\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n    },\\n    generateMonthly: function () {\\n      let today = new Date(this.range.start);\\n      // previous month\\n      let start = startOfDay(startOfMonth(subMonths(today, 1)));\\n      let end = endOfDay(endOfMonth(subMonths(today, 1)));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\\n          }\\n      );\\n\\n      // this month\\n      start = startOfDay(startOfMonth(today));\\n      end = endOfDay(endOfMonth(today));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\\n          }\\n      );\\n\\n      // next month\\n      start = startOfDay(startOfMonth(addMonths(today, 1)));\\n      end = endOfDay(endOfMonth(addMonths(today, 1)));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\\n          }\\n      );\\n\\n    },\\n    generateQuarterly: function () {\\n      let today = new Date(this.range.start);\\n\\n      // last quarter\\n      let start = startOfDay(startOfQuarter(subQuarters(today, 1)));\\n      let end = endOfDay(endOfQuarter(subQuarters(today, 1)));\\n      let dateFormat = this.$t('config.quarter_fns');\\n      let title = format(start, dateFormat);\\n\\n      // last week\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n\\n      // this quarter\\n      start = startOfDay(startOfQuarter(today));\\n      end = endOfDay(endOfQuarter(today));\\n      title = format(start, dateFormat);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n      // next quarter\\n      start = startOfDay(startOfQuarter(addQuarters(today, 1)));\\n      end = endOfDay(endOfQuarter(addQuarters(today, 1)));\\n      title = format(start, dateFormat);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n    },\\n    generateHalfYearly: function () {\\n      let today = new Date(this.range.start);\\n      let start;\\n      let end;\\n      let title = 'tbd';\\n      let half = 1;\\n\\n      // its currently first half of year:\\n      if (today.getMonth() <= 5) {\\n        // previous year, last half:\\n        start = today;\\n        start.setFullYear(start.getFullYear() - 1);\\n        start.setMonth(6);\\n        start.setDate(1);\\n        start = startOfDay(start);\\n        end = start;\\n        end.setMonth(11);\\n        end.setDate(31);\\n        end = endOfDay(end);\\n        half = 2;\\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\\n        this.periods.push(\\n            {\\n              start: start.toDateString(),\\n              end: end.toDateString(),\\n              title: title\\n            }\\n        );\\n\\n        // this year, first half:\\n        start = today;\\n        start.setMonth(0);\\n        start.setDate(1);\\n        start = startOfDay(start);\\n        end = today;\\n        end.setMonth(5);\\n        end.setDate(30);\\n        end = endOfDay(start);\\n        half = 1;\\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\\n        this.periods.push(\\n            {\\n              start: start.toDateString(),\\n              end: end.toDateString(),\\n              title: title\\n            }\\n        );\\n\\n        // this year, second half:\\n        start = today;\\n        start.setMonth(6);\\n        start.setDate(1);\\n        start = startOfDay(start);\\n        end = start;\\n        end.setMonth(11);\\n        end.setDate(31);\\n        end = endOfDay(end);\\n        half = 2;\\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\\n        this.periods.push(\\n            {\\n              start: start.toDateString(),\\n              end: end.toDateString(),\\n              title: title\\n            }\\n        );\\n        return;\\n      }\\n      // this year, first half:\\n      start = today;\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n      end = start;\\n      end.setMonth(5);\\n      end.setDate(30);\\n      end = endOfDay(end);\\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // this year, current (second) half:\\n      start = today;\\n      start.setMonth(6);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n      end = today;\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(start);\\n      half = 2;\\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n\\n      // next year, first half:\\n      start = today;\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n      end = start;\\n      end.setMonth(5);\\n      end.setDate(30);\\n      end = endOfDay(end);\\n      half = 1;\\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: title\\n          }\\n      );\\n    },\\n    generateYearly: function () {\\n      let today = new Date(this.range.start);\\n      let start;\\n      let end;\\n\\n      // last year\\n      start = new Date(today);\\n      start.setFullYear(start.getFullYear() - 1);\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n\\n      end = new Date(today);\\n      end.setFullYear(end.getFullYear() - 1);\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(end);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: start.getFullYear()\\n          }\\n      );\\n\\n      // this year\\n      start = new Date(today);\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n\\n      end = new Date(today);\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(end);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: start.getFullYear()\\n          }\\n      );\\n      // next year\\n      start = new Date(today);\\n      start.setFullYear(start.getFullYear() + 1);\\n      start.setMonth(0);\\n      start.setDate(1);\\n      start = startOfDay(start);\\n\\n      end = new Date(today);\\n      end.setFullYear(end.getFullYear() + 1);\\n      end.setMonth(11);\\n      end.setDate(31);\\n      end = endOfDay(end);\\n\\n      this.periods.push(\\n          {\\n            start: start.toDateString(),\\n            end: end.toDateString(),\\n            title: start.getFullYear()\\n          }\\n      );\\n    },\\n    generatePeriods: function () {\\n      this.periods = [];\\n      // console.log('The view range is \\\"' + this.viewRange + '\\\".');\\n      switch (this.viewRange) {\\n        case '1D':\\n          this.generateDaily();\\n          break;\\n        case '1W':\\n          this.generateWeekly();\\n          break;\\n        case '1M':\\n          this.generateMonthly();\\n          break;\\n        case '3M':\\n          this.generateQuarterly();\\n          break;\\n        case '6M':\\n          this.generateHalfYearly();\\n          break;\\n        case '1Y':\\n          this.generateYearly();\\n          break;\\n      }\\n\\n\\n      // last 7 days\\n      let today = new Date;\\n      let end = new Date;\\n      end.setDate(end.getDate() - 7);\\n      this.periods.push(\\n          {\\n            start: end.toDateString(),\\n            end: today.toDateString(),\\n            title: this.$t('firefly.last_seven_days')\\n          }\\n      );\\n\\n      // last 30 days:\\n      end.setDate(end.getDate() - 23);\\n      this.periods.push(\\n          {\\n            start: end.toDateString(),\\n            end: today.toDateString(),\\n            title: this.$t('firefly.last_thirty_days')\\n          }\\n      );\\n      // last 30 days\\n      // everything\\n    }\\n  },\\n  computed: {\\n    ...mapGetters([\\n                    'viewRange',\\n                    'start',\\n                    'end',\\n                    'defaultStart',\\n                    'defaultEnd'\\n                  ]),\\n    'datesReady': function () {\\n      return null !== this.start && null !== this.end && this.ready;\\n    },\\n  },\\n  watch: {\\n    datesReady: function (value) {\\n      if (false === value) {\\n        return;\\n      }\\n      this.range.start = new Date(this.start);\\n      this.range.end = new Date(this.end);\\n      this.generatePeriods();\\n\\n    },\\n    range: function (value) {\\n      //console.log('User updated range');\\n      this.setStart(value.start);\\n      this.setEnd(value.end);\\n    }\\n  }\\n}\\n</script>\\n\\n<style scoped>\\n.dropdown-item {\\n  color: #212529;\\n}\\n\\n.dropdown-item:hover {\\n  color: #212529;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"Start\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(new Intl.DateTimeFormat(_vm.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(_vm.range.start)))])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"End\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(new Intl.DateTimeFormat(_vm.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(_vm.range.end)))])]),_vm._v(\" \"),_c('date-picker',{attrs:{\"rows\":2,\"is-range\":\"\",\"mode\":\"date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nvar isDragging = ref.isDragging;\nvar togglePopover = ref.togglePopover;\nreturn [_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"btn-group btn-group-sm d-flex\"},[_c('button',{staticClass:\"btn btn-secondary btn-sm\",attrs:{\"title\":_vm.$t('firefly.custom_period')},on:{\"click\":function($event){return togglePopover({ placement: 'auto-start', positionFixed: true })}}},[_c('span',{staticClass:\"fas fa-calendar-alt\"})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"title\":_vm.$t('firefly.reset_to_current')},on:{\"click\":_vm.resetDate}},[_c('span',{staticClass:\"fas fa-history\"})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-secondary dropdown-toggle\",attrs:{\"id\":\"dropdownMenuButton\",\"title\":_vm.$t('firefly.select_period'),\"aria-expanded\":\"false\",\"aria-haspopup\":\"true\",\"data-toggle\":\"dropdown\",\"type\":\"button\"}},[_c('span',{staticClass:\"fas fa-list\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":\"dropdownMenuButton\"}},_vm._l((_vm.periods),function(period){return _c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.customDate(period.start, period.end)}}},[_vm._v(_vm._s(period.title))])}),0)]),_vm._v(\" \"),_c('input',_vm._g({class:isDragging ? 'text-gray-600' : 'text-gray-900',attrs:{\"type\":\"hidden\"},domProps:{\"value\":inputValue.start}},inputEvents.start)),_vm._v(\" \"),_c('input',_vm._g({class:isDragging ? 'text-gray-600' : 'text-gray-900',attrs:{\"type\":\"hidden\"},domProps:{\"value\":inputValue.end}},inputEvents.end))])])]}}]),model:{value:(_vm.range),callback:function ($$v) {_vm.range=$$v},expression:\"range\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - Calendar.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col\">Start</div>\n      <div class=\"col-8\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.start) }}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col\">End</div>\n      <div class=\"col-8\">{{ new Intl.DateTimeFormat(locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(range.end) }}</div>\n    </div>\n    <date-picker\n        v-model=\"range\"\n        :rows=\"2\"\n        is-range\n        mode=\"date\"\n    >\n      <template v-slot=\"{ inputValue, inputEvents, isDragging, togglePopover }\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"btn-group btn-group-sm d-flex\">\n              <button\n                  :title=\"$t('firefly.custom_period')\" class=\"btn btn-secondary btn-sm\"\n                  @click=\"togglePopover({ placement: 'auto-start', positionFixed: true })\"\n              ><span class=\"fas fa-calendar-alt\"></span></button>\n              <button :title=\"$t('firefly.reset_to_current')\"\n                      class=\"btn btn-secondary\"\n                      @click=\"resetDate\"\n              ><span class=\"fas fa-history\"></span></button>\n              <button id=\"dropdownMenuButton\" :title=\"$t('firefly.select_period')\" aria-expanded=\"false\" aria-haspopup=\"true\"\n                      class=\"btn btn-secondary dropdown-toggle\"\n                      data-toggle=\"dropdown\"\n                      type=\"button\">\n                <span class=\"fas fa-list\"></span>\n              </button>\n              <div aria-labelledby=\"dropdownMenuButton\" class=\"dropdown-menu\">\n                <a v-for=\"period in periods\" class=\"dropdown-item\" href=\"#\" @click=\"customDate(period.start, period.end)\">{{ period.title }}</a>\n              </div>\n\n            </div>\n            <input v-on=\"inputEvents.start\"\n                   :class=\"isDragging ? 'text-gray-600' : 'text-gray-900'\"\n                   :value=\"inputValue.start\"\n                   type=\"hidden\"\n            />\n            <input v-on=\"inputEvents.end\"\n                   :class=\"isDragging ? 'text-gray-600' : 'text-gray-900'\"\n                   :value=\"inputValue.end\"\n                   type=\"hidden\"\n            />\n          </div>\n        </div>\n      </template>\n    </date-picker>\n  </div>\n</template>\n\n<script>\n\nimport {createNamespacedHelpers} from \"vuex\";\nimport Vue from \"vue\";\nimport DatePicker from \"v-calendar/lib/components/date-picker.umd\";\nimport subDays from 'date-fns/subDays';\nimport addDays from 'date-fns/addDays';\nimport addMonths from 'date-fns/addMonths';\nimport startOfDay from 'date-fns/startOfDay';\nimport endOfDay from 'date-fns/endOfDay';\nimport startOfWeek from 'date-fns/startOfWeek';\nimport endOfWeek from 'date-fns/endOfWeek';\nimport endOfMonth from 'date-fns/endOfMonth';\nimport format from 'date-fns/format';\nimport startOfQuarter from 'date-fns/startOfQuarter';\nimport subMonths from 'date-fns/subMonths';\nimport endOfQuarter from 'date-fns/endOfQuarter';\nimport subQuarters from 'date-fns/subQuarters';\nimport addQuarters from 'date-fns/addQuarters';\nimport startOfMonth from 'date-fns/startOfMonth';\n\nconst {mapState, mapGetters, mapActions, mapMutations} = createNamespacedHelpers('dashboard/index')\n\nVue.component('date-picker', DatePicker)\n\nexport default {\n  name: \"Calendar\",\n  created() {\n    // console.log('Now in calendar created');\n    this.ready = true;\n    this.locale = localStorage.locale ?? 'en-US';\n  },\n  data() {\n    return {\n      locale: 'en-US',\n      ready: false,\n      range: {\n        start: null,\n        end: null,\n      },\n      defaultRange: {\n        start: null,\n        end: null,\n      },\n      periods: []\n    };\n  },\n  methods: {\n    ...mapMutations(\n        [\n          'setEnd',\n          'setStart',\n        ],\n    ),\n    resetDate: function () {\n      // console.log('Reset date to');\n      // console.log(this.defaultStart);\n      // console.log(this.defaultEnd);\n      this.range.start = this.defaultStart;\n      this.range.end = this.defaultEnd;\n      this.setStart(this.defaultStart);\n      this.setEnd(this.defaultEnd);\n    },\n    customDate: function (startStr, endStr) {\n      let start = new Date(startStr);\n      let end = new Date(endStr);\n      this.setStart(start);\n      this.setEnd(end);\n      this.range.start = start;\n      this.range.end = end;\n      this.generatePeriods()\n      return false;\n    },\n    generateDaily: function () {\n      let today = new Date(this.range.start);\n      // yesterday\n      this.periods.push(\n          {\n            start: startOfDay(subDays(today, 1)).toDateString(),\n            end: endOfDay(subDays(today, 1)).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(subDays(today, 1))\n          }\n      );\n\n      // today\n      this.periods.push(\n          {\n            start: startOfDay(today).toDateString(),\n            end: endOfDay(today).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(today)\n          }\n      );\n\n      // tomorrow:\n      this.periods.push(\n          {\n            start: startOfDay(addDays(today, 1)).toDateString(),\n            end: endOfDay(addDays(today, 1)).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 1))\n          }\n      );\n\n      // The Day After Tomorrow dun-dun-dun!\n      this.periods.push(\n          {\n            start: startOfDay(addDays(today, 2)).toDateString(),\n            end: endOfDay(addDays(today, 2)).toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long', day: 'numeric'}).format(addDays(today, 2))\n          }\n      );\n    },\n\n    generateWeekly: function () {\n      //console.log('weekly');\n      let today = new Date(this.range.start);\n      //console.log('Today is ' + today);\n      let start = startOfDay(startOfWeek(subDays(today, 7), {weekStartsOn: 1}));\n      let end = endOfDay(endOfWeek(subDays(today, 7), {weekStartsOn: 1}));\n      let dateFormat = this.$t('config.week_in_year_fns');\n      //console.log('Date format: \"'+dateFormat+'\"');\n      let title = format(start, dateFormat);\n\n      // last week\n      // console.log('Last week');\n      // console.log(start);\n      // console.log(end);\n      // console.log(title);\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // this week\n      start = startOfDay(startOfWeek(today, {weekStartsOn: 1}));\n      end = endOfDay(endOfWeek(today, {weekStartsOn: 1}));\n      title = format(start, dateFormat);\n      // console.log('This week');\n      // console.log(start);\n      // console.log(end);\n      // console.log(title);\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // next week\n      start = startOfDay(startOfWeek(addDays(today, 7), {weekStartsOn: 1}));\n      end = endOfDay(endOfWeek(addDays(today, 7), {weekStartsOn: 1}));\n      title = format(start, dateFormat);\n      // console.log('Next week');\n      // console.log(start);\n      // console.log(end);\n      // console.log(title);\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n    },\n    generateMonthly: function () {\n      let today = new Date(this.range.start);\n      // previous month\n      let start = startOfDay(startOfMonth(subMonths(today, 1)));\n      let end = endOfDay(endOfMonth(subMonths(today, 1)));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\n          }\n      );\n\n      // this month\n      start = startOfDay(startOfMonth(today));\n      end = endOfDay(endOfMonth(today));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\n          }\n      );\n\n      // next month\n      start = startOfDay(startOfMonth(addMonths(today, 1)));\n      end = endOfDay(endOfMonth(addMonths(today, 1)));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: new Intl.DateTimeFormat(this.locale, {year: 'numeric', month: 'long'}).format(start)\n          }\n      );\n\n    },\n    generateQuarterly: function () {\n      let today = new Date(this.range.start);\n\n      // last quarter\n      let start = startOfDay(startOfQuarter(subQuarters(today, 1)));\n      let end = endOfDay(endOfQuarter(subQuarters(today, 1)));\n      let dateFormat = this.$t('config.quarter_fns');\n      let title = format(start, dateFormat);\n\n      // last week\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n\n      // this quarter\n      start = startOfDay(startOfQuarter(today));\n      end = endOfDay(endOfQuarter(today));\n      title = format(start, dateFormat);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n      // next quarter\n      start = startOfDay(startOfQuarter(addQuarters(today, 1)));\n      end = endOfDay(endOfQuarter(addQuarters(today, 1)));\n      title = format(start, dateFormat);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n    },\n    generateHalfYearly: function () {\n      let today = new Date(this.range.start);\n      let start;\n      let end;\n      let title = 'tbd';\n      let half = 1;\n\n      // its currently first half of year:\n      if (today.getMonth() <= 5) {\n        // previous year, last half:\n        start = today;\n        start.setFullYear(start.getFullYear() - 1);\n        start.setMonth(6);\n        start.setDate(1);\n        start = startOfDay(start);\n        end = start;\n        end.setMonth(11);\n        end.setDate(31);\n        end = endOfDay(end);\n        half = 2;\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\n        this.periods.push(\n            {\n              start: start.toDateString(),\n              end: end.toDateString(),\n              title: title\n            }\n        );\n\n        // this year, first half:\n        start = today;\n        start.setMonth(0);\n        start.setDate(1);\n        start = startOfDay(start);\n        end = today;\n        end.setMonth(5);\n        end.setDate(30);\n        end = endOfDay(start);\n        half = 1;\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\n        this.periods.push(\n            {\n              start: start.toDateString(),\n              end: end.toDateString(),\n              title: title\n            }\n        );\n\n        // this year, second half:\n        start = today;\n        start.setMonth(6);\n        start.setDate(1);\n        start = startOfDay(start);\n        end = start;\n        end.setMonth(11);\n        end.setDate(31);\n        end = endOfDay(end);\n        half = 2;\n        title = format(start, this.$t('config.half_year_fns', {half: half}));\n        this.periods.push(\n            {\n              start: start.toDateString(),\n              end: end.toDateString(),\n              title: title\n            }\n        );\n        return;\n      }\n      // this year, first half:\n      start = today;\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n      end = start;\n      end.setMonth(5);\n      end.setDate(30);\n      end = endOfDay(end);\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // this year, current (second) half:\n      start = today;\n      start.setMonth(6);\n      start.setDate(1);\n      start = startOfDay(start);\n      end = today;\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(start);\n      half = 2;\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n\n      // next year, first half:\n      start = today;\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n      end = start;\n      end.setMonth(5);\n      end.setDate(30);\n      end = endOfDay(end);\n      half = 1;\n      title = format(start, this.$t('config.half_year_fns', {half: half}));\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: title\n          }\n      );\n    },\n    generateYearly: function () {\n      let today = new Date(this.range.start);\n      let start;\n      let end;\n\n      // last year\n      start = new Date(today);\n      start.setFullYear(start.getFullYear() - 1);\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n\n      end = new Date(today);\n      end.setFullYear(end.getFullYear() - 1);\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(end);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: start.getFullYear()\n          }\n      );\n\n      // this year\n      start = new Date(today);\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n\n      end = new Date(today);\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(end);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: start.getFullYear()\n          }\n      );\n      // next year\n      start = new Date(today);\n      start.setFullYear(start.getFullYear() + 1);\n      start.setMonth(0);\n      start.setDate(1);\n      start = startOfDay(start);\n\n      end = new Date(today);\n      end.setFullYear(end.getFullYear() + 1);\n      end.setMonth(11);\n      end.setDate(31);\n      end = endOfDay(end);\n\n      this.periods.push(\n          {\n            start: start.toDateString(),\n            end: end.toDateString(),\n            title: start.getFullYear()\n          }\n      );\n    },\n    generatePeriods: function () {\n      this.periods = [];\n      // console.log('The view range is \"' + this.viewRange + '\".');\n      switch (this.viewRange) {\n        case '1D':\n          this.generateDaily();\n          break;\n        case '1W':\n          this.generateWeekly();\n          break;\n        case '1M':\n          this.generateMonthly();\n          break;\n        case '3M':\n          this.generateQuarterly();\n          break;\n        case '6M':\n          this.generateHalfYearly();\n          break;\n        case '1Y':\n          this.generateYearly();\n          break;\n      }\n\n\n      // last 7 days\n      let today = new Date;\n      let end = new Date;\n      end.setDate(end.getDate() - 7);\n      this.periods.push(\n          {\n            start: end.toDateString(),\n            end: today.toDateString(),\n            title: this.$t('firefly.last_seven_days')\n          }\n      );\n\n      // last 30 days:\n      end.setDate(end.getDate() - 23);\n      this.periods.push(\n          {\n            start: end.toDateString(),\n            end: today.toDateString(),\n            title: this.$t('firefly.last_thirty_days')\n          }\n      );\n      // last 30 days\n      // everything\n    }\n  },\n  computed: {\n    ...mapGetters([\n                    'viewRange',\n                    'start',\n                    'end',\n                    'defaultStart',\n                    'defaultEnd'\n                  ]),\n    'datesReady': function () {\n      return null !== this.start && null !== this.end && this.ready;\n    },\n  },\n  watch: {\n    datesReady: function (value) {\n      if (false === value) {\n        return;\n      }\n      this.range.start = new Date(this.start);\n      this.range.end = new Date(this.end);\n      this.generatePeriods();\n\n    },\n    range: function (value) {\n      //console.log('User updated range');\n      this.setStart(value.start);\n      this.setEnd(value.end);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dropdown-item {\n  color: #212529;\n}\n\n.dropdown-item:hover {\n  color: #212529;\n}\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&id=1ce542a2&scoped=true&lang=css&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=1ce542a2&scoped=true&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&id=1ce542a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ce542a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-8 col-md-6 col-sm-12 col-xs-12\"},[_vm._v(\"\\n\\n      currentPage: \"+_vm._s(_vm.currentPage)),_c('br'),_vm._v(\"\\n      page: \"+_vm._s(_vm.page)),_c('br'),_vm._v(\"\\n      Total: \"+_vm._s(_vm.total)),_c('br'),_vm._v(\"\\n      Per page: \"+_vm._s(_vm.perPage)),_c('br'),_vm._v(\"\\n      Loading: \"+_vm._s(_vm.loading)),_c('br'),_vm._v(\" \"),(!_vm.loading)?_c('BPagination',{attrs:{\"total-rows\":_vm.total,\"per-page\":_vm.perPage,\"aria-controls\":\"my-table\"},on:{\"change\":function($event){_vm.currentPage = $event}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-4 col-md-6 col-sm-12 col-xs-12\"},[_c('button',{staticClass:\"btn btn-sm float-right btn-info\",on:{\"click\":_vm.newCacheKey}},[_c('span',{staticClass:\"fas fa-sync\"})])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body p-0\"},[_c('BTable',{ref:\"table\",attrs:{\"id\":\"my-table\",\"small\":\"\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"md\",\"primary-key\":\"key\",\"no-local-sorting\":false,\"items\":_vm.transactions,\"fields\":_vm.fields,\"per-page\":_vm.perPage,\"sort-icon-left\":\"\",\"current-page\":_vm.currentPage,\"busy\":_vm.loading,\"sort-desc\":_vm.sortDesc,\"sort-compare\":_vm.tableSortCompare},on:{\"update:busy\":function($event){_vm.loading=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('span',{staticClass:\"fa fa-spinner fa-spin\"})]},proxy:true},{key:\"cell(type)\",fn:function(data){return [(! data.item.split || data.item.split_parent === null)?_c('span',[('deposit' === data.item.type)?_c('span',{staticClass:\"fas fa-long-arrow-alt-right\"}):('withdrawal' === data.item.type)?_c('span',{staticClass:\"fas fa-long-arrow-alt-left\"}):('transfer' === data.item.type)?_c('span',{staticClass:\"fas fa-long-arrows-alt-h\"}):_vm._e()]):_vm._e()]}},{key:\"cell(description)\",fn:function(data){return [(data.item.split && data.item.split_parent !== null)?_c('span',{staticClass:\"fas fa-angle-right\"}):_vm._e(),_vm._v(\" \"),_c('a',{class:false === data.item.active ? 'text-muted' : '',attrs:{\"href\":'./transactions/show/' + data.item.id,\"title\":data.value}},[_vm._v(_vm._s(data.value))]),_vm._v(\" \"),(data.item.dummy)?_c('span',{staticClass:\"fa fa-spinner fa-spin\"}):_vm._e()]}},{key:\"cell(amount)\",fn:function(data){return [('deposit' === data.item.type)?_c('span',{staticClass:\"text-success\"},[_vm._v(\"\\n                \"+_vm._s(Intl.NumberFormat(_vm.locale, {style: 'currency', currency: data.item.currency_code}).format(data.item.amount))+\"\\n              \")]):('withdrawal' === data.item.type)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"\\n                \"+_vm._s(Intl.NumberFormat(_vm.locale, {style: 'currency', currency: data.item.currency_code}).format(-data.item.amount))+\"\\n              \")]):('transfer' === data.item.type)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"\\n                \"+_vm._s(Intl.NumberFormat(_vm.locale, {style: 'currency', currency: data.item.currency_code}).format(data.item.amount))+\"\\n              \")]):_vm._e()]}},{key:\"cell(date)\",fn:function(data){return [_vm._v(\"\\n              \"+_vm._s(data.item.date_formatted)+\"\\n            \")]}},{key:\"cell(source_account)\",fn:function(data){return [_c('a',{class:false === data.item.active ? 'text-muted' : '',attrs:{\"href\":'./accounts/show/' + data.item.source_id,\"title\":data.item.source_name}},[_vm._v(_vm._s(data.item.source_name))])]}},{key:\"cell(destination_account)\",fn:function(data){return [_c('a',{class:false === data.item.active ? 'text-muted' : '',attrs:{\"href\":'./accounts/show/' + data.item.destination_id,\"title\":data.item.destination_name}},[_vm._v(_vm._s(data.item.destination_name))])]}},{key:\"cell(menu)\",fn:function(data){return [(! data.item.split || data.item.split_parent === null)?_c('div',{staticClass:\"btn-group btn-group-sm\"},[_c('div',{staticClass:\"dropdown\"},[_c('button',{staticClass:\"btn btn-light btn-sm dropdown-toggle\",attrs:{\"type\":\"button\",\"id\":'dropdownMenuButton' + data.item.id,\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('firefly.actions'))+\"\\n                  \")]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":'dropdownMenuButton' + data.item.id}},[_c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":'./transactions/edit/' + data.item.id}},[_c('span',{staticClass:\"fa fas fa-pencil-alt\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.edit')))]),_vm._v(\" \"),_c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":'./transactions/delete/' + data.item.id}},[_c('span',{staticClass:\"fa far fa-trash\"}),_vm._v(\" \"+_vm._s(_vm.$t('firefly.delete')))])])])]):_vm._e(),_vm._v(\" \"),(data.item.split && data.item.split_parent === null && data.item.collapsed === true)?_c('div',{staticClass:\"btn btn-light btn-sm\",on:{\"click\":function($event){return _vm.toggleCollapse(data.item)}}},[_c('span',{staticClass:\"fa fa-caret-down\"}),_vm._v(\"\\n                \"+_vm._s(_vm.$t('firefly.transaction_expand_split'))+\"\\n              \")]):(data.item.split && data.item.split_parent === null && data.item.collapsed === false)?_c('div',{staticClass:\"btn btn-light btn-sm\",on:{\"click\":function($event){return _vm.toggleCollapse(data.item)}}},[_c('span',{staticClass:\"fa fa-caret-up\"}),_vm._v(\"\\n                \"+_vm._s(_vm.$t('firefly.transaction_collapse_split'))+\"\\n              \")]):_vm._e()]}},{key:\"cell(category)\",fn:function(data){return [_vm._v(\"\\n              \"+_vm._s(data.item.category_name)+\"\\n            \")]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[_vm._v(\" (button)\\n          \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-8 col-md-6 col-sm-12 col-xs-12\"},[_c('BPagination',{attrs:{\"total-rows\":_vm.total,\"per-page\":_vm.perPage,\"aria-controls\":\"my-table\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-4 col-md-6 col-sm-12 col-xs-12\"},[_c('button',{staticClass:\"btn btn-sm float-right btn-info\",on:{\"click\":_vm.newCacheKey}},[_c('span',{staticClass:\"fas fa-sync\"})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - TransactionListLarge.vue\n  - Copyright (c) 2020 james@firefly-iii.org\n  -\n  - This file is part of Firefly III (https://github.com/firefly-iii).\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <https://www.gnu.org/licenses/>.\n  -->\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-lg-8 col-md-6 col-sm-12 col-xs-12\">\n\n        currentPage: {{ currentPage }}<br>\n        page: {{ page }}<br>\n        Total: {{ total }}<br>\n        Per page: {{ perPage }}<br>\n        Loading: {{ loading }}<br>\n        <BPagination v-if=\"!loading\"\n                     v-model=\"currentPage\"\n                     @change=\"currentPage = $event\"\n                     :total-rows=\"total\"\n                     :per-page=\"perPage\"\n                     aria-controls=\"my-table\"\n        ></BPagination>\n      </div>\n      <div class=\"col-lg-4 col-md-6 col-sm-12 col-xs-12\">\n        <button @click=\"newCacheKey\" class=\"btn btn-sm float-right btn-info\"><span class=\"fas fa-sync\"></span></button>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-body p-0\">\n            <BTable id=\"my-table\" small striped hover responsive=\"md\" primary-key=\"key\" :no-local-sorting=\"false\"\n                    :items=\"transactions\"\n                    :fields=\"fields\"\n                    :per-page=\"perPage\"\n                    sort-icon-left\n                    ref=\"table\"\n                    :current-page=\"currentPage\"\n                    :busy.sync=\"loading\"\n                    :sort-desc.sync=\"sortDesc\"\n                    :sort-compare=\"tableSortCompare\"\n            >\n              <template #table-busy>\n                <span class=\"fa fa-spinner fa-spin\"></span>\n              </template>\n              <template #cell(type)=\"data\">\n                <span v-if=\"! data.item.split || data.item.split_parent === null\">\n                  <span class=\"fas fa-long-arrow-alt-right\" v-if=\"'deposit' === data.item.type\"></span>\n                  <span class=\"fas fa-long-arrow-alt-left\" v-else-if=\"'withdrawal' === data.item.type\"></span>\n                  <span class=\"fas fa-long-arrows-alt-h\" v-else-if=\"'transfer' === data.item.type\"></span>\n                </span>\n              </template>\n              <template #cell(description)=\"data\">\n                <span class=\"fas fa-angle-right\" v-if=\"data.item.split && data.item.split_parent !== null\"></span>\n                <a :class=\"false === data.item.active ? 'text-muted' : ''\" :href=\"'./transactions/show/' + data.item.id\" :title=\"data.value\">{{\n                    data.value\n                  }}</a>\n                <span class=\"fa fa-spinner fa-spin\" v-if=\"data.item.dummy\"></span>\n              </template>\n              <template #cell(amount)=\"data\">\n                <span class=\"text-success\" v-if=\"'deposit' === data.item.type\">\n                  {{ Intl.NumberFormat(locale, {style: 'currency', currency: data.item.currency_code}).format(data.item.amount) }}\n                </span>\n\n                <span class=\"text-danger\" v-else-if=\"'withdrawal' === data.item.type\">\n                  {{ Intl.NumberFormat(locale, {style: 'currency', currency: data.item.currency_code}).format(-data.item.amount) }}\n                </span>\n\n                <span class=\"text-muted\" v-else-if=\"'transfer' === data.item.type\">\n                  {{ Intl.NumberFormat(locale, {style: 'currency', currency: data.item.currency_code}).format(data.item.amount) }}\n                </span>\n              </template>\n              <template #cell(date)=\"data\">\n                {{ data.item.date_formatted }}\n              </template>\n              <template #cell(source_account)=\"data\">\n                <a :class=\"false === data.item.active ? 'text-muted' : ''\" :href=\"'./accounts/show/' + data.item.source_id\"\n                   :title=\"data.item.source_name\">{{ data.item.source_name }}</a>\n              </template>\n              <template #cell(destination_account)=\"data\">\n                <a :class=\"false === data.item.active ? 'text-muted' : ''\" :href=\"'./accounts/show/' + data.item.destination_id\"\n                   :title=\"data.item.destination_name\">{{ data.item.destination_name }}</a>\n              </template>\n              <template #cell(menu)=\"data\">\n                <div class=\"btn-group btn-group-sm\" v-if=\"! data.item.split || data.item.split_parent === null\">\n                  <div class=\"dropdown\">\n                    <button class=\"btn btn-light btn-sm dropdown-toggle\" type=\"button\" :id=\"'dropdownMenuButton' + data.item.id\" data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\" aria-expanded=\"false\">\n                      {{ $t('firefly.actions') }}\n                    </button>\n                    <div class=\"dropdown-menu\" :aria-labelledby=\"'dropdownMenuButton' + data.item.id\">\n                      <a class=\"dropdown-item\" :href=\"'./transactions/edit/' + data.item.id\"><span class=\"fa fas fa-pencil-alt\"></span> {{\n                          $t('firefly.edit')\n                        }}</a>\n                      <a class=\"dropdown-item\" :href=\"'./transactions/delete/' + data.item.id\"><span class=\"fa far fa-trash\"></span> {{\n                          $t('firefly.delete')\n                        }}</a>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"btn btn-light btn-sm\" v-if=\"data.item.split && data.item.split_parent === null && data.item.collapsed === true\"\n                     v-on:click=\"toggleCollapse(data.item)\">\n                  <span class=\"fa fa-caret-down\"></span>\n                  {{ $t('firefly.transaction_expand_split') }}\n                </div>\n                <div class=\"btn btn-light btn-sm\" v-else-if=\"data.item.split && data.item.split_parent === null && data.item.collapsed === false\"\n                     v-on:click=\"toggleCollapse(data.item)\">\n                  <span class=\"fa fa-caret-up\"></span>\n                  {{ $t('firefly.transaction_collapse_split') }}\n                </div>\n              </template>\n              <template #cell(category)=\"data\">\n                {{ data.item.category_name }}\n              </template>\n            </BTable>\n\n          </div>\n          <div class=\"card-footer\"> (button)\n            <!--\n            <a :href=\"'./transactions/create/' + type\" class=\"btn btn-success\"\n               :title=\"$t('firefly.create_new_transaction')\">{{ $t('firefly.create_new_transaction') }}</a>\n               -->\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-lg-8 col-md-6 col-sm-12 col-xs-12\">\n        <BPagination\n            v-model=\"currentPage\"\n            :total-rows=\"total\"\n            :per-page=\"perPage\"\n            aria-controls=\"my-table\"\n        ></BPagination>\n      </div>\n      <div class=\"col-lg-4 col-md-6 col-sm-12 col-xs-12\">\n        <button @click=\"newCacheKey\" class=\"btn btn-sm float-right btn-info\"><span class=\"fas fa-sync\"></span></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n\n/*\nthis.transactions = [];\n        this.transactionRows = [];\n        this.downloadTransactionList(1);\n\n\n\n\n    downloadTransactionList: function (page) {\n      // console.log('downloadTransactionList(' + page + ')');\n      configureAxios().then(async (api) => {\n        let startStr = format(this.start, 'y-MM-dd');\n        let endStr = format(this.end, 'y-MM-dd');\n        // console.log(this.urlEnd);\n        // console.log(this.urlStart);\n        if (null !== this.urlEnd && null !== this.urlStart) {\n          startStr = format(this.urlStart, 'y-MM-dd');\n          endStr = format(this.urlEnd, 'y-MM-dd');\n        }\n\n        api.get('./api/v1/transactions?type=' + this.type + '&page=' + page + \"&start=\" + startStr + \"&end=\" + endStr + '&cache=' + this.cacheKey)\n            .then(response => {\n                    //let currentPage = parseInt(response.data.meta.pagination.current_page);\n                    //let totalPages = parseInt(response.data.meta.pagination.total_pages);\n                    this.total = parseInt(response.data.meta.pagination.total);\n                    //console.log('total is ' + this.total);\n                    this.transactions.push(...response.data.data);\n                    // if (currentPage < totalPage) {\n                    //   let nextPage = currentPage + 1;\n                    //   this.downloadTransactionList(nextPage);\n                    // }\n                    // if (currentPage >= totalPage) {\n                    // console.log('Looks like all downloaded.');\n                    this.downloaded = true;\n                    this.createTransactionRows();\n                    // }\n\n                  }\n            );\n      });\n    },\n\n\ncreateTransactionRows: function () {\n      this.transactionRows = [];\n      for (let i in this.transactions) {\n        let transaction = this.transactions[i];\n        let transactionRow = this.getTransactionRow(transaction, 0);\n        this.transactionRows.push(transactionRow);\n\n        if (transaction.attributes.transactions.length > 1) {\n          transactionRow.description = transaction.attributes.group_title;\n          transactionRow.split = true;\n          transactionRow.collapsed = transaction.collapsed === true || transaction.collapsed === undefined;\n          transactionRow.amount = transaction.attributes.transactions\n              .map(transaction => Number(transaction.amount))\n              .reduce((sum, n) => sum + n);\n          transactionRow.source_name = '';\n          transactionRow.source_id = '';\n          transactionRow.destination_name = '';\n          transactionRow.destination_id = '';\n\n          if (!transactionRow.collapsed) {\n            for (let i = 0; i < transaction.attributes.transactions.length; i++) {\n              let splitTransactionRow = this.getTransactionRow(transaction, i);\n              splitTransactionRow.key = splitTransactionRow.id + \".\" + i\n              splitTransactionRow.split = true;\n              splitTransactionRow.split_index = i + 1;\n              splitTransactionRow.split_parent = transactionRow;\n              this.transactionRows.push(splitTransactionRow);\n            }\n          }\n        }\n      }\n\n      this.loading = false;\n    },\n    getTransactionRow(transaction, index) {\n      let transactionRow = {};\n      let currentTransaction = transaction.attributes.transactions[index];\n\n      transactionRow.key = transaction.id;\n      transactionRow.id = transaction.id;\n      transactionRow.type = currentTransaction.type;\n      transactionRow.description = currentTransaction.description;\n      transactionRow.amount = currentTransaction.amount;\n      transactionRow.currency_code = currentTransaction.currency_code;\n      transactionRow.date = new Date(currentTransaction.date);\n      transactionRow.date_formatted = format(transactionRow.date, this.$t('config.month_and_day_fns'));\n      transactionRow.source_name = currentTransaction.source_name;\n      transactionRow.source_id = currentTransaction.source_id;\n      transactionRow.destination_name = currentTransaction.destination_name;\n      transactionRow.destination_id = currentTransaction.destination_id;\n      transactionRow.category_id = currentTransaction.category_id;\n      transactionRow.category_name = currentTransaction.category_name;\n      transactionRow.split = false;\n      transactionRow.split_index = 0;\n      transactionRow.split_parent = null;\n\n      return transactionRow;\n    },\n\n\ntoggleCollapse: function (row) {\n      let transaction = this.transactions.filter(transaction => transaction.id === row.id)[0];\n      if (transaction.collapsed === undefined) {\n        transaction.collapsed = false;\n      } else {\n        transaction.collapsed = !transaction.collapsed;\n      }\n      this.createTransactionRows();\n    },\n */\n\nimport {mapGetters, mapMutations} from \"vuex\";\nimport {BPagination, BTable} from 'bootstrap-vue';\nimport format from \"date-fns/format\";\n\nexport default {\n  name: \"TransactionListLarge\",\n  components: {BPagination, BTable},\n  data() {\n    return {\n      locale: 'en-US',\n      fields: [],\n      currentPage: 1,\n      transactions: [],\n      loading: true\n    }\n  },\n  computed: {\n    ...mapGetters('root', ['listPageSize', 'cacheKey']),\n  },\n  created() {\n    this.locale = localStorage.locale ?? 'en-US';\n    this.updateFieldList();\n    //this.currentPage = this.page;\n    this.parseTransactions();\n  },\n  watch: {\n    currentPage: function (value) {\n      console.log('Watch currentPage go to ' + value);\n      this.$emit('jump-page', {page: value});\n    },\n    // page: function (value) {\n    //   console.log('Watch page go to ' + value);\n    //   this.currentPage = value;\n    // },\n    entries: function (value) {\n      this.parseTransactions();\n    },\n  },\n  methods: {\n    ...mapMutations('root', ['refreshCacheKey',]),\n\n    toggleCollapse: function (row) {\n      let transaction = this.entries.filter(transaction => transaction.id === row.id)[0];\n      if (transaction.collapsed === undefined) {\n        transaction.collapsed = false;\n      } else {\n        transaction.collapsed = !transaction.collapsed;\n      }\n      this.parseTransactions();\n    },\n\n    parseTransactions: function () {\n      console.log('parseTransactions. Count is ' + this.entries.length + ' and page is ' + this.page);\n      for (let i = 0; i < this.total; i++) {\n        this.transactions.push({dummy: true});\n      }\n      let index = (this.page - 1) * this.perPage;\n      for (let i in this.entries) {\n        let transaction = this.entries[i];\n        this.transactions[index] = this.getTransactionRow(transaction, 0);\n\n        // this code will not be used for the time being.\n        // if (transaction.attributes.transactions.length > 1) {\n        //   transactionRow.description = transaction.attributes.group_title;\n        //   transactionRow.split = true;\n        //   transactionRow.collapsed = transaction.collapsed === true || transaction.collapsed === undefined;\n        //   transactionRow.amount = transaction.attributes.transactions\n        //       .map(transaction => Number(transaction.amount))\n        //       .reduce((sum, n) => sum + n);\n        //   transactionRow.source_name = '';\n        //   transactionRow.source_id = '';\n        //   transactionRow.destination_name = '';\n        //   transactionRow.destination_id = '';\n        //\n        //   if (!transactionRow.collapsed) {\n        //     for (let i = 0; i < transaction.attributes.transactions.length; i++) {\n        //       let splitTransactionRow = this.getTransactionRow(transaction, i);\n        //       splitTransactionRow.key = splitTransactionRow.id + \".\" + i\n        //       splitTransactionRow.split = true;\n        //       splitTransactionRow.split_index = i + 1;\n        //       splitTransactionRow.split_parent = transactionRow;\n        //\n        //       // need to verify this.\n        //       index++;\n        //       this.transactions[index] = splitTransactionRow;\n        //     }\n        //   }\n        // }\n        index++;\n      }\n\n      this.loading = false;\n    },\n    newCacheKey: function () {\n      alert('TODO');\n      this.refreshCacheKey();\n    },\n    updateFieldList: function () {\n      this.fields = [\n        {key: 'type', label: ' ', sortable: false},\n        {key: 'description', label: this.$t('list.description') + 'X', sortable: true},\n        {key: 'amount', label: this.$t('list.amount'), sortable: true},\n        {key: 'date', label: this.$t('list.date'), sortable: true},\n        {key: 'source_account', label: this.$t('list.source_account'), sortable: true},\n        {key: 'destination_account', label: this.$t('list.destination_account'), sortable: true},\n        {key: 'category_name', label: this.$t('list.category'), sortable: true},\n        {key: 'menu', label: ' ', sortable: false},\n      ];\n    },\n    getTransactionRow(transaction, index) {\n      let transactionRow = {};\n      let currentTransaction = transaction.attributes.transactions[index];\n\n      transactionRow.key = transaction.id;\n      transactionRow.id = transaction.id;\n      transactionRow.type = currentTransaction.type;\n      transactionRow.description = currentTransaction.description;\n      transactionRow.amount = currentTransaction.amount;\n      transactionRow.currency_code = currentTransaction.currency_code;\n      transactionRow.date = new Date(currentTransaction.date);\n      transactionRow.date_formatted = format(transactionRow.date, this.$t('config.month_and_day_fns'));\n      transactionRow.source_name = currentTransaction.source_name;\n      transactionRow.source_id = currentTransaction.source_id;\n      transactionRow.destination_name = currentTransaction.destination_name;\n      transactionRow.destination_id = currentTransaction.destination_id;\n      transactionRow.category_id = currentTransaction.category_id;\n      transactionRow.category_name = currentTransaction.category_name;\n      transactionRow.split = false;\n      transactionRow.split_index = 0;\n      transactionRow.split_parent = null;\n\n      return transactionRow;\n    },\n\n    tableSortCompare: function (aRow, bRow, key, sortDesc, formatter, compareOptions, compareLocale) {\n      let a = aRow[key]\n      let b = bRow[key]\n\n      if (aRow.id === bRow.id) {\n        // Order split transactions normally when compared to each other, except always put the header first\n        if (aRow.split_parent === null) {\n          return sortDesc ? 1 : -1;\n        } else if (bRow.split_parent === null) {\n          return sortDesc ? -1 : 1;\n        }\n      } else {\n        // Sort split transactions based on their parent when compared to other transactions\n        if (aRow.split && aRow.split_parent !== null) {\n          a = aRow.split_parent[key]\n        }\n        if (bRow.split && bRow.split_parent !== null) {\n          b = bRow.split_parent[key]\n        }\n      }\n\n      if (\n          (typeof a === 'number' && typeof b === 'number') ||\n          (a instanceof Date && b instanceof Date)\n      ) {\n        // If both compared fields are native numbers or both are native dates\n        return a < b ? -1 : a > b ? 1 : 0\n      } else {\n        // Otherwise stringify the field data and use String.prototype.localeCompare\n        return toString(a).localeCompare(toString(b), compareLocale, compareOptions)\n      }\n\n      function toString(value) {\n        if (value === null || typeof value === 'undefined') {\n          return ''\n        } else if (value instanceof Object) {\n          return Object.keys(value)\n              .sort()\n              .map(key => toString(value[key]))\n              .join(' ')\n        } else {\n          return String(value)\n        }\n      }\n    },\n  },\n\n  props: {\n    page: {\n      type: Number\n    },\n    perPage: {\n      type: Number,\n      default: 1\n    },\n    sortDesc: {\n      type: Boolean,\n      default: true\n    },\n    total: {\n      type: Number,\n      default: 1\n    },\n    entries: {\n      type: Array,\n      default: function () {\n        return [];\n      }\n    },\n    accountId: {\n      type: Number,\n      default: function () {\n        return 0;\n      }\n    },\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionListLarge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransactionListLarge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TransactionListLarge.vue?vue&type=template&id=2b7b0b2e&\"\nimport script from \"./TransactionListLarge.vue?vue&type=script&lang=js&\"\nexport * from \"./TransactionListLarge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["window","$","jQuery","require","axios","defaults","headers","common","token","document","head","querySelector","content","console","error","localeToken","localStorage","locale","vuei18n","VueI18n","uiv","Vue","lodashClonedeep","mutations","addTransaction","state","newTransaction","defaultTransaction","errors","defaultErrors","transactions","push","resetErrors","payload","index","resetTransactions","setGroupTitle","groupTitle","setCustomDateFields","customDateFields","deleteTransaction","splice","length","setTransactionType","transactionType","setAllowedOpposingTypes","allowedOpposingTypes","setAccountToTransaction","accountToTransaction","updateField","field","value","setTransactionError","setDestinationAllowedTypes","destinationAllowedTypes","setSourceAllowedTypes","sourceAllowedTypes","namespaced","interest_date","book_date","process_date","due_date","payment_date","invoice_date","getDefaultTransaction","getDefaultErrors","getters","actions","setStart","start","setItem","setEnd","end","setDefaultStart","defaultStart","setDefaultEnd","defaultEnd","setViewRange","range","viewRange","initialiseStore","context","dispatch","get","then","response","data","attributes","oldViewRange","commit","restoreViewRangeDates","viewRangeStart","Date","viewRangeEnd","viewRangeDefaultStart","viewRangeDefaultEnd","restoreViewRange","getItem","setDatesFromViewRange","today","startOfDay","endOfDay","startOfWeek","weekStartsOn","endOfWeek","startOfMonth","endOfMonth","startOfQuarter","endOfQuarter","getMonth","setMonth","setDate","listPageSize","timezone","cacheKey","age","object","JSON","parse","now","parseInt","refreshCacheKey","Array","N","join","Math","random","toString","slice","stringify","setCacheKey","setListPageSize","number","setTimezone","orderMode","activeFilter","setOrderMode","setActiveFilter","Vuex","modules","root","root_store","create","transactions_create","edit","transactions_edit","accounts","accounts_index","dashboard","dashboard_index","strict","process","plugins","currencyPreference","setCurrencyPreference","currencyCode","code","currencyId","id","updateCurrencyPreference","currencyResponse","name","symbol","decimal_places","err","module","exports","documentElement","lang","fallbackLocale","messages","components","rawTransactions","transactionRows","type","downloaded","loading","ready","currentPage","perPage","total","sortBy","sortDesc","api","sortableOptions","disabled","chosenClass","onEnd","sortable","ranges","urlStart","urlEnd","watch","storeReady","this","getTransactionList","filterAccountList","computed","cardTitle","$t","created","parts","params","methods","newCacheKey","jumpToPage","log","event","page","downloadTransactionList","indexReady","calculateDateRanges","currentDate","yearAgo","formatDate","createTransactionRows","transactionRow","transaction","description","group_title","split","collapsed","undefined","amount","source_name","source_id","destination_name","destination_id","splitTransactionRow","key","split_index","split_parent","getTransactionRow","currentTransaction","currency_code","date","date_formatted","category_id","category_name","toggleCollapse","_vm","_h","$createElement","_c","_self","_m","_v","attrs","on","$event","staticClass","_l","_s","i18n","props","store","render","createElement","Index","beforeCreate","$store","$mount","el","Calendar","configureAxios","localforage","memoryDriver","forageStore","driver","setup","baseURL","cache","maxAge","readHeaders","exclude","query","debug","source","destination","currency","foreign_currency","foreign_amount","custom_dates","budget","category","bill","tags","piggy_bank","internal_reference","external_url","notes","location","transaction_journal_id","source_account_id","source_account_name","source_account_type","source_account_currency_id","source_account_currency_code","source_account_currency_symbol","destination_account_id","destination_account_name","destination_account_type","destination_account_currency_id","destination_account_currency_code","destination_account_currency_symbol","attachments","selectedAttachments","uploadTrigger","clearTrigger","source_account","name_with_balance","currency_id","currency_name","currency_decimal_places","destination_account","foreign_currency_id","budget_id","bill_id","piggy_bank_id","external_id","links","zoom_level","longitude","latitude","___CSS_LOADER_EXPORT___","defaultRange","periods","resetDate","customDate","generatePeriods","generateDaily","generateWeekly","title","generateMonthly","generateQuarterly","generateHalfYearly","setFullYear","getFullYear","half","generateYearly","getDate","datesReady","options","Intl","DateTimeFormat","year","month","day","format","scopedSlots","_u","fn","ref","inputValue","inputEvents","isDragging","togglePopover","placement","positionFixed","period","_g","class","domProps","model","callback","$$v","expression","fields","updateFieldList","parseTransactions","$emit","entries","alert","tableSortCompare","aRow","bRow","a","b","localeCompare","compareLocale","compareOptions","Object","keys","String","Number","default","Boolean","accountId","_e","proxy","item","active","NumberFormat","style"],"sourceRoot":""}